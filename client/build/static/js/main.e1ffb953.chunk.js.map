{"version":3,"sources":["layouts/styled.js","components/SigninModal/styled.js","components/Modal/styled.js","components/Modal/index.js","components/SigninModal/index.js","layouts/Header/TopNav/styled.js","components/SignoutModal/styled.js","components/AlertModal/styled.js","components/AlertModal/index.js","_actions/types.js","_actions/user_actions.js","components/SignoutModal/index.js","hooks/useInterval.js","layouts/Header/TopNav/index.js","layouts/Header/SearchNav/styled.js","data/ProductCategory.js","components/CategoryMenu/styled.js","components/CategoryMenu/index.js","layouts/Header/SearchNav/index.js","page/ProductNewPage/styled.js","page/ProductNewPage/index.js","page/ProductAINewPage/styled.js","page/ProductAINewPage/index.js","page/MyShopPage/styled.js","page/MyShopPage/Section/ShopProductsPage/styled.js","page/LandingPage/styled.js","utils/Currency.js","utils/Time.js","page/MyShopPage/Section/ShopProductsPage/index.js","page/MyShopPage/Section/ShopCommentsPage/styled.js","page/MyShopPage/Section/ShopCommentsPage/index.js","page/MyShopPage/Section/ShopFavoritesPage/styled.js","page/MyShopPage/Section/ShopFavoritesPage/index.js","page/MyShopPage/Section/ShopReviewsPage/styled.js","page/MyShopPage/Section/ShopReviewsPage/index.js","page/MyShopPage/Section/ShopFollowingsPage/styled.js","page/MyShopPage/Section/ShopFollowersPage/styled.js","page/MyShopPage/Section/ShopFollowingsPage/index.js","page/MyShopPage/Section/ShopFollowersPage/index.js","components/Menu/styled.js","components/Menu/index.js","components/ImageCrop/styled.js","components/ImageCrop/index.js","page/MyShopPage/index.js","page/TalkPage/styled.js","page/TalkPage/Section/TalkListSection/styled.js","page/TalkPage/Section/TalkListSection/index.js","page/TalkPage/Section/TalkRoomSection/styled.js","page/TalkPage/Section/TalkRoomSection/index.js","page/TalkPage/index.js","layouts/Footer/styled.js","layouts/Footer/index.js","page/KakaoOAuthPage/styled.js","page/KakaoOAuthPage/index.js","page/FacebookOAuthPage/styled.js","page/FacebookOAuthPage/index.js","page/NaverOAuthPage/styled.js","page/NaverOAuthPage/index.js","page/PhoneNumberAuthPage/styled.js","page/PhoneNumberAuthPage/index.js","page/SignupPage/styled.js","page/SignupPage/Sections/AuthNumberPage/styled.js","page/SignupPage/Sections/UserPasswordPage/styled.js","page/SignupPage/Sections/UserPasswordPage/index.js","page/SignupPage/Sections/AuthNumberPage/index.js","page/SignupPage/index.js","page/SigninPage/styled.js","page/SigninPage/index.js","hoc/Auth.js","page/LandingPage/Section/Banner/styled.js","page/LandingPage/Section/Banner/index.js","page/LandingPage/index.js","page/ProductDetailPage/styled.js","page/ProductDetailPage/Section/ProductAskSection/styled.js","page/ProductDetailPage/Section/ProductAskSection/index.js","page/ProductDetailPage/Section/StoreInfoSection/styled.js","page/ProductDetailPage/Section/StoreInfoSection/index.js","page/ProductDetailPage/Section/ProductFavoriteSection/styled.js","page/ProductDetailPage/Section/ProductFavoriteSection/index.js","page/ProductDetailPage/Section/ProductTalkSection/styled.js","page/ProductDetailPage/Section/ProductTalkSection/index.js","page/ProductDetailPage/index.js","page/ProductManagePage/styled.js","page/ProductManagePage/index.js","page/SettingPage/styled.js","page/SettingPage/Section/SignoutPage/styled.js","page/SettingPage/Section/SignoutPage/index.js","page/SettingPage/Section/UpdatePasswordPage/index.js","page/SettingPage/Section/DeleteMyAccountPage/index.js","page/SettingPage/index.js","page/DevPage/styled.js","page/DevPage/index.js","page/SearchPage/styled.js","page/SearchPage/index.js","page/TestPage/styled.js","page/TestPage/MessageSection.js","page/TestPage/index.js","layouts/index.js","App.js","_reducers/user_reducer.js","_reducers/signin_modal_reducer.js","_reducers/index.js","index.js"],"names":["Container","styled","div","MarketIcon","ModalContainer","KakaoAuthButton","button","FacebookAuthButton","NaverAuthButton","OriginAuthButton","CloseButton","Modal","children","show","close","style","useCloseButton","stopPropagation","useCallback","e","onClick","defaultProps","withRouter","history","KAKAO_REST_API_KEY","process","REACT_APP_KAKAO_AUTH_REST_API_KEY","KAKAO_REDIRECT_URI","REACT_APP_KAKAO_AUTH_REDIRECT_URI","NAVER_CLIENT_ID","REACT_APP_NAVER_AUTH_CLIENT_ID","NAVER_REDIRECT_URI","REACT_APP_NAVER_AUTH_REDIRECT_URI","padding","width","height","backgroundColor","size","transform","window","location","href","position","left","top","push","className","AppDownloadButton","MyShopMenu","AlignCenter","TitleContainer","ContentContainer","ButtonContainer","SubmitButton","CancelButton","AlertModal","title","useOutsideClose","useSubmitButton","useCancelButton","submitButtonName","confirm","SIGNUP_PROCESS_USER","AUTH_USER","SHOW_SIGNIN_MODAL","CLOSE_SIGNIN_MODAL","authUser","request","axios","get","withCredentials","then","data","catch","err","type","payload","dispatch","useDispatch","success","console","error","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useState","showSigninModal","setShowSigninModal","user","useSelector","state","showSignoutModal","setShowSignoutModal","showMyShopMenu","setShowMyShopMenu","onToggleSignin","log","isSignin","prev","alert","paddingLeft","color","marginRight","_id","Content","Title","SearchInput","input","AutoSell","Sell","MyShop","LighteningTalk","SellerCenter","ProductLargeCategory","ProductMediumCategory","여성의류","남성의류","신발","가방","스타굿즈","키덜트","반려동물용품","기타","ProductSmallCategory","SideMenu","Content1","CategoryMenu","showCategoryMenu","setShowCategoryMenu","onHoverMouse","map","v","searchValue","setSearchValue","showDeleteSearch","setShowDeleteSearch","useLocation","onSubmitSearch","preventDefault","search","replace","split","keyword","onSubmit","placeholder","onChange","target","value","ImgUploadLabel","label","InputSection","table","ErrorMessage","td","ProductImgSection","Category","TrandingArea","Status","Exchange","Price","ProductDescription","Tag","ProductQuantity","SubmitSection","productImage","setProductImage","productImageURL","setProductImageURL","required","productImageError","setProductImageError","setTitle","minLength","titleError","setTitleError","showDeleteTitleButton","setShowDeleteTitleButton","mediumCategory","setMediumCategory","smallCategory","setSmallCategory","large","medium","small","selectCategory","setSelectCategory","selectCategoryError","setSelectCategoryError","address","setAddress","showPostcodeModal","setShowPostcodeModal","newProduct","setNewProduct","enableExchange","setEnableExchange","price","setPrice","minPrice","priceError","setPriceError","containDeliveryCharge","setContainDeliveryCharge","description","setDescription","descriptionError","setDescriptionError","tagValue","setTagValue","tag","setTag","quantity","setQuantity","loading","setLoading","onClickDeleteTag","splice","parseInt","onValidateTotal","validateResult","length","resizeFile","file","a","Promise","resolve","Resizer","imageFileResizer","uri","onSubmitNewProduct","onValidateQuantity","formData","FormData","i","resizedImage","append","largeCateogry","replaceAll","stringPayload","JSON","stringify","post","res","onSelectLargeCategory","valueOf","innerText","onClosePostcodeModal","onSelectMediumCategory","onSelectSmallCategory","onDeleteProductImage","imageDataArray","imageURLArray","imageList","for","accept","multiple","files","URL","createObjectURL","ref","imageURL","src","right","disabled","onComplete","fullAddress","extraAddress","addressType","bname","buildingName","name","checked","htmlFor","test","KRValue","toString","onKeyPress","tagList","trim","key","includes","onFocus","margin","ProductImageDescription","UserStore","EditProfileMenu","UserStoreContents","TabMenu","TabContent","SectionTitle","h2","ProductSection","Product","ProductContents","intOfKr","daysFormat","getDate","staticDate","Date","seconds","minutes","Math","floor","hours","days","weeks","months","years","oneDaysFormat","timeKrFormat","parseTime","parse","toISOString","substring","timeKrFormatAndMMDD","ADD_TIME","newDate","ISODate","formatMMDD","ShopProductsPage","products","product","to","thumbnailImgURL","alt","createdAt","InputContainer","CommentTextarea","textarea","CommentSection","shopId","comment","setComment","commentList","setCommentList","inputComment","getShopComment","_commentList","forEach","content","_fromWriterId","onClickNestedComment","userId","storeName","focus","onClickDeleteComment","commentId","delete","isNestedComment","profileURL","storeId","FavoritesContainer","Favorites","ShopFavoritesPage","favorite","setFavorite","favoriteList","_fromProductId","ReviewTextarea","ReviewSection","hishory","inputReview","review","setReview","reviewList","setReviewList","getShopReview","_reviewList","onClickNestedReview","onClickDeleteReview","reviewId","isNestedReview","UserContainer","User","following","setFollowing","followerList","_toUserId","getUserFollowing","follower","setFollower","_fromUserId","getUserFollower","MenuContainer","Menu","modalRef","onCloseModal","addEventListener","removeEventListener","InputHidden","InputLabel","upImg","setUpImg","imgRef","previewCanvasRef","unit","aspect","x","y","crop","setCrop","completedCrop","setCompletedCrop","onLoad","img","image","canvas","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","pixelRatio","devicePixelRatio","setTransform","imageSmoothingQuality","drawImage","modalHeader","toBlob","patch","onClickUploadImage","onImageLoaded","c","circularCrop","minWidth","minHeight","keepSelection","marginBottom","maxWidth","maxHeight","reader","FileReader","result","readAsDataURL","display","getUserId","tabMenuList","tabMenu","setTabMenu","setStoreName","storeDescription","setStoreDescription","editStoreName","setEditStoreName","editStoreDescription","setEditStoreDescription","setProducts","showEditMenu","setShowEditMenu","showResetModal","setShowResetModal","showCropImageModal","setShowCropImageModal","userInfo","setUserInfo","isMyStore","setIsMyStore","isFollow","setIsFollow","onClickTabMenu","tabIndex","setResState","path","pathname","myStore","getUserDetail","getIsFollow","line","menu","index","LoadingWrapper","TalkListWrapper","roomList","setRoomList","_roomList","Object","keys","_data","toProductId","buyerId","_buyerId","sellerId","_sellerId","lastContent","room","productId","receiverId","roomId","receiverProfileURL","receiverName","lastMessage","NullContainer","TalkRoomWrapper","TalkForm","form","socket","io","connect","talkScrollRef","talkToProduct","setTalkToProduct","talkToUser","setTalkToUser","message","setMessage","messageList","setMessageList","getProductParam","getReceiverIdQuery","getMessageList","_messageList","notRead","scrollToBottom","getRoomIdQuery","searchParams","on","fromUserId","bottom","scrollHeight","clientHeight","scrollTo","isMine","fromUserProfileURL","receive","fromUserName","toUserId","toUserName","toUserProfileURL","save","senderId","emit","TalkPage","useHistory","ItemSection","ContentTitle","span","Content2","Content3","Footer","rel","userName","setUserName","userProfileURI","setUserProfileURI","useCookies","getUserInfo","code","properties","nickname","thumbnail_image","FacebookOAuthPage","NaverOAuthPage","Form","InputWrapper","phoneNumberInput","phoneNumber","setPhoneNumber","validate","phoneNumberError","setPhoneNumberError","submitButton","setSubmitButton","totalValidate","PasswordCreateRules","AgreeMyPhoneSection","Timer","ResendMessage","PasswordBadge","UserPasswordPage","passwordInput","passwordCheckInput","password","setPassword","passwordError","setPasswordError","passwordCheck","setPasswordCheck","wrong","passwordCheckError","setPasswordCheckError","showPassword","setShowPassword","showPasswordCheck","setShowPasswordCheck","authNumberInput","userPasswordPage","setUserPasswordPage","authNumber","setAuthNumber","authNumberError","setAuthNumberError","timer","setTimer","showResendMessage","setShowResendMessage","showResendAlert","setShowResendAlert","showEndMessage","setShowEndMessage","initTimer","timeFormat","disableForm","min","sec","onClickResendCode","setTimeout","autoFocus","fontSize","authNumberPage","setAuthNumberPage","agreeMyPhone","setAgreeMyPhone","Component","option","AuthenticationCheck","SlideContainer","StaticContainer","Banner","slideImgRef","currentImgIndex","setCurrentImgIndex","totalImgIndex","onClickNextImage","LandingPage","productList","setProductList","ProductContainer","ProductImgs","ProductContent","ProductButton","ProductDescriptionContainer","ProductInfoContainer","ProductInfoContent","AskTextarea","AskSection","getProductId","askList","setAskList","ask","setAsk","inputAsk","getProductAsk","contactList","contact","onClickNestedAsk","askId","onClickDeleteAsk","isNestedAsk","AddFavoriteAlert","store","showAddFavoriteAlert","setShowAddFavoriteAlert","cnt","mySelect","undefined","toStoreId","background","StoreProfile","StoreTable","TalkButton","storeOfProduct","showTalkModal","setShowTalkModal","setStore","isMyProduct","setIsMyProduct","myProduct","onShowTalkModal","setProduct","productImgs","setProductImgs","setUser","setTotalImgIndex","productImg","productImgURLs","transition","productImgURL","productFavoriteCount","ProductTable","showAlertModal","setShowAlertModal","alertMessage","setAlertMessage","showDeleteModal","setShowDeleteModal","targetProduct","setTargetProduct","onCloseDeleteModal","onCloseAlertModal","onShowAlertModal","onChangeSellState","selected","updatedAt","SettingTabMenu","SettingCommonSection","currentPassword","setCurrentPassword","currentPasswordError","setCurrentPasswordError","incorrect","showCurrentPassword","setShowCurrentPassword","showSuccessModal","setShowSuccessModal","onCloseSuccessModal","textAlign","SettingPage","setTabIndex","DevPage","MessageWithoutResult","propTypes","PropTypes","setKeyword","getTitleSearch","fontWeight","MessageSection","msgList","msg","TestPage","setMsg","setMsgList","_msgList","exact","component","Auth","KakaoOAuthPage","PhoneNumberAuthPage","SigninPage","SignupPage","SearchPage","ProductNewPage","ProductAINewPage","ProductManagePage","ProductDetailPage","MyShopPage","App","Layout","from","initialState","rootReducer","combineReducers","action","signinModal","dotenv","config","defaults","baseURL","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","StrictMode","CookiesProvider","Reducer","__REDUX_DEVTOOLS_EXTENSION__","document","getElementById"],"mappings":"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QsB,KAAK,aAHjB,8CAaR,wBAAQzB,QAASkF,EAAjB,uCAIN,cAAC,GAAD,CACEzF,KAAMqF,EACNpF,MArHsB,WAC1BqF,GAAoB,MAsHlB,cAAC,GAAD,CACEtF,KAAMgF,EACN/E,MArHqB,WACzBgF,GAAmB,YCjCV9F,GAAYC,IAAOC,IAAV,mNAUT6G,GAAU9G,IAAOC,IAAV,+IAOP8G,GAAQ/G,IAAOC,IAAV,6LAUL+G,GAAchH,IAAOiH,MAAV,qNAWXC,GAAWlH,IAAOC,IAAV,qYAwBRkH,GAAOnH,IAAOC,IAAV,qYAwBJmH,GAASpH,IAAOC,IAAV,kYAuBNoH,GAAiBrH,IAAOC,IAAV,mPAedqH,GAAetH,IAAOC,IAAV,4L,qCC9HZsH,GAAuB,CAClC,2BACA,2BACA,eACA,eACA,kCACA,wCACA,kCACA,kCACA,wCACA,2BACA,qBACA,+CACA,4BACA,yCACA,4BACA,wCACA,wCACA,kCACA,uCACA,gBAGWC,GAAwB,CACnCC,2BAAM,CACJ,4BACA,eACA,qBACA,8CACA,qBACA,2BACA,eACA,eACA,qBACA,qBACA,eACA,qBACA,qBACA,kCACA,eACA,eACA,2BACA,kCACA,2BACA,8CACA,mCAEFC,2BAAM,CACJ,4BACA,eACA,qBACA,8CACA,qBACA,eACA,qBACA,kCACA,eACA,qBACA,qBACA,eACA,eACA,kCACA,2BACA,8CACA,mCAGFC,eAAI,CAAC,2BAAQ,qBAAO,sBACpBC,eAAI,CAAC,2BAAQ,2BAAQ,sBACrB,kCAAU,CAAC,eAAM,sBACjB,wCAAW,CACT,eACA,eACA,eACA,kCACA,wCACA,wCACA,kCACA,4BACA,yCAEF,kCAAU,CACR,qBACA,2BACA,2DACA,wBACA,kCACA,0BACA,2CAEF,kCAAU,CACR,eACA,eACA,eACA,eACA,qBACA,0DACA,oDACA,qBACA,wCACA,qDACA,eACA,eACA,2BACA,eACA,eACA,eACA,kCACA,kCACA,gDAEF,wCAAW,CACT,qBACA,qBACA,yCACA,8CACA,qDACA,gDAEFC,2BAAM,CACJ,2BACA,qBACA,uBACA,uBACA,uBACA,uBACA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","file":"static/js/main.e1ffb953.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  //width: 1020px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & a {\r\n    text-decoration: none;\r\n    color: #000000;\r\n    border: 2px solid red;\r\n    padding: 5px 75px;\r\n    //margin: 5px 75px;\r\n  }\r\n\r\n  & a:hover {\r\n    cursor: pointer;\r\n    color: #ffffff;\r\n    font-weight: 800;\r\n  }\r\n`;\r\n\r\nexport const MarketIcon = styled.div`\r\n  margin-top: 30px;\r\n  border-radius: 10px;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n  background-color: #d80c18;\r\n  color: #ffffff;\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  padding-top: 0px;\r\n\r\n  & h1 {\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  & h2 {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  & h3 {\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: gray;\r\n    position: absolute;\r\n    bottom: 0px;\r\n  }\r\n  & button {\r\n    width: 270px;\r\n    height: 35px;\r\n    margin: 5px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px #dadada;\r\n    background-color: #ffffff;\r\n    position: relative;\r\n    transition: 0.1s;\r\n  }\r\n  & button:hover {\r\n    cursor: pointer;\r\n    color: #ffffff;\r\n    font-weight: 800;\r\n  }\r\n  & button:hover span {\r\n    color: #ffffff;\r\n  }\r\n\r\n  & hr {\r\n    position: absolute;\r\n    color: gray;\r\n    bottom: 50px;\r\n    width: 340px;\r\n  }\r\n`;\r\nexport const KakaoAuthButton = styled.button`\r\n  & span {\r\n    color: #3b1e1e;\r\n  }\r\n  &:hover {\r\n    background-color: #3b1e1e;\r\n    color: #000000;\r\n  }\r\n`;\r\nexport const FacebookAuthButton = styled.button`\r\n  & span {\r\n    color: #3a5ca9;\r\n  }\r\n  &:hover {\r\n    background-color: #3a5ca9;\r\n  }\r\n`;\r\nexport const NaverAuthButton = styled.button`\r\n  & span {\r\n    color: #1ec800;\r\n  }\r\n  &:hover {\r\n    background-color: #1ec800;\r\n  }\r\n`;\r\nexport const OriginAuthButton = styled.button`\r\n  & span {\r\n    color: #9997a7;\r\n  }\r\n  &:hover {\r\n    background-color: #9997a7;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 200;\r\n  background: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  display: inline-block;\r\n  position: sticky;\r\n  z-index: 5000;\r\n  color: #000;\r\n  border: 1px solid #808e9b;\r\n  border-radius: 5px;\r\n  background-color: #fff;\r\n  box-shadow: 0px 0px 5px 1px #7f8fa6;\r\n`;\r\n\r\nexport const CloseButton = styled.button`\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  font-size: 28px;\r\n  position: absolute;\r\n  color: gray;\r\n  top: 8px;\r\n  right: 12px;\r\n  z-index: 5010;\r\n`;\r\n","import React, { useCallback } from \"react\";\r\nimport { Container, ModalContainer, CloseButton } from \"./styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Modal({ children, show, close, style, useCloseButton }) {\r\n  const stopPropagation = useCallback((e) => {\r\n    // console.log(\"Modal, stopPropagation!\");\r\n    e.stopPropagation();\r\n    //HTML에서는 이벤트 버블링(자식의 클릭이벤트가 부모까지 전달이 된다)이 있는데 이걸 부모태그로 버블링이 되지 않게함\r\n  }, []);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    //Container는 화면 전체 영역이다\r\n    <Container onClick={close}>\r\n      <ModalContainer onClick={stopPropagation} style={style}>\r\n        {useCloseButton && <CloseButton onClick={close}>&times;</CloseButton>}\r\n        {children}\r\n      </ModalContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nModal.defaultProps = {\r\n  useCloseButton: true,\r\n  //props 의 기본값을 지정, 보내는 컴포넌트 측에서 값을 넣어주지 않아도\r\n  // defaultProps의 값을 대입해줌\r\n  // 입력사항이 없는 알림창 모달 같은 경우에 버튼을 사용하지 않기 위해 인자를 받음\r\n};\r\n\r\nModal.propTypes = {\r\n  show: PropTypes.bool,\r\n  close: PropTypes.func,\r\n  style: PropTypes.any,\r\n};\r\n\r\nexport default Modal;\r\n","import {\r\n  Container,\r\n  ModalContainer,\r\n  MarketIcon,\r\n  KakaoAuthButton,\r\n  FacebookAuthButton,\r\n  NaverAuthButton,\r\n  OriginAuthButton,\r\n} from \"./styled\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { BsFillLightningChargeFill } from \"react-icons/bs\";\r\nimport { RiKakaoTalkFill } from \"react-icons/ri\";\r\nimport { AiFillFacebook } from \"react-icons/ai\";\r\nimport { SiNaver } from \"react-icons/si\";\r\nimport { FiSmartphone } from \"react-icons/fi\";\r\n\r\nimport Modal from \"../Modal\";\r\nimport axios from \"axios\";\r\n\r\nfunction SigninModal({ children, show, close, history }) {\r\n  // Kakao OAuth\r\n  const KAKAO_REST_API_KEY = process.env.REACT_APP_KAKAO_AUTH_REST_API_KEY;\r\n  const KAKAO_REDIRECT_URI = process.env.REACT_APP_KAKAO_AUTH_REDIRECT_URI;\r\n\r\n  const NAVER_CLIENT_ID = process.env.REACT_APP_NAVER_AUTH_CLIENT_ID;\r\n  const NAVER_REDIRECT_URI = process.env.REACT_APP_NAVER_AUTH_REDIRECT_URI;\r\n\r\n  // Naver OAuth\r\n\r\n  const onSubmitKakaoAuth = () => {\r\n    // axios\r\n    //   .get(\"/oauth/kakao\")\r\n    //   .then((res) => {\r\n    //     console.log(\"kakao res >> \", res);\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     console.log(\"kakao err >> \", err);\r\n    //   });\r\n\r\n    window.location.href = `https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${KAKAO_REST_API_KEY}&redirect_uri=${KAKAO_REDIRECT_URI}`;\r\n  };\r\n  const onSubmitFacebookAuth = () => {\r\n    history.push(\"/oauth/facebook\");\r\n  };\r\n  const onSubmitNaverAuth = () => {\r\n    const state = \"404\";\r\n    window.location.href = `https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=${NAVER_CLIENT_ID}&redirect_uri=${NAVER_REDIRECT_URI}&state=${state}`;\r\n\r\n    //\r\n    // axios\r\n    //   .get(\"/oauth/naver\")\r\n    //   .then((res) => {\r\n    //     console.log(\"naver res >> \", res);\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     console.log(\"naver err >> \", err);\r\n    //   });\r\n\r\n    //history.push(\"/oauth/naver\");\r\n  };\r\n  const onSubmitPhoneCertification = () => {\r\n    history.push(\"/auth\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Modal\r\n        show={show}\r\n        close={close}\r\n        style={{\r\n          padding: \"10px 30px\",\r\n          width: \"340px\",\r\n          height: \"480px\",\r\n          backgroundColor: \"#f7f7f7\",\r\n        }}\r\n      >\r\n        <ModalContainer>\r\n          <MarketIcon>\r\n            <BsFillLightningChargeFill\r\n              size={20}\r\n              style={{ transform: \"rotate(-5deg)\" }}\r\n            />\r\n          </MarketIcon>\r\n          <h1>벼락장터로 중고거래 시작하기</h1>\r\n          <h2>간편하게 가입하고 상품을 확인하세요</h2>\r\n\r\n          <KakaoAuthButton onClick={onSubmitKakaoAuth}>\r\n            <span>\r\n              <RiKakaoTalkFill\r\n                size={18}\r\n                style={{ position: \"absolute\", left: \"40px\", top: \"8px\" }}\r\n              />\r\n            </span>\r\n            카카오로 이용하기\r\n          </KakaoAuthButton>\r\n          <FacebookAuthButton onClick={onSubmitFacebookAuth}>\r\n            <span>\r\n              <AiFillFacebook\r\n                size={17}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"41px\",\r\n                  top: \"9px\",\r\n                }}\r\n              />\r\n            </span>\r\n            페이스북으로 이용하기\r\n          </FacebookAuthButton>\r\n          <NaverAuthButton onClick={onSubmitNaverAuth}>\r\n            <span>\r\n              <SiNaver\r\n                size={15}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"42px\",\r\n                  top: \"10px\",\r\n                }}\r\n              />\r\n            </span>\r\n            네이버로 이용하기\r\n          </NaverAuthButton>\r\n\r\n          <OriginAuthButton onClick={onSubmitPhoneCertification}>\r\n            <span>\r\n              <FiSmartphone\r\n                size={18}\r\n                style={{ position: \"absolute\", left: \"40px\", top: \"9px\" }}\r\n              />\r\n            </span>\r\n            휴대전화로 이용하기\r\n          </OriginAuthButton>\r\n\r\n          <hr />\r\n          <h3 className=\"notice\">\r\n            도움이 필요하면 <strong>이메일</strong>또는\r\n            <strong>고객센터</strong>로 문의 부탁드립니다. <br /> 고객센터\r\n            운영시간: 00시~24시 (주말/공휴일 제외)\r\n          </h3>\r\n        </ModalContainer>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(SigninModal);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  // 아래 z-index 수정 시 메뉴가 나타나지 않을 수 있음\r\n  z-index: 12;\r\n  border-bottom: 1px solid #eeeeee;\r\n  padding: 0 10px 0 32px;\r\n  position: relative;\r\n\r\n  & .left {\r\n    float: left;\r\n  }\r\n  & .right {\r\n    float: right;\r\n  }\r\n\r\n  & button {\r\n    margin: 10px 0;\r\n    color: #666666;\r\n    font-size: 13px;\r\n    border: none;\r\n    background-color: transparent;\r\n    position: relative;\r\n  }\r\n\r\n  & button:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\nexport const AppDownloadButton = styled.button`\r\n  border: 1px solid black;\r\n  position: relative;\r\n`;\r\n\r\nexport const MyShopMenu = styled.div`\r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  border: 1px solid #eeeeee;\r\n  right: 8px;\r\n\r\n  & ul {\r\n  }\r\n  & li {\r\n    text-align: center;\r\n    padding: 6px 16px;\r\n    font-size: 12px;\r\n    color: #999999;\r\n  }\r\n  & li:hover {\r\n    color: #000000;\r\n    cursor: pointer;\r\n  }\r\n  & li:first-child {\r\n    padding-top: 12px;\r\n  }\r\n  & li:last-child {\r\n    padding-bottom: 12px;\r\n  }\r\n`;\r\n\r\nexport const MarketIcon = styled.div`\r\n  top: 3px;\r\n  left: -16px;\r\n  position: absolute;\r\n  border-radius: 4px;\r\n  display: inline-block;\r\n  width: 16px;\r\n  height: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n  background-color: #d80c18;\r\n  color: #ffffff;\r\n`;\r\n\r\nexport const AlignCenter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & a {\r\n    text-decoration: none;\r\n    color: #000000;\r\n    border: 2px solid red;\r\n    padding: 5px 75px;\r\n    //margin: 5px 75px;\r\n  }\r\n\r\n  & a:hover {\r\n    cursor: pointer;\r\n    color: #ffffff;\r\n    font-weight: 800;\r\n  }\r\n`;\r\n\r\nexport const MarketIcon = styled.div`\r\n  margin-top: 30px;\r\n  border-radius: 10px;\r\n  width: 32px;\r\n  height: 32px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n  background-color: #d80c18;\r\n  color: #ffffff;\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  padding-top: 0px;\r\n\r\n  & h1 {\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  & h2 {\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  & h3 {\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: gray;\r\n    position: absolute;\r\n    bottom: 0px;\r\n  }\r\n  & button {\r\n    width: 270px;\r\n    height: 35px;\r\n    margin: 5px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px #dadada;\r\n    background-color: #ffffff;\r\n    position: relative;\r\n    transition: 0.1s;\r\n  }\r\n  & button:hover {\r\n    cursor: pointer;\r\n    color: #ffffff;\r\n    font-weight: 800;\r\n  }\r\n  & button:hover span {\r\n    color: #ffffff;\r\n  }\r\n\r\n  & hr {\r\n    position: absolute;\r\n    color: gray;\r\n    bottom: 50px;\r\n    width: 340px;\r\n  }\r\n`;\r\nexport const KakaoAuthButton = styled.button`\r\n  & span {\r\n    color: #3b1e1e;\r\n  }\r\n  &:hover {\r\n    background-color: #3b1e1e;\r\n    color: #000000;\r\n  }\r\n`;\r\nexport const FacebookAuthButton = styled.button`\r\n  & span {\r\n    color: #3a5ca9;\r\n  }\r\n  &:hover {\r\n    background-color: #3a5ca9;\r\n  }\r\n`;\r\nexport const NaverAuthButton = styled.button`\r\n  & span {\r\n    color: #1ec800;\r\n  }\r\n  &:hover {\r\n    background-color: #1ec800;\r\n  }\r\n`;\r\nexport const OriginAuthButton = styled.button`\r\n  & span {\r\n    color: #9997a7;\r\n  }\r\n  &:hover {\r\n    background-color: #9997a7;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 200;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: default;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nexport const ModalContainer = styled.div`\r\n  position: absolute;\r\n  display: inline-block;\r\n  color: #000;\r\n  border-radius: 4px;\r\n  background-color: #fbfbfb;\r\n  box-shadow: 0px 0px 5px 1px #a1a6ab;\r\n  padding: 16px;\r\n  min-width: 260px;\r\n  max-width: 400px;\r\n`;\r\n\r\nexport const CloseButton = styled.div`\r\n  border: none;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n  position: absolute;\r\n  top: 4px;\r\n  right: 4px;\r\n  padding: 0 8px;\r\n  color: #9b9c9c;\r\n  height: 32px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 800;\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n`;\r\n\r\nexport const ContentContainer = styled.div`\r\n  font-size: 16px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const ButtonContainer = styled.div`\r\n  margin-top: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 16px;\r\n  & button {\r\n    border: none;\r\n    border-radius: 4px;\r\n    //width: 120px;\r\n    width: 100%;\r\n    height: 50px;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const SubmitButton = styled.button`\r\n  background-color: #ff5058;\r\n  color: #ffffff;\r\n  font-weight: 800;\r\n\r\n  &:hover {\r\n    background-color: #ff3039;\r\n  }\r\n`;\r\n\r\nexport const CancelButton = styled.button`\r\n  background-color: #f4f4fa;\r\n  color: #72707f;\r\n\r\n  &:hover {\r\n    background-color: #eeeeee;\r\n    color: #000000;\r\n  }\r\n`;\r\n","import React, { useCallback } from \"react\";\r\nimport {\r\n  Container,\r\n  ModalContainer,\r\n  CloseButton,\r\n  TitleContainer,\r\n  ContentContainer,\r\n  ButtonContainer,\r\n  SubmitButton,\r\n  CancelButton,\r\n} from \"./styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction AlertModal({\r\n  children,\r\n  show,\r\n  close,\r\n  style,\r\n  title,\r\n  useOutsideClose,\r\n  useCloseButton,\r\n  useSubmitButton,\r\n  useCancelButton,\r\n  submitButtonName,\r\n  confirm,\r\n}) {\r\n  const stopPropagation = useCallback((e) => {\r\n    e.stopPropagation();\r\n  }, []);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Container onClick={useOutsideClose ? close : null}>\r\n      <ModalContainer onClick={stopPropagation} style={style}>\r\n        {useCloseButton && <CloseButton onClick={close}>&times;</CloseButton>}\r\n        <TitleContainer>{title}</TitleContainer>\r\n        <ContentContainer>{children}</ContentContainer>\r\n        <ButtonContainer>\r\n          {useCancelButton && <CancelButton onClick={close}>취소</CancelButton>}\r\n          {useSubmitButton && (\r\n            <SubmitButton onClick={confirm}>{submitButtonName}</SubmitButton>\r\n          )}\r\n        </ButtonContainer>\r\n      </ModalContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nAlertModal.defaultProps = {\r\n  useOutsideClose: true,\r\n  useCloseButton: true,\r\n  useSubmitButton: true,\r\n  useCancelButton: true,\r\n  submitButtonName: \"확인\",\r\n};\r\n\r\n//PropTypes 적용안됌 추후 수정예정, 확인한 날짜 : 21-07-23\r\nAlertModal.propTypes = {\r\n  show: PropTypes.bool,\r\n  close: PropTypes.func,\r\n  style: PropTypes.any,\r\n  title: PropTypes.string,\r\n  useOutsideClose: PropTypes.bool,\r\n  useCloseButton: PropTypes.bool,\r\n  useSubmitButton: PropTypes.bool,\r\n  useCancelButton: PropTypes.bool,\r\n  submitButtonName: PropTypes.string,\r\n  confirm: PropTypes.func,\r\n};\r\n\r\nexport default AlertModal;\r\n","// user\r\nexport const SIGNUP_PROCESS_USER = \"signup_process_user\";\r\nexport const AUTH_USER = \"auth_user\";\r\n\r\n// signin_modal\r\nexport const SHOW_SIGNIN_MODAL = \"show_signin_modal\";\r\nexport const CLOSE_SIGNIN_MODAL = \"close_signin_modal\";\r\n","import axios from \"axios\";\r\nimport { SIGNUP_PROCESS_USER, AUTH_USER } from \"./types\";\r\n\r\n// 로그인, 회원가입 중 입력 데이터 임시 저장\r\nexport function signupProcessUser(data) {\r\n  return {\r\n    type: SIGNUP_PROCESS_USER,\r\n    payload: data,\r\n  };\r\n}\r\n\r\n// 로그인 후 유저 인증 정보 불러오기\r\nexport function authUser() {\r\n  const request = axios\r\n    .get(\"/user/auth\", { withCredentials: true })\r\n    .then(({ data }) => {\r\n      return data;\r\n    })\r\n    .catch((err) => {});\r\n\r\n  return {\r\n    type: AUTH_USER,\r\n    payload: request,\r\n  };\r\n}\r\n","import { Container } from \"./styled\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport AlertModal from \"../AlertModal\";\r\nimport axios from \"axios\";\r\nimport { authUser } from \"../../_actions/user_actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction SignoutModal({ show, close, history }) {\r\n  const dispatch = useDispatch();\r\n\r\n  // 로그아웃\r\n  function signout() {\r\n    axios\r\n      .get(\"/user/signout\", { withCredentials: true })\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          dispatch(authUser());\r\n        }\r\n        close();\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"err >> \", err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <AlertModal\r\n        show={show}\r\n        close={close}\r\n        title=\"로그아웃\"\r\n        useCloseButton={false}\r\n        confirm={signout}\r\n      >\r\n        계정을 로그아웃 하시겠습니까?\r\n      </AlertModal>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(SignoutModal);\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nfunction useInterval(callback, delay) {\r\n  const savedCallback = useRef(); // 최근에 들어온 callback을 저장할 ref를 하나 만든다.\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback; // callback이 바뀔 때마다 ref를 업데이트 해준다.\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current(); // tick이 실행되면 callback 함수를 실행시킨다.\r\n    }\r\n    if (delay !== null) {\r\n      // 만약 delay가 null이 아니라면\r\n      let id = setInterval(tick, delay); // delay에 맞추어 interval을 새로 실행시킨다.\r\n      return () => clearInterval(id); // unmount될 때 clearInterval을 해준다.\r\n    }\r\n  }, [delay]); // delay가 바뀔 때마다 새로 실행된다.\r\n}\r\n\r\nexport default useInterval;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport SigninModal from \"../../../components/SigninModal\";\r\nimport {\r\n  Container,\r\n  MarketIcon,\r\n  AppDownloadButton,\r\n  AlignCenter,\r\n  ButtonWrapper,\r\n  MyShopMenu,\r\n} from \"./styled\";\r\nimport { AiFillStar, AiFillCaretDown } from \"react-icons/ai\";\r\nimport { BsFillLightningChargeFill } from \"react-icons/bs\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport SignoutModal from \"../../../components/SignoutModal\";\r\nimport useInterval from \"../../../hooks/useInterval\";\r\n\r\nfunction TopNav({ history }) {\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const [showSignoutModal, setShowSignoutModal] = useState(false);\r\n\r\n  const [showMyShopMenu, setShowMyShopMenu] = useState(false);\r\n\r\n  const onShowSignoutModal = () => {\r\n    setShowSignoutModal((prev) => !prev);\r\n  };\r\n  const onCloseSignoutModal = () => {\r\n    setShowSignoutModal(false);\r\n  };\r\n\r\n  const onCloseSigninModal = () => {\r\n    setShowSigninModal(false);\r\n  };\r\n\r\n  // 해당 함수는 로그인/회원가입, 내상점 버튼과 공용으로 사용함\r\n  const onToggleSignin = () => {\r\n    console.log(showMyShopMenu);\r\n    // 로그인이 되어 있지 않으면 로그인 모달 띄우기\r\n    // 로그인이 되어 있으면 내상점 메뉴 모달 띄우기\r\n    if (!user.isSignin) setShowSigninModal((prev) => !prev);\r\n    else setShowMyShopMenu((prev) => !prev);\r\n  };\r\n\r\n  const onClickAppDownload = () => {\r\n    alert(\"벼락장터는 앱으로 출시하지 않았습니다.\");\r\n  };\r\n  const onClickAddFavorite = () => {\r\n    alert(\"Ctrl + D 키를 누르면 즐겨찾기에 추가하실 수 있습니다.\");\r\n  };\r\n\r\n  function onShowMyShopMenu() {\r\n    setShowMyShopMenu(true);\r\n    // useInterval(() => {\r\n    //   setShowMyShopMenu(false);\r\n    // }, 2000);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <div className=\"left\">\r\n          <AppDownloadButton onClick={onClickAppDownload}>\r\n            <MarketIcon>\r\n              <BsFillLightningChargeFill\r\n                size={10}\r\n                style={{ transform: \"rotate(-5deg)\" }}\r\n              />\r\n            </MarketIcon>\r\n            <div>앱다운로드</div>\r\n          </AppDownloadButton>\r\n          <button onClick={onClickAddFavorite} style={{ paddingLeft: \"48px\" }}>\r\n            <AiFillStar\r\n              size={18}\r\n              style={{\r\n                color: \"#e9b457\",\r\n                position: \"absolute\",\r\n                left: \"26px\",\r\n                top: \"2px\",\r\n              }}\r\n            />\r\n            즐겨찾기\r\n          </button>\r\n        </div>\r\n        <div className=\"right\">\r\n          {user.isSignin ? (\r\n            <button\r\n              onClick={onShowSignoutModal}\r\n              style={{ marginRight: \"16px\" }}\r\n            >\r\n              로그아웃\r\n            </button>\r\n          ) : (\r\n            <button onClick={onToggleSignin} style={{ marginRight: \"16px\" }}>\r\n              로그인/회원가입\r\n            </button>\r\n          )}\r\n          {user.isSignin ? (\r\n            <>\r\n              <button onClick={onToggleSignin}>\r\n                <AlignCenter>\r\n                  내상점&nbsp;\r\n                  <AiFillCaretDown />\r\n                </AlignCenter>\r\n              </button>\r\n              {showMyShopMenu && (\r\n                <MyShopMenu>\r\n                  <ul>\r\n                    <li\r\n                      onClick={() => {\r\n                        setShowMyShopMenu(false);\r\n                        history.push(`/shop/${user.isSignin.data._id}`);\r\n                      }}\r\n                    >\r\n                      내상품\r\n                    </li>\r\n                    <li\r\n                      onClick={() => {\r\n                        setShowMyShopMenu(false);\r\n\r\n                        history.push(`/shop/${user.isSignin.data._id}`);\r\n                      }}\r\n                    >\r\n                      찜한상품\r\n                    </li>\r\n                    <li\r\n                      onClick={() => {\r\n                        setShowMyShopMenu(false);\r\n                        history.push(\"/setting\");\r\n                      }}\r\n                    >\r\n                      계정설정\r\n                    </li>\r\n                  </ul>\r\n                </MyShopMenu>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <button onClick={onToggleSignin}>내상점 </button>\r\n          )}\r\n        </div>\r\n      </Container>\r\n      <SignoutModal\r\n        show={showSignoutModal}\r\n        close={onCloseSignoutModal}\r\n      ></SignoutModal>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={onCloseSigninModal}\r\n      ></SigninModal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(TopNav);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: sticky;\r\n  top: 0px;\r\n  height: 148px;\r\n  display: flex;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #eeeeee;\r\n  background-color: #ffffff;\r\n  z-index: 10;\r\n`;\r\nexport const Content = styled.div`\r\n  position: relative;\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  //border: 1px solid black;\r\n`;\r\nexport const Title = styled.div`\r\n  position: absolute;\r\n  top: 36px;\r\n  left: 0px;\r\n  font-size: 34px;\r\n  font-weight: bold;\r\n  letter-spacing: 2px;\r\n  color: #d80c18;\r\n  margin: 0 0 0 28px;\r\n`;\r\nexport const SearchInput = styled.input`\r\n  position: absolute;\r\n  top: 36px;\r\n  left: 230px;\r\n  width: 300px;\r\n  height: 36px;\r\n  font-size: 14px;\r\n  border: 2px solid #d80c18;\r\n  padding: 0 54px 0 16px;\r\n  color: #787878;\r\n`;\r\nexport const AutoSell = styled.div`\r\n  padding: 0 0 0 24px;\r\n  & span {\r\n    font-size: 24px;\r\n    position: absolute;\r\n    top: -4px;\r\n    right: 54px;\r\n  }\r\n\r\n  font-size: 14px;\r\n  color: #333333;\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 300px;\r\n\r\n  &::before {\r\n    content: \"|\";\r\n    position: absolute;\r\n    top: 2px;\r\n    right: -16px;\r\n    font-size: 2px;\r\n    color: #ababab;\r\n  }\r\n`;\r\nexport const Sell = styled.div`\r\n  padding: 0 0 0 24px;\r\n  & span {\r\n    font-size: 24px;\r\n    position: absolute;\r\n    top: -4px;\r\n    right: 54px;\r\n  }\r\n\r\n  font-size: 14px;\r\n  color: #333333;\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 190px;\r\n\r\n  &::before {\r\n    content: \"|\";\r\n    position: absolute;\r\n    top: 2px;\r\n    right: -16px;\r\n    font-size: 2px;\r\n    color: #ababab;\r\n  }\r\n`;\r\nexport const MyShop = styled.div`\r\n  padding: 0 0 0 24px;\r\n  & span {\r\n    font-size: 20px;\r\n    position: absolute;\r\n    top: -3px;\r\n    right: 44px;\r\n  }\r\n  font-size: 14px;\r\n  color: #333333;\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 94px;\r\n\r\n  &::before {\r\n    content: \"|\";\r\n    position: absolute;\r\n    top: 2px;\r\n    right: -16px;\r\n    font-size: 2px;\r\n    color: #ababab;\r\n  }\r\n`;\r\nexport const LighteningTalk = styled.div`\r\n  padding: 0 0 0 24px;\r\n  & span {\r\n    font-size: 24px;\r\n    position: absolute;\r\n    top: -5px;\r\n    right: 44px;\r\n  }\r\n  font-size: 14px;\r\n  color: #333333;\r\n  position: absolute;\r\n  top: 40px;\r\n  right: 0px;\r\n`;\r\n\r\nexport const SellerCenter = styled.div`\r\n  position: absolute;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #212121;\r\n  bottom: 22px;\r\n  left: 55px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","export const ProductLargeCategory = [\r\n  \"여성의류\",\r\n  \"남성의류\",\r\n  \"신발\",\r\n  \"가방\",\r\n  \"시계/쥬얼리\",\r\n  \"패션 액세서리\",\r\n  \"디지털/가전\",\r\n  \"스포츠/레저\",\r\n  \"차량/오토바이\",\r\n  \"스타굿즈\",\r\n  \"키덜트\",\r\n  \"예술/희귀/수집품\",\r\n  \"음반/악기\",\r\n  \"도서/티켓/문구\",\r\n  \"뷰티/미용\",\r\n  \"가구/인테리어\",\r\n  \"생활/가공식품\",\r\n  \"유아동/출산\",\r\n  \"반려동물용품\",\r\n  \"기타\",\r\n];\r\n\r\nexport const ProductMediumCategory = {\r\n  여성의류: [\r\n    \"패딩/점퍼\",\r\n    \"코트\",\r\n    \"맨투맨\",\r\n    \"후드티/후드집업\",\r\n    \"티셔츠\",\r\n    \"블라우스\",\r\n    \"셔츠\",\r\n    \"바지\",\r\n    \"청바지\",\r\n    \"반비지\",\r\n    \"치마\",\r\n    \"원피스\",\r\n    \"가디건\",\r\n    \"니트/스웨터\",\r\n    \"자켓\",\r\n    \"정장\",\r\n    \"점프수트\",\r\n    \"조끼/베스트\",\r\n    \"트레이닝\",\r\n    \"언더웨어/홈웨어\",\r\n    \"테마/이벤트\",\r\n  ],\r\n  남성의류: [\r\n    \"패딩/점퍼\",\r\n    \"코트\",\r\n    \"맨투맨\",\r\n    \"후드티/후드집업\",\r\n    \"티셔츠\",\r\n    \"셔츠\",\r\n    \"가디건\",\r\n    \"니트/스웨터\",\r\n    \"바지\",\r\n    \"청바지\",\r\n    \"반비지\",\r\n    \"자켓\",\r\n    \"정장\",\r\n    \"조끼/베스트\",\r\n    \"트레이닝\",\r\n    \"언더웨어/홈웨어\",\r\n    \"테마/이벤트\",\r\n  ],\r\n\r\n  신발: [\"스니커즈\", \"남성화\", \"여성화\"],\r\n  가방: [\"여성가방\", \"남성가방\", \"여행용\"],\r\n  \"시계/쥬얼리\": [\"시계\", \"쥬얼리\"],\r\n  \"패션 액세서리\": [\r\n    \"지갑\",\r\n    \"벨트\",\r\n    \"모자\",\r\n    \"목도리/장갑\",\r\n    \"스카프/넥타이\",\r\n    \"안경/선글라스\",\r\n    \"양말/스타킹\",\r\n    \"우산/양산\",\r\n    \"기타 악세사리\",\r\n  ],\r\n  \"디지털/가전\": [\r\n    \"모바일\",\r\n    \"가전제품\",\r\n    \"오디오/영상/관련기기\",\r\n    \"PC/노트북\",\r\n    \"게임/타이틀\",\r\n    \"카메라/DSLR\",\r\n    \"PC부품/저장장치\",\r\n  ],\r\n  \"스포츠/레저\": [\r\n    \"골프\",\r\n    \"캠핑\",\r\n    \"낚시\",\r\n    \"축구\",\r\n    \"자전거\",\r\n    \"인라인/스케이트보드\",\r\n    \"전동킥보드/전동휠\",\r\n    \"테니스\",\r\n    \"등산/클라이밍\",\r\n    \"헬스/요가/필라테스\",\r\n    \"야구\",\r\n    \"볼링\",\r\n    \"배드민턴\",\r\n    \"탁구\",\r\n    \"농구\",\r\n    \"당구\",\r\n    \"겨울 스포츠\",\r\n    \"수상 스포츠\",\r\n    \"기타 구기 스포츠\",\r\n  ],\r\n  \"차량/오토바이\": [\r\n    \"국산차\",\r\n    \"수입차\",\r\n    \"차량 용품/부품\",\r\n    \"오토바이/스쿠터\",\r\n    \"오토바이 용품/부품\",\r\n    \"산업용 차량/정비\",\r\n  ],\r\n  스타굿즈: [\r\n    \"보이그룹\",\r\n    \"걸그룹\",\r\n    \"솔로(남)\",\r\n    \"솔로(여)\",\r\n    \"배우(남)\",\r\n    \"배우(여)\",\r\n    \"방송/예능/캐릭터\",\r\n  ],\r\n  키덜트: [\r\n    \"피규어/인형\",\r\n    \"레고/블럭\",\r\n    \"프라모델\",\r\n    \"RC/드론\",\r\n    \"보드게임\",\r\n    \"서바이벌건\",\r\n    \"기타(키덜트)\",\r\n  ],\r\n  \"예술/희귀/수집품\": [\"희귀/수집품\", \"골동품\", \"예술작품\"],\r\n  \"음반/악기\": [\"CD/DVD/LP\", \"악기\"],\r\n  \"도서/티켓/문구\": [\"도서\", \"문구\", \"기프티콘/쿠폰\", \"상품권\", \"티켓\"],\r\n  \"뷰티/미용\": [\r\n    \"스킨케어\",\r\n    \"색조메이크업\",\r\n    \"베이스메이크업\",\r\n    \"바디/헤어케어\",\r\n    \"향수/아로마\",\r\n    \"네일아트/케어\",\r\n    \"미용소품/기기\",\r\n    \"다이어트/이너뷰티\",\r\n    \"남성 화장품\",\r\n  ],\r\n  \"가구/인테리어\": [\"인테리어\", \"가구\"],\r\n  \"생활/가공식품\": [\"주방용품\", \"생활용품\", \"식품\", \"산업용품\"],\r\n  \"유아동/출산\": [\r\n    \"베이비의류(0-2세)\",\r\n    \"여아의류(3-6세)\",\r\n    \"여주니어의류(7세~)\",\r\n    \"남아의류(3-6세)\",\r\n    \"남주니어의류(7세~)\",\r\n    \"유아동신발/잡화\",\r\n    \"교육/완구/인형\",\r\n    \"유아도용품\",\r\n    \"출산/임부용품\",\r\n    \"이유용품/유아식기\",\r\n  ],\r\n  반려동물용품: [\r\n    \"강아지 용품\",\r\n    \"강아지 사료/간식\",\r\n    \"기타(강아지)\",\r\n    \"고양이 용품\",\r\n    \"고양이 사료/간식\",\r\n    \"기타(고양이)\",\r\n    \"기타(반려동물 용품)\",\r\n    \"기타(반려동물 사료/간식)\",\r\n  ],\r\n  기타: [],\r\n};\r\n\r\nexport const ProductSmallCategory = {\r\n  \"여성의류-패딩/점퍼\": [\r\n    \"롱패딩\",\r\n    \"숏패딩\",\r\n    \"블루종/항공점퍼\",\r\n    \"기타(패딩/점퍼)\",\r\n  ],\r\n  \"여성의류-코트\": [\"겨울 코트\", \"봄/가을 코트\"],\r\n  \"여성의류-티셔츠\": [\"긴팔 티셔츠\", \"반팔 티셔츠\", \"민소매\"],\r\n  \"여성의류-블라우스\": [\"긴팔\", \"반팔\", \"민소매/오프숄더\", \"기타(블라우스)\"],\r\n  \"여성의류-셔츠\": [\r\n    \"솔리드(단색) 셔츠\",\r\n    \"스트라이프 셔츠\",\r\n    \"체크 셔츠\",\r\n    \"청/데님 셔츠\",\r\n    \"기타(셔츠)\",\r\n  ],\r\n  \"여성의류-바지\": [\"면바지\", \"슬랙스\", \"조거팬츠\", \"레깅스\", \"기타(바지)\"],\r\n  \"여성의류-청바지\": [\r\n    \"일자 청바지\",\r\n    \"스키니\",\r\n    \"부츠컷\",\r\n    \"배기\",\r\n    \"기타(청바지)\",\r\n  ],\r\n  \"여성의류-반바지\": [\r\n    \"면 반바지\",\r\n    \"밴딩/스포츠\",\r\n    \"데님 반바지\",\r\n    \"기타(반바지)\",\r\n  ],\r\n  \"여성의류-치마\": [\"롱 스커트\", \"미디 스커트\", \"미니 스커트\"],\r\n  \"여성의류-원피스\": [\"롱 원피스\", \"미디 원피스\", \"미니 원피스\"],\r\n  \"여성의류-자켓\": [\r\n    \"가죽\",\r\n    \"데님\",\r\n    \"트위드\",\r\n    \"야상자켓\",\r\n    \"바람막이\",\r\n    \"기타(자켓)\",\r\n  ],\r\n  \"여성의류-정장\": [\"자켓\", \"치마\", \"세트\", \"기타(정장)\"],\r\n  \"여성의류-조끼/베스트\": [\r\n    \"니트 조끼\",\r\n    \"브이넥 조끼\",\r\n    \"청/데님 조끼\",\r\n    \"패딩 조끼\",\r\n    \"퍼 조끼\",\r\n    \"기타(조끼/베스트)\",\r\n  ],\r\n  \"여성의류-트레이닝\": [\"상의\", \"하의\", \"세트\", \"기타(트레이닝)\"],\r\n\r\n  \"남성의류-패딩/점퍼\": [\r\n    \"롱패딩\",\r\n    \"숏패딩\",\r\n    \"블루종/항공점퍼\",\r\n    \"기타(패딩/점퍼)\",\r\n  ],\r\n  \"남성의류-코트\": [\"겨울 코트\", \"봄/가을 코트\"],\r\n  \"남성의류-티셔츠\": [\"긴팔 티셔츠\", \"반팔 티셔츠\", \"민소매\"],\r\n  \"남성의류-블라우스\": [\"긴팔\", \"반팔\", \"민소매/오프숄더\", \"기타(블라우스)\"],\r\n  \"남성의류-셔츠\": [\r\n    \"솔리드(단색) 셔츠\",\r\n    \"스트라이프 셔츠\",\r\n    \"체크 셔츠\",\r\n    \"청/데님 셔츠\",\r\n    \"기타(셔츠)\",\r\n  ],\r\n  \"남성의류-바지\": [\"면바지\", \"슬랙스\", \"조거팬츠\", \"기타(바지)\"],\r\n  \"남성의류-청바지\": [\r\n    \"일자 청바지\",\r\n    \"스키니\",\r\n    \"부츠컷\",\r\n    \"배기\",\r\n    \"기타(청바지)\",\r\n  ],\r\n  \"남성의류-반바지\": [\"면\", \"데님\", \"밴딩/스포츠\", \"기타(반바지)\"],\r\n  \"남성의류-자켓\": [\r\n    \"가죽\",\r\n    \"데님\",\r\n    \"블레이저\",\r\n    \"바람막이\",\r\n    \"야상자켓\",\r\n    \"기타(자켓)\",\r\n  ],\r\n  \"남성의류-정장\": [\"자켓\", \"베스트\", \"세트\", \"바지\", \"기타(정장)\"],\r\n  \"남성의류-조끼/베스트\": [\r\n    \"니트 조끼\",\r\n    \"브이넥 조끼\",\r\n    \"청/데님 조끼\",\r\n    \"패딩 조끼\",\r\n    \"기타(조끼/베스트)\",\r\n  ],\r\n  \"남성의류-트레이닝\": [\"상의\", \"하의\", \"세트\", \"기타(트레이닝)\"],\r\n  \"신발-남성화\": [\"샌들/슬리퍼\", \"구두/로퍼\", \"워커/부츠\", \"기타(남성화)\"],\r\n  \"신발-여성화\": [\r\n    \"샌들/슬리퍼\",\r\n    \"구두\",\r\n    \"단화/플랫슈즈\",\r\n    \"워커/부츠\",\r\n    \"기타(여성화)\",\r\n  ],\r\n  //소분류 신발 이상 작성안함\r\n};\r\n","import styled from \"styled-components\";\r\n\r\n//Select Color: #f64448\r\n\r\nexport const Container = styled.div`\r\n  border: none;\r\n  position: relative;\r\n  & .product_category {\r\n    font-size: 14px;\r\n    width: 190px;\r\n  }\r\n`;\r\n\r\nexport const SideMenu = styled.div`\r\n  position: absolute;\r\n  font-size: 28px;\r\n  color: #212121;\r\n  bottom: 10px;\r\n  left: 0px;\r\n  //margin: 10px;\r\n\r\n  &:hover {\r\n    color: #d80c18;\r\n  }\r\n\r\n  &:hover .product_category {\r\n    display: inline;\r\n  }\r\n`;\r\n\r\nexport const Content1 = styled.div`\r\n  background-color: #ffffff;\r\n  border: 1px solid #eeeeee;\r\n  z-index: 10;\r\n  position: absolute;\r\n  top: 148px;\r\n  & li {\r\n    padding: 4px 20px;\r\n  }\r\n  & li:first-child {\r\n    padding: 10px 20px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    font-weight: bold;\r\n  }\r\n  & li:first-child:hover {\r\n    background-color: #ffffff;\r\n    color: #000000;\r\n  }\r\n  & li:nth-child(2) {\r\n    margin-top: 16px;\r\n  }\r\n  & li:last-child {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  & li:hover {\r\n    background-color: #f64448;\r\n    color: #ffffff;\r\n  }\r\n`;\r\nexport const Content2 = styled.div`\r\n  border: 1px solid black; ;\r\n`;\r\nexport const Content3 = styled.div`\r\n  border: 1px solid black; ;\r\n`;\r\n","import { ProductLargeCategory } from \"../../data/ProductCategory\";\r\nimport { Container, Content1, SideMenu } from \"./styled\";\r\nimport { GiHamburgerMenu } from \"react-icons/gi\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\nconst CategoryMenu = () => {\r\n  const [showCategoryMenu, setShowCategoryMenu] = useState(false);\r\n\r\n  const onHoverMenuButton = () => {\r\n    console.log(\"hover Menu\");\r\n    setShowCategoryMenu(true);\r\n  };\r\n\r\n  const onHoverMenuContent = () => {\r\n    console.log(\"hover Menu\");\r\n    setShowCategoryMenu(true);\r\n  };\r\n\r\n  const onCloseCategoryMenu = () => {\r\n    console.log(\"Close\");\r\n    setShowCategoryMenu(false);\r\n  };\r\n\r\n  const onToggleMenu = () => {\r\n    setShowCategoryMenu((prev) => !prev);\r\n  };\r\n  return (\r\n    <Container>\r\n      <SideMenu onClick={onToggleMenu} className=\"cursor_pointer\">\r\n        <GiHamburgerMenu />\r\n      </SideMenu>\r\n\r\n      {showCategoryMenu && (\r\n        <Content1\r\n          className=\"product_category\"\r\n          onHoverMouse={onHoverMenuContent}\r\n        >\r\n          <ui>\r\n            <li>전체 카테고리</li>\r\n            {ProductLargeCategory &&\r\n              ProductLargeCategory.map((v) => <li>{v}</li>)}\r\n          </ui>\r\n        </Content1>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CategoryMenu;\r\n","import {\r\n  Container,\r\n  Content,\r\n  Title,\r\n  SearchInput,\r\n  Sell,\r\n  MyShop,\r\n  LighteningTalk,\r\n  SideMenu,\r\n  SellerCenter,\r\n  AutoSell,\r\n} from \"./styled\";\r\nimport { BsFillLightningChargeFill } from \"react-icons/bs\";\r\nimport { IoIosArrowForward, IoIosClose } from \"react-icons/io\";\r\nimport { GiBottomRight3DArrow } from \"react-icons/gi\";\r\nimport { BiSearch } from \"react-icons/bi\";\r\nimport { MdOutlineSell } from \"react-icons/md\";\r\nimport { BsShop } from \"react-icons/bs\";\r\nimport { RiMessage3Line } from \"react-icons/ri\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport CategoryMenu from \"../../../components/CategoryMenu\";\r\nimport { Link, Route, Switch, useLocation, withRouter } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SigninModal from \"../../../components/SigninModal\";\r\n\r\nconst SearchNav = ({ history }) => {\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [showDeleteSearch, setShowDeleteSearch] = useState(false);\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    // 검색 파라미터 분석\r\n    const [type, keyword] = location.search.replace(\"?\", \"\").split(\"=\");\r\n    setSearchValue(keyword);\r\n  }, []);\r\n\r\n  function onSubmitSearch(e) {\r\n    e.preventDefault();\r\n\r\n    if (searchValue === \"\") return;\r\n\r\n    history.push(`/search?q=${searchValue}`);\r\n  }\r\n\r\n  const onChangeSearchValue = (e) => {\r\n    if (e.target.value !== \"\") setShowDeleteSearch(true);\r\n    else setShowDeleteSearch(false);\r\n\r\n    setSearchValue(e.target.value);\r\n  };\r\n  const onDeleteSearchValue = () => {\r\n    setSearchValue(\"\");\r\n    setShowDeleteSearch(false);\r\n  };\r\n\r\n  const onClickHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n  const onClickAutoSell = () => {\r\n    if (!user.isSignin) setShowSigninModal((prev) => !prev);\r\n    else history.push(\"/product/new-ai\");\r\n  };\r\n  const onClickSell = () => {\r\n    if (!user.isSignin) setShowSigninModal((prev) => !prev);\r\n    else history.push(\"/product/new\");\r\n  };\r\n  const onClickShop = () => {\r\n    console.log(user.isSignin);\r\n    if (!user.isSignin) setShowSigninModal((prev) => !prev);\r\n    else history.push(`/shop/${user.isSignin.data._id}`);\r\n  };\r\n  const onClickTalk = () => {\r\n    if (!user.isSignin) setShowSigninModal((prev) => !prev);\r\n    else history.push(\"/talk\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <Title id=\"logo_title\" onClick={onClickHome} className=\"cursor_pointer\">\r\n          <BsFillLightningChargeFill\r\n            size={28}\r\n            style={{\r\n              transform: \"rotate(-5deg)\",\r\n              position: \"absolute\",\r\n              left: \"-32px\",\r\n              top: \"4px\",\r\n            }}\r\n          />\r\n          벼락장터\r\n        </Title>\r\n        {/* Search Section */}\r\n        <form onSubmit={onSubmitSearch}>\r\n          <SearchInput\r\n            placeholder=\"상품명 입력\"\r\n            // placeholder=\"상품명, @상점명, #태그명 입력\"\r\n            onChange={onChangeSearchValue}\r\n            value={searchValue}\r\n          ></SearchInput>\r\n        </form>\r\n        <BiSearch\r\n          onClick={onSubmitSearch}\r\n          className=\"cursor_pointer\"\r\n          size={20}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"47px\",\r\n            left: \"570px\",\r\n            color: \"red\",\r\n          }}\r\n        />\r\n        {showDeleteSearch && (\r\n          <IoIosClose\r\n            onClick={onDeleteSearchValue}\r\n            className=\"cursor_pointer\"\r\n            size={28}\r\n            style={{\r\n              position: \"absolute\",\r\n              top: \"42px\",\r\n              left: \"630px\",\r\n              color: \"#787878\",\r\n            }}\r\n          />\r\n        )}\r\n        {/* End Search Section */}\r\n        {/* Right Nav Section */}\r\n        <AutoSell className=\"cursor_pointer\" onClick={onClickAutoSell}>\r\n          <span>\r\n            <GiBottomRight3DArrow />\r\n          </span>\r\n          자동등록\r\n        </AutoSell>\r\n        <Sell className=\"cursor_pointer\" onClick={onClickSell}>\r\n          <span>\r\n            <MdOutlineSell />\r\n          </span>\r\n          판매하기\r\n        </Sell>\r\n        <MyShop className=\"cursor_pointer\" onClick={onClickShop}>\r\n          <span>\r\n            <BsShop />\r\n          </span>\r\n          내상점\r\n        </MyShop>\r\n        <LighteningTalk className=\"cursor_pointer\" onClick={onClickTalk}>\r\n          <span>\r\n            <RiMessage3Line />\r\n          </span>\r\n          벼락톡\r\n        </LighteningTalk>\r\n        {/* End Right Nav Section */}\r\n        <CategoryMenu />\r\n        <SellerCenter>\r\n          벼락장터 판매자센터\r\n          <IoIosArrowForward style={{ position: \"absolute\", top: \"4px\" }} />\r\n        </SellerCenter>\r\n      </Content>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchNav);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  #error {\r\n    border: 1px solid orange;\r\n  }\r\n  .error {\r\n    border: 1px solid orange;\r\n  }\r\n  & .active_menu {\r\n    color: red;\r\n    font-weight: 800;\r\n  }\r\n  & input[type=\"text\"]:hover {\r\n    border: 1px solid black;\r\n  }\r\n  & input[type=\"text\"]:focus {\r\n    border: 1px solid black;\r\n  }\r\n\r\n  & ul {\r\n    height: 60px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  & li:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & li:first-child {\r\n    //padding: 0px 30px 0px 0px;\r\n  }\r\n\r\n  & li {\r\n    border-right: 1px solid #eeeeee;\r\n    font-size: 13px;\r\n    float: left;\r\n    padding: 0px 30px;\r\n    margin: 20px 0;\r\n  }\r\n\r\n  & li:last-child {\r\n    float: left;\r\n    border: none;\r\n  }\r\n\r\n  & .bold_hr {\r\n    height: 1px;\r\n    background-color: #000000;\r\n    margin-top: 28px;\r\n  }\r\n\r\n  & h1 {\r\n    font-size: 24px;\r\n    font-weight: 400;\r\n  }\r\n\r\n  & h1 span {\r\n    font-size: 16px;\r\n    color: red;\r\n  }\r\n\r\n  & h2 {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    //border: 1px solid black;\r\n  }\r\n\r\n  & h2 span {\r\n    color: red;\r\n  }\r\n\r\n  & h2 .img_cnt {\r\n    font-size: 14px;\r\n    color: gray;\r\n  }\r\n\r\n  //  라디오 버튼\r\n  input[type=\"radio\"] {\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    height: 20px;\r\n    width: 20px;\r\n    border-radius: 100%;\r\n    border: 3px solid #c3c2cc;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    background-color: white;\r\n    position: relative;\r\n  }\r\n\r\n  input[type=\"radio\"]:hover::before {\r\n    content: \"\";\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: black;\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    opacity: 0.1;\r\n    top: -8px;\r\n    left: -8px;\r\n  }\r\n\r\n  input[type=\"radio\"]:checked {\r\n    border: 3px solid #ff5058;\r\n  }\r\n\r\n  input[type=\"radio\"]:checked::after {\r\n    background-color: #ff5058;\r\n    border-radius: 100%;\r\n    top: 2px;\r\n    left: 2px;\r\n    position: absolute;\r\n    content: \"\";\r\n    width: 10px;\r\n    height: 10px;\r\n  }\r\n\r\n  label {\r\n    margin: 0px 40px 0 6px;\r\n  }\r\n\r\n  . img_upload_label {\r\n    margin: 0px;\r\n  }\r\n`;\r\n\r\nexport const ImgUploadLabel = styled.label`\r\n  color: #8a8a8a;\r\n  border: 1px solid #d7d7d7;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  width: 200px;\r\n  height: 200px;\r\n`;\r\n\r\nexport const InputSection = styled.table`\r\n  padding: 0;\r\n  margin: 0;\r\n\r\n  tr {\r\n    border-bottom: 1px solid #d7d7d7;\r\n  }\r\n\r\n  td {\r\n    padding: 32px 0;\r\n  }\r\n\r\n  td:first-child {\r\n    width: 170px;\r\n    text-align: left;\r\n    vertical-align: top;\r\n  }\r\n\r\n  td:nth-child(2) {\r\n    width: 846px;\r\n  }\r\n\r\n  .img_description {\r\n    color: #4aa4ff;\r\n    font-size: 14px;\r\n    line-height: 28px;\r\n  }\r\n\r\n  input {\r\n    padding: 12px 16px;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    border: 1px solid #a4a4a4;\r\n  }\r\n`;\r\nexport const ErrorMessage = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  color: orange;\r\n`;\r\n\r\nexport const Title = styled.td`\r\n  position: relative;\r\n  input[type=\"text\"] {\r\n    width: 750px;\r\n    margin-bottom: 12px;\r\n  }\r\n`;\r\nexport const ProductImgSection = styled.div`\r\n  padding: 12px 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n\r\n  .product_image_index {\r\n    position: absolute;\r\n    top: 8px;\r\n    right: 8px;\r\n    background-color: black;\r\n    border: none;\r\n    color: #ffffff;\r\n    border-radius: 25px;\r\n    font-size: 10px;\r\n    width: 22px;\r\n    height: 22px;\r\n    opacity: 0.4;\r\n  }\r\n\r\n  .title_image::before {\r\n    content: \"대표이미지\";\r\n    position: absolute;\r\n    background-color: black;\r\n    color: white;\r\n    border-radius: 20px;\r\n    padding: 2px 10px;\r\n    font-size: 12px;\r\n    //top: 40px;\r\n    top: 10px;\r\n    left: 10px;\r\n    opacity: 0.4;\r\n  }\r\n\r\n  .img_wrapper {\r\n    position: relative;\r\n    width: 200px;\r\n    height: 200px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  img {\r\n    width: 200px;\r\n    height: auto;\r\n  }\r\n`;\r\nexport const Category = styled.td`\r\n  color: #000000;\r\n\r\n  .active {\r\n    color: red;\r\n    font-weight: 800;\r\n  }\r\n\r\n  li:first-child {\r\n    float: none;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  li {\r\n    float: none;\r\n    padding: 10px 20px;\r\n    margin: 0;\r\n    font-size: 16px;\r\n  }\r\n\r\n  li:last-child {\r\n    float: none;\r\n    margin-bottom: 5px;\r\n  }\r\n\r\n  li:hover {\r\n    background-color: #fdebeb;\r\n  }\r\n\r\n  .category_scroll {\r\n    height: 250px;\r\n    //border: 1px solid red;\r\n    overflow-y: scroll;\r\n    //padding: 12px;\r\n  }\r\n\r\n  td {\r\n    border: 1px solid #c4c4c4;\r\n    height: 250px;\r\n    padding: 0;\r\n    margin: 0;\r\n    //padding: 24px;\r\n  }\r\n\r\n  tr {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  td:nth-child(1) {\r\n    width: 250px;\r\n  }\r\n\r\n  td:nth-child(2) {\r\n    width: 250px;\r\n  }\r\n\r\n  td:nth-child(3) {\r\n    width: 250px;\r\n  }\r\n\r\n  .selected_category {\r\n    color: red;\r\n    margin-top: 16px;\r\n  }\r\n`;\r\nexport const TrandingArea = styled.td`\r\n  button {\r\n    font-size: 16px;\r\n    width: 110px;\r\n    height: 50px;\r\n    padding: 0;\r\n    margin: 0 16px 16px 0;\r\n    background-color: #ffffff;\r\n    border: 1px solid #c4c4c4;\r\n    border-radius: 2px;\r\n  }\r\n\r\n  & input[type=\"text\"] {\r\n    font-size: 16px;\r\n    width: 810px;\r\n    border: 1px solid #c4c4c4;\r\n    background-color: #f4f4fa;\r\n  }\r\n`;\r\n\r\nexport const Status = styled.td`\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const Exchange = styled.td`\r\n  font-size: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const Price = styled.td`\r\n  & input[type=\"text\"] {\r\n    width: 200px;\r\n  }\r\n\r\n  & input[type=\"checkbox\"] {\r\n    //display: block;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    height: 20px;\r\n    width: 20px;\r\n    border-radius: 100%;\r\n    border: 3px solid #c3c2cc;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    background-color: white;\r\n    position: relative;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]::after {\r\n    content: \"\";\r\n    width: 6px;\r\n    height: 3px;\r\n    top: 2px;\r\n    left: 2px;\r\n    border-bottom: 3px solid #c3c2cc;\r\n    border-left: 3px solid #c3c2cc;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:hover::before {\r\n    cursor: pointer;\r\n    content: \"\";\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: black;\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    opacity: 0.1;\r\n    top: -8px;\r\n    left: -8px;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:checked {\r\n    border: 3px solid #ff5058;\r\n    background-color: #ff5058;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:checked::after {\r\n    border-bottom: 3px solid #ffffff;\r\n    border-left: 3px solid #ffffff;\r\n  }\r\n\r\n  label:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .delivery_charge_wrapper {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 16px;\r\n  }\r\n`;\r\nexport const ProductDescription = styled.td`\r\n  position: relative;\r\n  & textarea {\r\n    padding: 12px 16px;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    width: 810px;\r\n    height: 130px;\r\n    border: 1px solid #a4a4a4;\r\n    resize: none;\r\n  }\r\n\r\n  & .description_length {\r\n    position: absolute;\r\n    top: 195px;\r\n    right: 0px;\r\n  }\r\n  & .warning {\r\n    color: #a4a4a4;\r\n  }\r\n`;\r\n\r\nexport const Tag = styled.td`\r\n  & .input_wrapper {\r\n    border: 1px solid #a4a4a4;\r\n    height: 50px;\r\n    width: 839px;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n    padding: 0px 3px;\r\n  }\r\n\r\n  & .tag_item {\r\n    white-space: nowrap;\r\n    background-color: #f4f4fa;\r\n    padding: 5px 12px;\r\n    margin: 0 5px;\r\n    border-radius: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  & .tag_del {\r\n    border: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: 5px;\r\n    background-color: #c3c2cc;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 20px;\r\n    color: #f4f4fa;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n  }\r\n\r\n  & .tag_del:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & input[type=\"text\"] {\r\n    border: none;\r\n    margin-left: 3px;\r\n    width: 100%;\r\n  }\r\n  & input[type=\"text\"]:hover {\r\n    border: none;\r\n  }\r\n  & input[type=\"text\"]:focus {\r\n    border: none;\r\n  }\r\n  & ul {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    border: none;\r\n  }\r\n\r\n  & li {\r\n    border: none;\r\n    float: none;\r\n    margin: 0px;\r\n    padding: 4px 0;\r\n    font-size: 16px;\r\n    color: #a4a4a4;\r\n  }\r\n`;\r\n\r\nexport const ProductQuantity = styled.td``;\r\nexport const SubmitSection = styled.div`\r\n  position: sticky;\r\n  background-color: #fafafd;\r\n  height: 90px;\r\n  bottom: 0px;\r\n  border-top: 1px solid #a4a4a4;\r\n  & button {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    color: #ffffff;\r\n    float: right;\r\n    width: 160px;\r\n    height: 55px;\r\n    border-radius: 4px;\r\n    background-color: #ff5058;\r\n    border: none;\r\n    margin: 16px 0;\r\n  }\r\n  & button:hover {\r\n    cursor: pointer;\r\n    background-color: #ed4c54;\r\n  }\r\n`;\r\n","import Resizer from \"react-image-file-resizer\";\nimport {\n  Container,\n  ImgUploadLabel,\n  InputSection,\n  Title,\n  Category,\n  TrandingArea,\n  Status,\n  Exchange,\n  Price,\n  ProductDescription,\n  Tag,\n  ProductQuantity,\n  ErrorMessage,\n  ProductImgSection,\n  SubmitSection,\n} from \"./styled\";\n\nimport { AiFillCamera } from \"react-icons/ai\";\nimport { HiOutlineBan } from \"react-icons/hi\";\nimport { IoMdCloseCircle } from \"react-icons/io\";\nimport { BsCheck } from \"react-icons/bs\";\nimport React, { forwardRef, useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport { Route, Switch, useLocation, withRouter } from \"react-router-dom\";\nimport {\n  ProductLargeCategory,\n  ProductMediumCategory,\n  ProductSmallCategory,\n} from \"../../data/ProductCategory\";\nimport DaumPostcode from \"react-daum-postcode\";\nimport { useSelector } from \"react-redux\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport AlertModal from \"../../components/AlertModal\";\n\nconst ProductNewPage = ({ history }) => {\n  const MAX_IMAGE = 12;\n  const [productImage, setProductImage] = useState([]);\n  const [productImageURL, setProductImageURL] = useState([]);\n  const [productImageError, setProductImageError] = useState({\n    required: false,\n  });\n\n  const [title, setTitle] = useState(\"\");\n  const [titleError, setTitleError] = useState({ minLength: false });\n  const [showDeleteTitleButton, setShowDeleteTitleButton] = useState(false);\n\n  const [largeCateogry, setLargeCategory] = useState(\"\");\n  const [mediumCategory, setMediumCategory] = useState(\"\");\n  const [smallCategory, setSmallCategory] = useState(\"\");\n  const [selectCategory, setSelectCategory] = useState({\n    large: null,\n    medium: null,\n    small: null,\n  });\n  const [selectCategoryError, setSelectCategoryError] = useState({\n    required: false,\n  });\n  const [address, setAddress] = useState(\"지역설정안함\");\n  const [showPostcodeModal, setShowPostcodeModal] = useState(false);\n  const [newProduct, setNewProduct] = useState(false);\n  const [enableExchange, setEnableExchange] = useState(false);\n  const [price, setPrice] = useState(\"\");\n  const [priceError, setPriceError] = useState({ minPrice: false });\n  const [containDeliveryCharge, setContainDeliveryCharge] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [descriptionError, setDescriptionError] = useState({\n    minLength: false,\n  });\n  const [tagValue, setTagValue] = useState(\"\");\n  const [tag, setTag] = useState([]);\n  const [quantity, setQuantity] = useState(1);\n\n  const [loading, setLoading] = useState(false);\n\n  const onClickDeleteTag = (e) => {\n    const tagList = tag;\n    tagList.splice(parseInt(e.target.value), 1);\n    console.log(e.target.value);\n    history.push(\"/product/new\");\n  };\n  const onChangeTagValue = (e) => {\n    const value = e.target.value;\n\n    if (value.length > 9) return;\n\n    setTagValue(e.target.value);\n  };\n\n  const onKeySpace = (e) => {\n    const tagList = tag;\n    const value = \"#\" + e.target.value.trim();\n    if (e.key === \" \") {\n      if (value === \"\") {\n        setTagValue(\"\");\n        return;\n      }\n\n      // 태그에 중복된 값이 있으면 아무 작업도 수행안함\n      if (tagList.includes(value)) {\n        setTagValue(\"\");\n        return;\n      }\n\n      tagList.push(value);\n      setTag(tagList);\n      setTagValue(\"\");\n    }\n    history.push(\"/product/new\");\n  };\n\n  const onValidateTotal = () => {\n    let validateResult = false;\n\n    // 이미지\n    if (productImage.length < 1) {\n      setProductImageError({ minLength: true });\n      validateResult = true;\n    } else {\n      setProductImageError({ minLength: false });\n    }\n    // 제목\n    if (title.length < 1) {\n      setTitleError({ minLength: true });\n      validateResult = true;\n    } else {\n      setTitleError({ minLength: false });\n    }\n    // 카테고리\n    if (selectCategory.large === null) {\n      setSelectCategoryError({ required: true });\n      validateResult = true;\n    } else {\n      setSelectCategoryError({ required: false });\n    }\n    // 가격\n    if (price < 100) {\n      setPriceError({ minPrice: true });\n      validateResult = true;\n    } else {\n      setPriceError({ minPrice: false });\n    }\n    // 설명\n    if (description.length < 10) {\n      setDescriptionError({ minLength: true });\n      validateResult = true;\n    } else {\n      setDescriptionError({ minLength: false });\n    }\n    return validateResult;\n  };\n  const currencyOfInt = (value) => {\n    return parseInt(value.replaceAll(\",\", \"\"));\n  };\n\n  const resizeFile = async (file) => {\n    return new Promise((resolve) => {\n      Resizer.imageFileResizer(\n        file,\n        280,\n        280,\n        \"JPEG\",\n        80,\n        0,\n        (uri) => {\n          resolve(uri);\n        },\n        \"file\"\n      );\n    });\n  };\n\n  const onSubmitNewProduct = async () => {\n    // 수량란에 잘못된 값이 들어있으면 변환\n    onValidateQuantity();\n\n    // 공란 체크 (에러 발생시 true 반환)\n    if (onValidateTotal()) return;\n\n    setLoading(true);\n\n    // 이미지 전송 폼\n    const formData = new FormData();\n\n    // 이미지 폼에 등록\n    for (let i = 0; i < productImage.length; i++) {\n      // 등록 전 리사이즈\n\n      const resizedImage = await resizeFile(productImage[i]);\n      formData.append(\"image\", resizedImage);\n      // formData.append(\"image\", productImage[i]);\n    }\n\n    // 전송할 데이터\n    const payload = {\n      title,\n      largeCateogry: selectCategory.large,\n      mediumCategory: selectCategory.medium,\n      smallCategory: selectCategory.small,\n      address,\n      newProduct,\n      enableExchange,\n      price: currencyOfInt(price),\n      containDeliveryCharge,\n      description,\n      tag,\n      quantity,\n    };\n\n    const stringPayload = JSON.stringify(payload);\n\n    // console.log(\"submit payload >> \", payload);\n    // console.log(\"submit stringPayload >> \", stringPayload);\n    // return;\n\n    // 전송할 데이터 폼에 등록\n    formData.append(\"data\", stringPayload);\n\n    axios\n      .post(\"/product/upload\", formData)\n      .then((res) => {\n        console.log(\"product res >> \", res);\n        setLoading(false);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(\"product err >> \", err);\n      });\n  };\n\n  const onValidateQuantity = () => {\n    if (quantity === \"\" || parseInt(quantity) === 0) {\n      setQuantity(1);\n      return;\n    }\n    setQuantity(parseInt(quantity));\n  };\n  const onFocusQuantity = (e) => {\n    // 사용안함\n    console.log(\"Focus\");\n    console.log(e.target.value);\n  };\n\n  const onChangeQuantity = (e) => {\n    const value = e.target.value;\n    const regex = /^[0-9]+$/;\n    if (value !== \"\" && !regex.test(value)) {\n      alert(\"숫자만 입력해 주세요.\");\n      return;\n    }\n\n    if (value.length > 3) return;\n    setQuantity(e.target.value);\n  };\n\n  const onChangeDescription = (e) => {\n    const value = e.target.value;\n    if (value !== \"\" && value.length < 10) {\n      setDescriptionError({ minLength: true });\n    } else {\n      setDescriptionError({ minLength: false });\n    }\n\n    if (value.length > 2000) {\n      return;\n    }\n\n    setDescription(value);\n  };\n\n  const onChangePrice = (e) => {\n    const value = e.target.value.replaceAll(\",\", \"\");\n\n    const regex = /^[0-9]+$/;\n    if (value !== \"\" && !regex.test(value)) return;\n\n    // 최소 가격 제한 ( 100 ~ )\n    if (parseInt(value) < 100) setPriceError({ minPrice: true });\n    else setPriceError({ minPrice: false });\n\n    // 최대 가격 제한 ( ~ 999,999,999 )\n    if (value.length > 9) {\n      return;\n    }\n    const KRValue = value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    setPrice(KRValue);\n  };\n\n  const onSelectLargeCategory = (e) => {\n    setSelectCategoryError({ required: false });\n\n    const value = e.target.valueOf(e).innerText;\n    setSelectCategory({\n      large: value,\n    });\n    setMediumCategory(ProductMediumCategory[value]);\n  };\n\n  const onClosePostcodeModal = () => {\n    setShowPostcodeModal(false);\n  };\n  const onTogglePostcodeModal = () => {\n    setShowPostcodeModal((prev) => !prev);\n  };\n  const onClickNoneAddress = () => {\n    setAddress(\"지역설정안함\");\n  };\n\n  const onSelectMediumCategory = (e) => {\n    const value = e.target.valueOf(e).innerText;\n    setSelectCategory({\n      large: selectCategory.large,\n      medium: value,\n    });\n    setSmallCategory(ProductSmallCategory[`${selectCategory.large}-${value}`]);\n  };\n\n  const onSelectSmallCategory = (e) => {\n    const value = e.target.valueOf(e).innerText;\n    setSelectCategory({\n      large: selectCategory.large,\n      medium: selectCategory.medium,\n      small: value,\n    });\n  };\n\n  // const dataURLtoFile = (dataurl, fileName) => {\n  //   var arr = dataurl.split(\",\"),\n  //     mime = arr[0].match(/:(.*?);/)[1],\n  //     bstr = atob(arr[1]),\n  //     n = bstr.length,\n  //     u8arr = new Uint8Array(n);\n  //\n  //   while (n--) {\n  //     u8arr[n] = bstr.charCodeAt(n);\n  //   }\n  //\n  //   return new File([u8arr], fileName, { type: mime });\n  // };\n\n  const onChangeImage = (e) => {\n    console.log(e.target.files);\n    const files = e.target.files;\n    if (productImage.length < 1) {\n      setProductImageError({ required: true });\n    } else {\n      setProductImageError({ required: false });\n    }\n\n    if (files.length + productImage.length > MAX_IMAGE) {\n      alert(\"사진 첨부는 최대 12장까지 가능합니다.\");\n      return;\n    }\n\n    const imageDataArray = productImage;\n    const imageURLArray = productImageURL;\n    // const imageDataArray = [];\n    // const imageURLArray = [];\n\n    console.log(\"imageDataArray >> \", imageDataArray);\n    console.log(\"imageURLArray >> \", imageURLArray);\n\n    for (let i = 0; i < files.length; i++) {\n      imageDataArray.push(e.target.files[i]);\n      imageURLArray.push(URL.createObjectURL(e.target.files[i]));\n    }\n\n    console.log(\"imageDataArray >> \", imageDataArray);\n    console.log(\"imageURLArray >> \", imageURLArray);\n\n    // 동작확인 불가\n    // URL.revokeObjectURL(e.target.files[index]);\n\n    setProductImage(imageDataArray);\n    setProductImageURL(imageURLArray);\n\n    // imageUpload(imageDataArray);\n  };\n\n  const onDeleteProductImage = (e) => {\n    if (productImage.length === 0 || productImageURL.length === 0) {\n      alert(\"삭제할 이미지가 존재하지 않습니다.\");\n      return;\n    }\n\n    const imageDataArray = productImage;\n    const imageURLArray = productImageURL;\n\n    imageDataArray.splice(parseInt(e.target.value), 1);\n    imageURLArray.splice(parseInt(e.target.value), 1);\n\n    setProductImage(imageDataArray);\n    setProductImageURL(imageURLArray);\n\n    console.log(productImage);\n    console.log(productImageURL);\n    console.log(\"del ... \");\n    history.push(\"/product/new\");\n    // imageList.current.v;\n  };\n\n  const imageList = useRef();\n  const user = useSelector((state) => state.user);\n\n  useEffect(() => {\n    // 로그인이 안된 유저가 해당 페이지 접근시 랜딩페이지로 이동\n    if (!user.isSignin) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  const onDeleteTitleValue = () => {\n    setTitle(\"\");\n    setShowDeleteTitleButton(false);\n  };\n  const onChangeTitle = (e) => {\n    const value = e.target.value;\n\n    if (value.length > 40) {\n      return;\n    }\n\n    if (value === \"\") setShowDeleteTitleButton(false);\n    else setShowDeleteTitleButton(true);\n\n    setTitle(value);\n\n    if (value.length <= 2) setTitleError({ minLength: true });\n    else setTitleError({ minLength: false });\n  };\n\n  const handleComplete = (data) => {\n    let fullAddress = data.address;\n    let extraAddress = \"\";\n\n    if (data.addressType === \"R\") {\n      if (data.bname !== \"\") {\n        extraAddress += data.bname;\n      }\n      if (data.buildingName !== \"\") {\n        extraAddress +=\n          extraAddress !== \"\" ? `, ${data.buildingName}` : data.buildingName;\n      }\n      fullAddress += extraAddress !== \"\" ? ` (${extraAddress})` : \"\";\n    }\n    onClosePostcodeModal();\n    setAddress(fullAddress);\n  };\n\n  return (\n    <Container>\n      <ul>\n        <li onClick={() => history.push(\"/product/new-ai\")}>자동등록</li>\n        <li\n          onClick={() => history.push(\"/product/new\")}\n          className=\"active_menu\"\n        >\n          상품등록\n        </li>\n        <li onClick={() => history.push(\"/product/manage\")}>상품관리</li>\n        {/*<li>구매/판매 내역</li>*/}\n      </ul>\n\n      <h1>\n        기본정보&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n        <span>*필수항목</span>\n      </h1>\n      <hr className=\"bold_hr\" />\n      {/*  상품 이미지 Section */}\n      <InputSection>\n        <tr>\n          <td>\n            <h2>\n              상품이미지<span>*</span>\n              &nbsp;\n              <span className=\"img_cnt\">\n                ({productImageURL.length}/{MAX_IMAGE})\n              </span>\n            </h2>\n          </td>\n          <td>\n            <ImgUploadLabel\n              className={`cursor_pointer img_upload_label ${\n                productImageError.minLength && \"error\"\n              }`}\n              for=\"product_image\"\n            >\n              <AiFillCamera size={42} style={{ color: \"d7d7d7\" }} />\n              이미지 등록\n            </ImgUploadLabel>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              id=\"product_image\"\n              className=\"hidden\"\n              multiple\n              onChange={onChangeImage}\n            />\n            {productImageError.minLength && (\n              <ErrorMessage>\n                <HiOutlineBan />\n                &nbsp;&nbsp;상품 사진을 등록해주세요.\n              </ErrorMessage>\n            )}\n            <ProductImgSection ref={imageList}>\n              {productImageURL &&\n                productImageURL.map((imageURL, i) => (\n                  <div key={i} className=\"img_wrapper\">\n                    <span className={!i && \"title_image\"}></span>\n                    <button\n                      className=\"product_image_index cursor_pointer\"\n                      value={i}\n                      id=\"image_id\"\n                      onClick={onDeleteProductImage}\n                    >\n                      &times;\n                    </button>\n                    <img src={imageURL} />\n                  </div>\n                ))}\n            </ProductImgSection>\n\n            <div className=\"img_description\">\n              <strong>\n                <span>*</span> 상품 이미지는 640x640에 최적화 되어 있습니다.\n              </strong>\n              <br />\n              - 이미지는 상품등록 시 정사각형으로 짤려서 등록됩니다.\n              <br />\n              - 이미지를 클릭 할 경우 원본이미지를 확인할 수 있습니다.\n              <br />\n              - 이미지를 클릭 후 이동하여 등록순서를 변경할 수 있습니다.\n              <br />\n              - 큰 이미지일경우 이미지가 깨지는 경우가 발생할 수 있습니다.\n              <br />\n              최대 지원 사이즈인 640 X 640 으로 리사이즈 해서 올려주세요.(개당\n              이미지 최대 10M)\n            </div>\n          </td>\n        </tr>\n        {/*  End 상품 이미지 Section */}\n\n        <tr>\n          <td>\n            <h2>\n              제목<span>*</span>\n            </h2>\n          </td>\n          <Title>\n            <input\n              type=\"text\"\n              placeholder=\"상품 제목을 입력해주세요.\"\n              value={title}\n              onChange={onChangeTitle}\n              id={titleError.minLength && \"error\"}\n            />\n            {showDeleteTitleButton && (\n              <IoMdCloseCircle\n                size={24}\n                className=\"cursor_pointer\"\n                style={{\n                  color: \"lightgray\",\n                  position: \"absolute\",\n                  top: \"45px\",\n                  right: \"70px\",\n                }}\n                onClick={onDeleteTitleValue}\n              />\n            )}\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            {title.length}/40\n            {titleError.minLength && (\n              <ErrorMessage>\n                <HiOutlineBan />\n                &nbsp;&nbsp;상품명을 2자 이상 입력해주세요.\n              </ErrorMessage>\n            )}\n          </Title>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              카테고리<span>*</span>\n            </h2>\n          </td>\n          <Category>\n            <div>\n              <table>\n                <tr>\n                  <td id={selectCategoryError.required && \"error\"}>\n                    <div className=\"category_scroll\">\n                      {ProductLargeCategory &&\n                        ProductLargeCategory.map((v) => (\n                          <li\n                            onClick={onSelectLargeCategory}\n                            className={v === selectCategory.large && \"active\"}\n                          >\n                            {v}\n                          </li>\n                        ))}\n                    </div>\n                  </td>\n                  <td id={selectCategoryError.required && \"error\"}>\n                    <div className=\"category_scroll\">\n                      {mediumCategory &&\n                        mediumCategory.map((v) => (\n                          <li\n                            onClick={onSelectMediumCategory}\n                            className={v === selectCategory.medium && \"active\"}\n                          >\n                            {v}\n                          </li>\n                        ))}\n                    </div>\n                  </td>\n                  <td id={selectCategoryError.required && \"error\"}>\n                    <div className=\"category_scroll\">\n                      {smallCategory &&\n                        smallCategory.map((v) => (\n                          <li\n                            onClick={onSelectSmallCategory}\n                            className={v === selectCategory.small && \"active\"}\n                          >\n                            {v}\n                          </li>\n                        ))}\n                    </div>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            {selectCategoryError.required && (\n              <ErrorMessage>\n                <HiOutlineBan />\n                &nbsp;&nbsp;대분류 카테고리를 선택해주세요.\n              </ErrorMessage>\n            )}\n            <div className=\"selected_category\">\n              선택한 카테고리 :&nbsp;\n              <strong>\n                {selectCategory.large && selectCategory.large}\n                {selectCategory.medium && <> > {selectCategory.medium}</>}\n                {selectCategory.small && <> > {selectCategory.small}</>}\n              </strong>\n            </div>\n          </Category>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              거래지역<span>*</span>\n            </h2>\n          </td>\n          <TrandingArea>\n            <button onClick={onTogglePostcodeModal} className=\"cursor_pointer\">\n              주소 검색\n            </button>\n            <button onClick={onClickNoneAddress} className=\"cursor_pointer\">\n              지역설정안함\n            </button>\n            <input type=\"text\" disabled={true} value={address} />\n            <AlertModal\n              show={showPostcodeModal}\n              close={onClosePostcodeModal}\n              useCancelButton={false}\n              useSubmitButton={false}\n              useCloseButton={false}\n              style={{ width: \"450px\" }}\n            >\n              <DaumPostcode onComplete={handleComplete} />\n            </AlertModal>\n          </TrandingArea>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              상태<span>*</span>\n            </h2>\n          </td>\n          <Status>\n            <input\n              type=\"radio\"\n              id=\"used_product\"\n              name=\"newProduct\"\n              onClick={() => setNewProduct((prev) => !prev)}\n              value=\"중고상품\"\n              checked={!newProduct}\n            />\n            <label htmlFor=\"used_product\">중고상품</label>\n            <input\n              type=\"radio\"\n              id=\"new_product\"\n              name=\"newProduct\"\n              onClick={() => setNewProduct((prev) => !prev)}\n              value=\"새상품\"\n              checked={newProduct}\n            />\n            <label htmlFor=\"new_product\">새상품</label>\n          </Status>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              교환<span>*</span>\n            </h2>\n          </td>\n          <Exchange>\n            <input\n              type=\"radio\"\n              id=\"enableExchange_disable\"\n              name=\"product_enableExchange\"\n              onClick={() => setEnableExchange((prev) => !prev)}\n              value=\"교환불가\"\n              checked={!enableExchange}\n            />\n            <label htmlFor=\"enableExchange_disable\">교환불가</label>\n            <input\n              type=\"radio\"\n              id=\"enableExchange_enable\"\n              name=\"product_enableExchange\"\n              onClick={() => setEnableExchange((prev) => !prev)}\n              value=\"교환가능\"\n              checked={enableExchange}\n            />\n            <label htmlFor=\"enableExchange_enable\">교환가능</label>\n          </Exchange>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              가격<span>*</span>\n            </h2>\n          </td>\n          <Price>\n            <input\n              type=\"text\"\n              placeholder=\"숫자만 입력해주세요.\"\n              value={price}\n              onChange={onChangePrice}\n              id={priceError.minPrice && \"error\"}\n            />\n            &nbsp;&nbsp;&nbsp;원\n            {priceError.minPrice && (\n              <ErrorMessage>\n                <HiOutlineBan />\n                &nbsp;&nbsp;100원 이상 입력해주세요.\n              </ErrorMessage>\n            )}\n            <br />\n            <div className=\"delivery_charge_wrapper\">\n              <input\n                type=\"checkbox\"\n                id=\"delivery_charge_include\"\n                checked={containDeliveryCharge}\n                onClick={() => setContainDeliveryCharge((prev) => !prev)}\n              />\n              <label htmlFor=\"delivery_charge_include\">배송비 포함</label>\n            </div>\n          </Price>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>\n              설명<span>*</span>\n            </h2>\n          </td>\n          <ProductDescription>\n            <textarea\n              placeholder=\"상품 설명을 입력해주세요. (10글자 이상)\"\n              value={description}\n              onChange={onChangeDescription}\n            />\n            {descriptionError.minLength && (\n              <ErrorMessage>\n                <HiOutlineBan />\n                &nbsp;&nbsp;상품 설명을 10글자 이상 입력해주세요.\n              </ErrorMessage>\n            )}\n            <span className=\"description_length\">\n              {description.length}/2000\n            </span>\n            <span className=\"warning\">\n              혹시 <u>카카오톡 ID</u>를 적으셨나요?\n            </span>\n          </ProductDescription>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>연관태그</h2>\n          </td>\n          <Tag>\n            <div className=\"input_wrapper\">\n              {tag &&\n                tag.map((v, i) => (\n                  <div className=\"tag_item\">\n                    {v}\n                    <button\n                      value={i}\n                      onClick={onClickDeleteTag}\n                      className=\"tag_del\"\n                    >\n                      &times;\n                    </button>\n                  </div>\n                ))}\n              {tag.length < 5 && (\n                <input\n                  type=\"text\"\n                  placeholder=\"연관태그를 입력해주세요. (최대 5개)\"\n                  value={tagValue}\n                  onChange={onChangeTagValue}\n                  onKeyPress={onKeySpace}\n                />\n              )}\n            </div>\n            <ul className=\"cursor_none\">\n              <li>\n                - 태그는 띄어쓰기로 구분되며 최대 9자까지 입력할 수 있습니다.\n              </li>\n              <li>\n                - 태그는 검색의 부가정보로 사용 되지만, 검색 결과 노출을\n                보장하지는 않습니다.\n              </li>\n              <li>- 검색 광고는 태그정보를 기준으로 노출됩니다.</li>\n              <li>\n                - 상품과 직접 관련이 없는 다른 상품명, 브랜드, 스팸성 키워드\n                등을 입력하면 노출이 중단되거나 상품이 삭제될 수 있습니다.\n              </li>\n            </ul>\n          </Tag>\n        </tr>\n\n        <tr>\n          <td>\n            <h2>수량</h2>\n          </td>\n          <ProductQuantity>\n            <input\n              type=\"text\"\n              className=\"quantity\"\n              value={quantity}\n              onChange={onChangeQuantity}\n              onFocus={onFocusQuantity}\n            />\n            &nbsp;&nbsp;&nbsp;개\n          </ProductQuantity>\n        </tr>\n      </InputSection>\n\n      <SubmitSection>\n        <button disabled={loading} onClick={onSubmitNewProduct}>\n          {!loading && \"등록하기\"}\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\n        </button>\n      </SubmitSection>\n    </Container>\n  );\n};\n\nexport default withRouter(ProductNewPage);\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & .active_menu {\r\n    color: #4aa4ff;\r\n    font-weight: 800;\r\n  }\r\n\r\n  & ul {\r\n    height: 60px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  & li:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & li:first-child {\r\n    //padding: 0px 30px 0px 0px;\r\n  }\r\n\r\n  & li {\r\n    border-right: 1px solid #eeeeee;\r\n    font-size: 13px;\r\n    float: left;\r\n    padding: 0px 30px;\r\n    margin: 20px 0;\r\n  }\r\n\r\n  & li:last-child {\r\n    float: left;\r\n    border: none;\r\n  }\r\n\r\n  & .bold_hr {\r\n    height: 1px;\r\n    background-color: #8fc5ff;\r\n    margin-top: 28px;\r\n  }\r\n\r\n  & h1 {\r\n    font-size: 24px;\r\n    color: #4aa4ff;\r\n    font-weight: 400;\r\n    text-align: center;\r\n  }\r\n\r\n  & h1 span {\r\n    font-size: 16px;\r\n    color: red;\r\n  }\r\n\r\n  & h2 {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    //border: 1px solid black;\r\n  }\r\n\r\n  & h2 span {\r\n    color: red;\r\n  }\r\n\r\n  & h2 .img_cnt {\r\n    font-size: 14px;\r\n    color: gray;\r\n  }\r\n`;\r\n\r\nexport const ProductImageDescription = styled.div`\r\n  color: #4aa4ff;\r\n  line-height: 32px;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const SubmitSection = styled.div`\r\n  position: sticky;\r\n  background-color: #fafafd;\r\n  height: 90px;\r\n  bottom: 0px;\r\n  border-top: 1px solid #a4a4a4;\r\n\r\n  & button {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    color: #ffffff;\r\n    float: right;\r\n    width: 160px;\r\n    height: 55px;\r\n    border-radius: 4px;\r\n    background-color: #4aa4ff;\r\n    border: none;\r\n    margin: 16px 0;\r\n  }\r\n\r\n  & button:hover {\r\n    cursor: pointer;\r\n    background-color: #2a92f8;\r\n  }\r\n`;\r\n","import { Container, ProductImageDescription, SubmitSection } from \"./styled\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  ErrorMessage,\r\n  ImgUploadLabel,\r\n  InputSection,\r\n  Price,\r\n  ProductImgSection,\r\n} from \"../ProductNewPage/styled\";\r\nimport { AiFillCamera } from \"react-icons/ai\";\r\nimport { HiOutlineBan } from \"react-icons/hi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport axios from \"axios\";\r\n\r\n// 새로운 페이지 생성시 기본 구조\r\nexport const ProductAINewPage = ({ history }) => {\r\n  const MAX_IMAGE = 12;\r\n  const [productImage, setProductImage] = useState([]);\r\n  const [productImageURL, setProductImageURL] = useState([]);\r\n  const [productImageError, setProductImageError] = useState({\r\n    required: false,\r\n  });\r\n\r\n  const [price, setPrice] = useState(\"\");\r\n  const [priceError, setPriceError] = useState({ minPrice: false });\r\n  const [containDeliveryCharge, setContainDeliveryCharge] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const imageList = useRef();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    // 로그인이 안된 유저가 해당 페이지 접근시 랜딩페이지로 이동\r\n    if (!user.isSignin) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const currencyOfInt = (value) => {\r\n    return parseInt(value.replaceAll(\",\", \"\"));\r\n  };\r\n\r\n  const onChangePrice = (e) => {\r\n    const value = e.target.value.replaceAll(\",\", \"\");\r\n\r\n    const regex = /^[0-9]+$/;\r\n    if (value !== \"\" && !regex.test(value)) return;\r\n\r\n    // 최소 가격 제한 ( 100 ~ )\r\n    if (parseInt(value) < 100) setPriceError({ minPrice: true });\r\n    else setPriceError({ minPrice: false });\r\n\r\n    // 최대 가격 제한 ( ~ 999,999,999 )\r\n    if (value.length > 9) return;\r\n\r\n    const KRValue = value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    setPrice(KRValue);\r\n  };\r\n\r\n  const onValidateTotal = () => {\r\n    let validateResult = false;\r\n\r\n    // 이미지\r\n    if (productImage.length < 1) {\r\n      setProductImageError({ minLength: true });\r\n      validateResult = true;\r\n    } else {\r\n      setProductImageError({ minLength: false });\r\n    }\r\n\r\n    // 가격\r\n    if (price < 100) {\r\n      setPriceError({ minPrice: true });\r\n      validateResult = true;\r\n    } else {\r\n      setPriceError({ minPrice: false });\r\n    }\r\n\r\n    return validateResult;\r\n  };\r\n\r\n  const onSubmitNewAIProduct = () => {\r\n    if (onValidateTotal()) return;\r\n\r\n    setLoading(true);\r\n\r\n    const formData = new FormData();\r\n\r\n    for (let i = 0; i < productImage.length; i++) {\r\n      formData.append(\"image\", productImage[i]);\r\n    }\r\n\r\n    const payload = {\r\n      title: null,\r\n      largeCateogry: null,\r\n      mediumCategory: null,\r\n      smallCategory: null,\r\n      address: \"지역설정안함\",\r\n      newProduct: true,\r\n      enableExchange: true,\r\n      price: currencyOfInt(price),\r\n      containDeliveryCharge: true,\r\n      description: null,\r\n      tag: null,\r\n      quantity: 1,\r\n    };\r\n\r\n    const stringPayload = JSON.stringify(payload);\r\n    formData.append(\"data\", stringPayload);\r\n\r\n    axios\r\n      .post(\"/product/upload-ai\", formData)\r\n      .then((res) => {\r\n        console.log(\"product res >> \", res);\r\n        setLoading(false);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(\"product err >> \", err);\r\n      });\r\n  };\r\n\r\n  const onChangeImage = (e) => {\r\n    console.log(e.target.files);\r\n    const files = e.target.files;\r\n    if (productImage.length < 1) {\r\n      setProductImageError({ required: true });\r\n    } else {\r\n      setProductImageError({ required: false });\r\n    }\r\n\r\n    if (files.length + productImage.length > MAX_IMAGE) {\r\n      alert(\"사진 첨부는 최대 12장까지 가능합니다.\");\r\n      return;\r\n    }\r\n\r\n    const imageDataArray = productImage;\r\n    const imageURLArray = productImageURL;\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      imageDataArray.push(e.target.files[i]);\r\n      imageURLArray.push(URL.createObjectURL(e.target.files[i]));\r\n    }\r\n\r\n    setProductImage(imageDataArray);\r\n    setProductImageURL(imageURLArray);\r\n  };\r\n\r\n  const onDeleteProductImage = (e) => {\r\n    if (productImage.length === 0 || productImageURL.length === 0) {\r\n      alert(\"삭제할 이미지가 존재하지 않습니다.\");\r\n      return;\r\n    }\r\n\r\n    const imageDataArray = productImage;\r\n    const imageURLArray = productImageURL;\r\n\r\n    imageDataArray.splice(parseInt(e.target.value), 1);\r\n    imageURLArray.splice(parseInt(e.target.value), 1);\r\n\r\n    setProductImage(imageDataArray);\r\n    setProductImageURL(imageURLArray);\r\n\r\n    console.log(productImage);\r\n    console.log(productImageURL);\r\n    history.push(\"/product/new-ai\");\r\n    // imageList.current.v;\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ul>\r\n        <li\r\n          className=\"active_menu\"\r\n          onClick={() => history.push(\"/product/new-ai\")}\r\n        >\r\n          자동등록\r\n        </li>\r\n        <li onClick={() => history.push(\"/product/new\")}>상품등록</li>\r\n        <li onClick={() => history.push(\"/product/manage\")}>상품관리</li>\r\n      </ul>\r\n\r\n      <h1>\r\n        대표이미지는 최대한 <strong>상품을 설명할 수 있는 이미지</strong>로\r\n        등록해주세요.\r\n      </h1>\r\n      <hr className=\"bold_hr\" />\r\n\r\n      <InputSection>\r\n        {/* 상품이미지 Section */}\r\n        <tr>\r\n          <td>\r\n            <h2>\r\n              상품이미지<span>*</span>\r\n              &nbsp;\r\n              <span className=\"img_cnt\">\r\n                ({productImageURL.length}/{MAX_IMAGE})\r\n              </span>\r\n            </h2>\r\n          </td>\r\n          <td>\r\n            <ImgUploadLabel\r\n              className={`cursor_pointer img_upload_label ${\r\n                productImageError.minLength && \"error\"\r\n              }`}\r\n              for=\"product_image\"\r\n            >\r\n              <AiFillCamera size={42} style={{ color: \"d7d7d7\" }} />\r\n              이미지 등록\r\n            </ImgUploadLabel>\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              id=\"product_image\"\r\n              className=\"hidden\"\r\n              multiple\r\n              onChange={onChangeImage}\r\n            />\r\n            {productImageError.minLength && (\r\n              <ErrorMessage>\r\n                <HiOutlineBan />\r\n                &nbsp;&nbsp;상품 사진을 등록해주세요.\r\n              </ErrorMessage>\r\n            )}\r\n            <ProductImgSection ref={imageList}>\r\n              {productImageURL &&\r\n                productImageURL.map((imageURL, i) => (\r\n                  <div key={i} className=\"img_wrapper\">\r\n                    <span className={!i && \"title_image\"}></span>\r\n                    <button\r\n                      className=\"product_image_index cursor_pointer\"\r\n                      value={i}\r\n                      id=\"image_id\"\r\n                      onClick={onDeleteProductImage}\r\n                    >\r\n                      &times;\r\n                    </button>\r\n                    <img src={imageURL} />\r\n                  </div>\r\n                ))}\r\n            </ProductImgSection>\r\n\r\n            <ProductImageDescription>\r\n              <br />- 첫 번째로 등록한 이미지가 <strong>대표이미지</strong>가\r\n              됩니다.\r\n              <br />\r\n              - 상품 등록까지 최대 1분까지 걸릴 수 있습니다.\r\n              <br />\r\n              - 상품 포장지나 구매했던 박스를 등록하면 더욱 자세한 정보로 등록할\r\n              수 있습니다.\r\n              <br />\r\n              - 이미지는 상품등록 시 정사각형으로 짤려서 등록됩니다.\r\n              <br />\r\n            </ProductImageDescription>\r\n          </td>\r\n        </tr>\r\n        {/*  End 상품이미지 Section */}\r\n\r\n        {/* 가격 Section */}\r\n        <tr>\r\n          <td>\r\n            <h2>\r\n              가격<span>*</span>\r\n            </h2>\r\n          </td>\r\n          <Price>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"숫자만 입력해주세요.\"\r\n              value={price}\r\n              onChange={onChangePrice}\r\n              id={priceError.minPrice && \"error\"}\r\n            />\r\n            &nbsp;&nbsp;&nbsp;원\r\n            {priceError.minPrice && (\r\n              <ErrorMessage>\r\n                <HiOutlineBan />\r\n                &nbsp;&nbsp;100원 이상 입력해주세요.\r\n              </ErrorMessage>\r\n            )}\r\n            <br />\r\n            <div className=\"delivery_charge_wrapper\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"delivery_charge_include\"\r\n                checked={containDeliveryCharge}\r\n                onClick={() => setContainDeliveryCharge((prev) => !prev)}\r\n              />\r\n              <label htmlFor=\"delivery_charge_include\">배송비 포함</label>\r\n            </div>\r\n          </Price>\r\n          {/* End 가격 Section */}\r\n        </tr>\r\n      </InputSection>\r\n\r\n      <SubmitSection>\r\n        <button disabled={loading} onClick={onSubmitNewAIProduct}>\r\n          {!loading && \"자동등록하기\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </SubmitSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductAINewPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin: 30px 0 50px 0;\r\n`;\r\nexport const UserStore = styled.div`\r\n  border: 1px solid #eeeeee;\r\n  margin-bottom: 30px;\r\n  display: flex;\r\n\r\n  & .imgWrapper {\r\n    width: 305px;\r\n    height: 305px;\r\n    position: relative;\r\n  }\r\n\r\n  & .edit_profile_img {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    top: 48%;\r\n    left: 50%;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px 1px #000000;\r\n    padding: 4px 8px;\r\n    font-size: 12px;\r\n    color: #000000;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  & .background_img {\r\n    //-webkit-filter: blur(1px);\r\n    filter: blur(10px);\r\n    width: 305px;\r\n    height: 305px;\r\n  }\r\n  & .background_img_wrapper {\r\n    width: 305px;\r\n    height: 305px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  & .background_img_cover {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: #000000;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  & .profile_img {\r\n    position: absolute;\r\n    top: 35%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 110px;\r\n    height: 110px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  & .store_name {\r\n    position: absolute;\r\n    top: 62%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: #ffffff;\r\n  }\r\n\r\n  & .store_management {\r\n    position: absolute;\r\n    top: 82%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: #ffffff;\r\n    font-size: 13px;\r\n    border: 1px solid #ffffff;\r\n    padding: 10px 16px;\r\n    cursor: pointer;\r\n  }\r\n  & .store_follow {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 82%;\r\n    left: 31%;\r\n    transform: translate(-50%, -50%);\r\n    color: #ffffff;\r\n    font-size: 14px;\r\n    border: 1px solid #ffffff;\r\n    cursor: pointer;\r\n    width: 100px;\r\n    height: 40px;\r\n  }\r\n  & .store_talk {\r\n    border: 1px solid #ffffff;\r\n    width: 100px;\r\n    height: 40px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 82%;\r\n    left: 69%;\r\n    transform: translate(-50%, -50%);\r\n    color: #ffffff;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n  }\r\n  & .active_follow {\r\n    background-color: rgba(255, 255, 255, 0.2);\r\n  }\r\n`;\r\nexport const EditProfileMenu = styled.div`\r\n  position: absolute;\r\n  top: -128px;\r\n  left: -152px;\r\n  background-color: #ffffff;\r\n  box-shadow: 0px 0px 5px 1px #000000;\r\n  border-radius: 5px;\r\n  font-size: 12px;\r\n  color: #000000;\r\n  padding: 4px 0;\r\n\r\n  & li {\r\n    padding: 4px 12px;\r\n  }\r\n\r\n  & li:hover {\r\n    background-color: #0969da;\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const UserStoreContents = styled.div`\r\n  width: 100%;\r\n  padding: 24px 30px;\r\n  color: #000000;\r\n  position: relative;\r\n\r\n  & .contents_store_name {\r\n    color: #000000;\r\n    font-size: 18px;\r\n    font-weight: 800;\r\n    margin-bottom: 32px;\r\n  }\r\n  & .contents_store_name input {\r\n    width: 210px;\r\n    padding: 4px 8px;\r\n    border: 1px solid #eeeeee;\r\n    font-size: 14px;\r\n  }\r\n  button {\r\n    font-size: 11px;\r\n    color: #999999;\r\n    border: 1px solid #eeeeee;\r\n    background-color: #ffffff;\r\n    cursor: pointer;\r\n  }\r\n  & .contents_store_name .store_name_submit_btn {\r\n    font-size: 14px;\r\n    padding: 4px 12px;\r\n    border: 1px solid #eeeeee;\r\n    border-width: 1px 1px 1px 0;\r\n  }\r\n  & .badge {\r\n    margin-bottom: 24px;\r\n    font-size: 13px;\r\n    display: flex;\r\n    align-items: center;\r\n    color: #999999;\r\n  }\r\n  & .badge .icon {\r\n    color: #f6995b;\r\n    font-size: 18px;\r\n  }\r\n  & .badge span {\r\n    color: #000000;\r\n  }\r\n  & .contents_store_desc {\r\n    width: 650px;\r\n    height: 120px;\r\n    position: relative;\r\n    font-size: 14px;\r\n    overflow: scroll;\r\n  }\r\n  & .contents_store_desc textarea {\r\n    resize: none;\r\n    width: 540px;\r\n    float: left;\r\n    border: 1px solid #eeeeee;\r\n    outline: none;\r\n    height: 114px;\r\n  }\r\n  & .contents_store_desc .store_desc_submit_btn {\r\n    height: 100%;\r\n    border: 1px solid #eeeeee;\r\n    border-width: 1px 1px 1px 0;\r\n    font-size: 15px;\r\n    float: left;\r\n    display: inline-block;\r\n    width: 100px;\r\n  }\r\n`;\r\n\r\nexport const TabMenu = styled.div`\r\n  //border: 1px solid black;\r\n  width: 1020px;\r\n\r\n  & ul {\r\n    height: 45px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n  }\r\n\r\n  & li {\r\n    display: flex;\r\n    font-size: 14px;\r\n    color: #999999;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 1px solid #eeeeee;\r\n    border-bottom: 1px solid black;\r\n  }\r\n  & .active {\r\n    color: #000000;\r\n    font-weight: 800;\r\n    border: 1px solid black;\r\n    border-width: 1px 1px 0 1px;\r\n    border-bottom: 1px solid #ffffff;\r\n  }\r\n`;\r\nexport const TabContent = styled.div`\r\n  margin-top: 64px;\r\n\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\n\r\nexport const ProductSection = styled.div`\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n`;\r\n\r\nexport const Product = styled.div`\r\n  height: 270px;\r\n  width: 190px;\r\n  border: 1px solid #eeeeee;\r\n\r\n  & .img_wrapper {\r\n    width: 190px;\r\n    height: 190px;\r\n    overflow: hidden;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  & img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nexport const ProductContents = styled.div`\r\n  position: relative;\r\n  margin: 6px;\r\n  color: #000000;\r\n  & .title {\r\n    overflow: hidden;\r\n    font-size: 14px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    margin-bottom: 12px;\r\n  }\r\n  & .price {\r\n    float: left;\r\n    font-size: 15px;\r\n    font-weight: 800;\r\n    width: 102px;\r\n  }\r\n  & .time {\r\n    color: #8c8a88;\r\n    float: right;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    width: 70px;\r\n    text-align: right;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SectionTitle = styled.h2`\r\n  font-weight: 400;\r\n  margin-top: 50px;\r\n`;\r\n\r\nexport const ProductSection = styled.div`\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 14px;\r\n`;\r\n\r\nexport const Product = styled.div`\r\n  height: 270px;\r\n  width: 190px;\r\n  border: 1px solid #eeeeee;\r\n\r\n  & .img_wrapper {\r\n    width: 190px;\r\n    height: 190px;\r\n    overflow: hidden;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  & img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n`;\r\n\r\nexport const ProductContents = styled.div`\r\n  position: relative;\r\n  margin: 6px;\r\n  color: #000000;\r\n  & .title {\r\n    overflow: hidden;\r\n    font-size: 14px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    margin-bottom: 12px;\r\n  }\r\n  & .price {\r\n    float: left;\r\n    font-size: 15px;\r\n    font-weight: 800;\r\n    width: 102px;\r\n  }\r\n  & .time {\r\n    color: #8c8a88;\r\n    float: right;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    width: 70px;\r\n    text-align: right;\r\n  }\r\n`;\r\n","// 통화 관련 모듈\r\n\r\n// 숫자를 한국 통화로 변경(integer of korea currency)\r\nexport function intOfKr(value = 0) {\r\n  return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\n// 한국통화를 숫자로 변경(korea currency of integer)\r\nconst krOfInt = (value) => {\r\n  return parseInt(value.replaceAll(\",\", \"\"));\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport function daysFormat(getDate) {\r\n  const staticDate = new Date(getDate);\r\n  const milliSeconds = new Date() - staticDate;\r\n  // console.log('Time >> ', getDate, staticDate);\r\n  const seconds = milliSeconds / 1000;\r\n  if (seconds < 60) return `방금 전`;\r\n  const minutes = seconds / 60;\r\n  if (minutes < 60) return `${Math.floor(minutes)}분 전`;\r\n  const hours = minutes / 60;\r\n  if (hours < 24) return `${Math.floor(hours)}시간 전`;\r\n  const days = hours / 24;\r\n  if (days < 7) return `${Math.floor(days)}일 전`;\r\n  const weeks = days / 7;\r\n  if (weeks < 5) return `${Math.floor(weeks)}주 전`;\r\n  const months = days / 30;\r\n  if (months < 12) return `${Math.floor(months)}개월 전`;\r\n  const years = days / 365;\r\n  return `${Math.floor(years)}년 전`;\r\n}\r\n\r\nexport function oneDaysFormat(getDate) {\r\n  const staticDate = new Date(getDate);\r\n  const milliSeconds = new Date() - staticDate;\r\n\r\n  const seconds = milliSeconds / 1000;\r\n  if (seconds < 60) return `방금 전`;\r\n  const minutes = seconds / 60;\r\n  if (minutes < 60) return `${Math.floor(minutes)}분 전`;\r\n  const hours = minutes / 60;\r\n  if (hours < 24) return `${Math.floor(hours)}시간 전`;\r\n  const days = hours / 24;\r\n  return `${Math.floor(days)}일 전`;\r\n}\r\n\r\n// 날짜를 보기 좋은 형태로 변환\r\n// EX) 2022-02-20 05:17:43\r\nexport function timeFormat(getDate) {\r\n  console.log(\"get data >> \", getDate);\r\n  return getDate.replace(\"T\", \" \").substring(0, 19);\r\n}\r\n\r\n// 날짜를 보기 좋은 형태로 변환 (한국 시간으로 표기), 9시간 추가\r\n// 1000(1초), 1000 * 60(1분), 1000 * 60 * 60(1시간), 1000 * 60 * 60 * 24(1일/24시간)\r\nexport function timeKrFormat(getDate) {\r\n  // 9시간\r\n  const ADD_TIME = 1000 * 60 * 60 * 9;\r\n\r\n  let parseTime = Date.parse(getDate);\r\n  parseTime += ADD_TIME;\r\n\r\n  const newDate = new Date(parseTime);\r\n  const ISODate = newDate.toISOString();\r\n\r\n  return ISODate.replace(\"T\", \" \").substring(0, 19);\r\n}\r\n\r\nexport function timeKrFormatAndMMDD(getDate = 0) {\r\n  // 9시간\r\n  const ADD_TIME = 1000 * 60 * 60 * 9;\r\n\r\n  let parseTime = Date.parse(getDate);\r\n  parseTime += ADD_TIME;\r\n\r\n  const newDate = new Date(parseTime);\r\n  // console.log(\"newDate >> \", newDate);\r\n  const ISODate = newDate.toISOString();\r\n  // console.log(\"ISODate >> \", ISODate);\r\n\r\n  const formatMMDD = ISODate.replace(\"T\", \" \")\r\n    .substring(5, 10)\r\n    .replace(\"-\", \". \");\r\n  return formatMMDD;\r\n}\r\n\r\nexport function changeTime(getDate) {\r\n  // ====================================================\r\n  // 게시물을 1달 전까진 오늘을 기준으로 시각을 출력하기 위한  함수입니다\r\n  // getDate는 스트링으로 된 시각을 받고 함수 내에서 밀리초로 변환하여 사용함\r\n  // ex) 5분전, 10분전, 4시간전, 3일전\r\n  // 1달 이후부턴 년, 월, 일, 시간 순으로 출력\r\n  // ex) 2041-03-04 05:43\r\n  // ====================================================\r\n\r\n  // server측에서 Date.now로 값을 바로 넣으니 오차없이 가져와졌다\r\n  const staticDate = new Date(getDate);\r\n  // (사용안함) MongoDB는 기본적으로 시간이 ISO 타입으로 저장된다고 하는데 이걸 다시 날짜객체로 만들어주면 내 위치가 한국이라 9시간이 더해지는 것 같다 그래서 다시 9시간을 빼준다.\r\n  // staticDate.setHours(staticDate.getHours() - 9);\r\n\r\n  //현재 시간을 불러온다\r\n  const now = new Date();\r\n\r\n  // 밀리초를 각각 초, 분, 시간, 하루 단위로 계산\r\n  const millisecondsDiff = now - staticDate;\r\n  const secondsDiff = millisecondsDiff / 1000;\r\n  const minutesDiff = secondsDiff / 60;\r\n  const hoursDiff = minutesDiff / 60;\r\n  const daysDiff = hoursDiff / 24;\r\n\r\n  // console.log(\"----- [ 현재시간 - 데이터 입력시간 ] -----\");\r\n  // console.log(\"원본 시간 > \", getDate);\r\n  // console.log(\"밀리초 > \", millisecondsDiff);\r\n  // console.log(\"초 > \", secondsDiff);\r\n  // console.log(\"분 > \", minutesDiff);\r\n  // console.log(\"시간 > \", hoursDiff);\r\n  // console.log(\"일 > \", daysDiff);\r\n\r\n  //1.5일 같은 날이 나오면 2일전으로 표기하기 위해 반드시 올림을 해서 반환한다\r\n  //30일 초과105958904\r\n  if (millisecondsDiff > 25_9200_0000) {\r\n    // return getDate.replace('T', ' ').substring(0, 19);\r\n    //1일 초과\r\n  } else if (millisecondsDiff > 8640_0000) {\r\n    return Math.ceil(daysDiff) + \"일 전\";\r\n\r\n    //1시간 초과\r\n  } else if (millisecondsDiff > 360_0000) {\r\n    return Math.ceil(hoursDiff) + \"시간 전\";\r\n\r\n    //1분 초과\r\n  } else if (millisecondsDiff > 6_0000) {\r\n    return Math.ceil(minutesDiff) + \"분 전\";\r\n\r\n    //1분 미만, 초 단위는 오차가 조금 있어서 분 또는 방금전으로 대체\r\n  } else {\r\n    return \"방금 전\";\r\n    // return Math.ceil(secondsDiff) + '초 전';\r\n  }\r\n\r\n  // 조건부의 숫자는 밀리초를 쪼개서 결과를 반환했습니다.\r\n  // ==============================\r\n  // 30일\r\n  // 1000 * 60 * 60 * 24 * 30 =\r\n  // 25_9200_0000\r\n  // ==============================\r\n  // 1일\r\n  // 1000 * 60 * 60 * 24 =\r\n  // 8640_0000\r\n  // ==============================\r\n  // 1시간\r\n  // 1000 * 60 * 60 =\r\n  // 360_0000\r\n  // ==============================\r\n  // 1분\r\n  // 1000 * 60 =\r\n  // 6_0000\r\n  // ==============================\r\n}\r\n","import { Container } from \"./styled.js\";\r\nimport {\r\n  Product,\r\n  ProductContents,\r\n  ProductSection,\r\n} from \"../../../LandingPage/styled\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { intOfKr } from \"../../../../utils/Currency\";\r\nimport { daysFormat } from \"../../../../utils/Time\";\r\n\r\nconst ShopProductsPage = ({ products }) => {\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        상품&nbsp;<span style={{ color: \"red\" }}>{products.length}</span>\r\n      </h3>\r\n      <hr />\r\n      <ProductSection>\r\n        {products &&\r\n          products.map((product) => (\r\n            <>\r\n              <Link to={`/product/${product._id}`}>\r\n                <Product>\r\n                  <div className=\"img_wrapper\">\r\n                    <img\r\n                      width={190}\r\n                      src={product.thumbnailImgURL}\r\n                      alt={product.title}\r\n                    />\r\n                  </div>\r\n                  <ProductContents>\r\n                    <div className=\"title\">{product.title}</div>\r\n                    <div className=\"price\">\r\n                      {intOfKr(product.price)} <span>원</span>\r\n                    </div>\r\n                    <div className=\"time\">{daysFormat(product.createdAt)}</div>\r\n                  </ProductContents>\r\n                </Product>\r\n              </Link>\r\n            </>\r\n          ))}\r\n      </ProductSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ShopProductsPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n  border: 2px solid #eeeeee;\r\n  height: 148px;\r\n  position: relative;\r\n  & hr {\r\n    padding: 0px;\r\n    margin: 0px;\r\n  }\r\n\r\n  & span {\r\n    font-size: 12px;\r\n    color: #999999;\r\n    margin-left: 20px;\r\n    position: absolute;\r\n    left: 0px;\r\n    bottom: 16px;\r\n  }\r\n  & button {\r\n    float: right;\r\n    background-color: transparent;\r\n    padding: 5px 18px;\r\n    color: #999999;\r\n    border: 1px solid #eeeeee;\r\n    margin-right: 7px;\r\n    position: absolute;\r\n    right: 0px;\r\n    bottom: 8px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nexport const CommentTextarea = styled.textarea`\r\n  font-size: 13px;\r\n  width: 940px;\r\n  height: 50px;\r\n  margin: 20px;\r\n  resize: none;\r\n  border: none;\r\n  outline: none;\r\n`;\r\nexport const CommentSection = styled.div`\r\n  margin: 24px 0;\r\n  border-bottom: 2px solid #eeeeee;\r\n  display: flex;\r\n  position: relative;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-right: 12px;\r\n  }\r\n  & .content {\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n  }\r\n  & .content span {\r\n    background-color: #fff3d3;\r\n  }\r\n  & .name {\r\n    color: #ab8a88;\r\n    margin-bottom: 10px;\r\n  }\r\n  & .time {\r\n    position: absolute;\r\n    color: #999999;\r\n    font-size: 13px;\r\n    top: 0;\r\n    right: 12px;\r\n  }\r\n  & .create_comment {\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0px;\r\n    margin-bottom: 20px;\r\n    float: left;\r\n  }\r\n  & .delete_ask {\r\n    border: none;\r\n    border-left: 1px solid #eeeeee;\r\n    padding: 0px 0px 0px 12px;\r\n    float: left;\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n","import {\r\n  CommentSection,\r\n  CommentTextarea,\r\n  Container,\r\n  InputContainer,\r\n} from \"./styled.js\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { BsPencil } from \"react-icons/bs\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { daysFormat } from \"../../../../utils/Time\";\r\nimport { FaRegCommentDots, FaRegTrashAlt } from \"react-icons/fa\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SigninModal from \"../../../../components/SigninModal\";\r\n\r\nconst ShopCommentsPage = ({ shopId, history }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [commentList, setCommentList] = useState([]);\r\n\r\n  const inputComment = useRef();\r\n\r\n  function getShopComment(shopId) {\r\n    axios\r\n      .get(`/user/${shopId}/contact`)\r\n      .then((res) => {\r\n        console.log(\"res get comment >> \", res);\r\n\r\n        const _commentList = [];\r\n\r\n        res.data.data.forEach((comment) => {\r\n          let data = {};\r\n\r\n          data[\"content\"] = comment.content;\r\n          data[\"createdAt\"] = comment.createdAt;\r\n          data[\"commentId\"] = comment.id;\r\n          data[\"storeId\"] = comment._fromWriterId[0].id;\r\n\r\n          delete comment._fromWriterId[0].createdAt;\r\n          delete comment._fromWriterId[0].id;\r\n          delete comment._fromWriterId[0]._id;\r\n\r\n          data = {\r\n            ...data,\r\n            ...comment._fromWriterId[0],\r\n          };\r\n          _commentList.push(data);\r\n        });\r\n\r\n        setCommentList(_commentList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err get comment >> \", err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getShopComment(shopId);\r\n  }, []);\r\n\r\n  function onClickCreateComment() {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    if (comment.length === 0) return;\r\n\r\n    axios\r\n      .post(`/user/${shopId}/contact`, { content: comment })\r\n      .then((res) => {\r\n        console.log(\"res create comment >> \", res);\r\n        setComment(\"\");\r\n        getShopComment(shopId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err create comment >> \", err);\r\n      });\r\n  }\r\n\r\n  const onClickNestedComment = (e) => {\r\n    const [userId, storeName] = e.target.value.split(\"/\");\r\n    console.log(userId, storeName);\r\n    setComment(`@${storeName} : `);\r\n    inputComment.current.focus();\r\n  };\r\n\r\n  const onClickDeleteComment = (e) => {\r\n    const [commentId, storeName] = e.target.value.split(\"/\");\r\n\r\n    axios\r\n      .delete(`/user/${commentId}/contact`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        getShopComment(shopId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const isNestedComment = (comment) => {\r\n    if (comment[0] === \"@\") {\r\n      const target = comment.split(\" \")[0];\r\n      comment = comment.replace(target, \"\");\r\n\r\n      return (\r\n        <>\r\n          <span>{target}</span> {comment}\r\n        </>\r\n      );\r\n    }\r\n    return comment;\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        찜&nbsp;<span style={{ color: \"red\" }}>{commentList.length}</span>\r\n      </h3>\r\n      <hr />\r\n\r\n      <InputContainer>\r\n        <CommentTextarea\r\n          value={comment}\r\n          onChange={(e) => {\r\n            if (e.target.value.length > 100) return;\r\n            setComment(e.target.value);\r\n          }}\r\n          type=\"text\"\r\n          placeholder=\"상품문의 입력\"\r\n          ref={inputComment}\r\n        />\r\n\r\n        <hr />\r\n        <span>{comment.length} / 100</span>\r\n        <button onClick={onClickCreateComment}>\r\n          <BsPencil /> 등록\r\n        </button>\r\n      </InputContainer>\r\n\r\n      <div>\r\n        {commentList &&\r\n          commentList.map((comment) => (\r\n            <CommentSection>\r\n              <Link to={`/shop/${comment._id}`}>\r\n                <img src={comment.profileURL} />\r\n              </Link>\r\n              <div>\r\n                <Link to={`/shop/${comment._id}`}>\r\n                  <div className=\"name\">{comment.storeName}</div>\r\n                </Link>\r\n                <div className=\"content\">\r\n                  {isNestedComment(comment.content)}\r\n                </div>\r\n                <div className=\"time\">{daysFormat(comment.createdAt)}</div>\r\n                <button\r\n                  className=\"create_comment cursor_pointer\"\r\n                  value={`${comment._id}/${comment.storeName}`}\r\n                  onClick={onClickNestedComment}\r\n                >\r\n                  <span>\r\n                    <FaRegCommentDots\r\n                      size={14}\r\n                      style={{ transform: \"scaleX(-1)\" }}\r\n                    />\r\n                  </span>\r\n                  &nbsp; 댓글달기\r\n                </button>\r\n                {user.isSignin && user.isSignin.data._id === comment.storeId && (\r\n                  <button\r\n                    className=\"delete_ask cursor_pointer\"\r\n                    value={`${comment.commentId}/${comment.storeName}`}\r\n                    onClick={onClickDeleteComment}\r\n                  >\r\n                    <span>\r\n                      <FaRegTrashAlt size={14} />\r\n                    </span>\r\n                    &nbsp; 삭제하기\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </CommentSection>\r\n          ))}\r\n      </div>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ShopCommentsPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\nexport const FavoritesContainer = styled.div`\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n`;\r\nexport const Favorites = styled.div`\r\n  display: flex;\r\n  width: 496px;\r\n  height: 140px;\r\n  border: 1px solid #dcdcdc;\r\n  color: #000000;\r\n  & hr {\r\n    width: 100%;\r\n    padding: 0px;\r\n    margin: 0px;\r\n    color: #dcdcdc;\r\n  }\r\n  & .img_wrapper {\r\n    height: 140px;\r\n  }\r\n\r\n  & img {\r\n    width: 140px;\r\n    height: 140px;\r\n  }\r\n\r\n  & .content_wrapper {\r\n    width: 350px;\r\n    height: 140px;\r\n  }\r\n\r\n  & .content {\r\n    padding: 16px;\r\n  }\r\n\r\n  & .content_title {\r\n    overflow: hidden;\r\n    font-size: 14px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  & .content_price {\r\n    margin-bottom: 6px;\r\n    font-weight: 800;\r\n    font-size: 15px;\r\n  }\r\n\r\n  & .content_time {\r\n    margin-bottom: 4px;\r\n    font-size: 12px;\r\n    color: #6c6c6c;\r\n  }\r\n\r\n  & .content_address {\r\n    padding: 8px 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 13px;\r\n    color: #6c6c6c;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n`;\r\n","import { Container, FavoritesContainer, Favorites } from \"./styled.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { intOfKr } from \"../../../../utils/Currency\";\r\nimport { daysFormat } from \"../../../../utils/Time\";\r\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ShopFavoritesPage = () => {\r\n  const [favorite, setFavorite] = useState([]);\r\n\r\n  function getFavorite() {\r\n    // 쿠키에 저장된 토큰값으로 유저를 조회\r\n    axios\r\n      .get(\"/product/favorite\")\r\n      .then((res) => {\r\n        console.log(\"res favorite >> \", res);\r\n        const favoriteList = [];\r\n        res.data.map((product) => {\r\n          favoriteList.push(product._fromProductId[0]);\r\n        });\r\n        setFavorite(favoriteList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err favorite >> \", err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getFavorite();\r\n  }, []);\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        찜&nbsp;<span style={{ color: \"red\" }}>{favorite.length}</span>\r\n      </h3>\r\n      <hr />\r\n      <FavoritesContainer>\r\n        {favorite &&\r\n          favorite.map((product) => (\r\n            <Link\r\n              value={product._id}\r\n              to={`/product/${product._id}`}\r\n              onClick={(e) => {\r\n                console.log(e.target.value);\r\n              }}\r\n            >\r\n              <Favorites className=\"cursor_pointer\">\r\n                <div className=\"img_wrapper\">\r\n                  <img src={product.thumbnailImgURL} />\r\n                </div>\r\n                <div className=\"content_wrapper\">\r\n                  <div className=\"content\">\r\n                    <div className=\"content_title\">{product.title}</div>\r\n                    <div className=\"content_price\">\r\n                      {intOfKr(product.price)} <span>원</span>\r\n                    </div>\r\n\r\n                    <div className=\"content_time\">\r\n                      {daysFormat(product.createdAt)}\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"content_address\">\r\n                    <FaMapMarkerAlt size={14} style={{ color: \"#999999\" }} />\r\n                    &nbsp;\r\n                    {product.address}\r\n                  </div>\r\n                </div>\r\n              </Favorites>\r\n            </Link>\r\n          ))}\r\n      </FavoritesContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ShopFavoritesPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n  border: 2px solid #eeeeee;\r\n  height: 148px;\r\n  position: relative;\r\n  & hr {\r\n    padding: 0px;\r\n    margin: 0px;\r\n  }\r\n\r\n  & span {\r\n    font-size: 12px;\r\n    color: #999999;\r\n    margin-left: 20px;\r\n    position: absolute;\r\n    left: 0px;\r\n    bottom: 16px;\r\n  }\r\n  & button {\r\n    float: right;\r\n    background-color: transparent;\r\n    padding: 5px 18px;\r\n    color: #999999;\r\n    border: 1px solid #eeeeee;\r\n    margin-right: 7px;\r\n    position: absolute;\r\n    right: 0px;\r\n    bottom: 8px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nexport const ReviewTextarea = styled.textarea`\r\n  font-size: 13px;\r\n  width: 940px;\r\n  height: 50px;\r\n  margin: 20px;\r\n  resize: none;\r\n  border: none;\r\n  outline: none;\r\n`;\r\nexport const ReviewSection = styled.div`\r\n  margin: 24px 0;\r\n  border-bottom: 2px solid #eeeeee;\r\n  display: flex;\r\n  position: relative;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-right: 12px;\r\n  }\r\n  & .content {\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n  }\r\n  & .content span {\r\n    background-color: #fff3d3;\r\n  }\r\n  & .name {\r\n    color: #ab8a88;\r\n    margin-bottom: 10px;\r\n  }\r\n  & .time {\r\n    position: absolute;\r\n    color: #999999;\r\n    font-size: 13px;\r\n    top: 0;\r\n    right: 12px;\r\n  }\r\n  & .create_review {\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0px;\r\n    margin-bottom: 20px;\r\n    float: left;\r\n  }\r\n  & .delete_ask {\r\n    border: none;\r\n    border-left: 1px solid #eeeeee;\r\n    padding: 0px 0px 0px 12px;\r\n    float: left;\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n","import { Container } from \"./styled.js\";\r\nimport { ReviewTextarea, InputContainer } from \"./styled\";\r\nimport { BsPencil } from \"react-icons/bs\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { ReviewSection } from \"../ShopReviewsPage/styled\";\r\nimport { daysFormat } from \"../../../../utils/Time\";\r\nimport { FaRegCommentDots, FaRegTrashAlt } from \"react-icons/fa\";\r\nimport SigninModal from \"../../../../components/SigninModal\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst ShopReviewsPage = ({ shopId, hishory }) => {\r\n  const user = useSelector((state) => state.user);\r\n  const inputReview = useRef();\r\n\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const [review, setReview] = useState(\"\");\r\n  const [reviewList, setReviewList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getShopReview(shopId);\r\n  }, []);\r\n\r\n  function getShopReview(shopId) {\r\n    axios\r\n      .get(`/user/${shopId}/review`)\r\n      .then((res) => {\r\n        console.log(\"res get review >> \", res);\r\n\r\n        const _reviewList = [];\r\n\r\n        res.data.data.forEach((review) => {\r\n          let data = {};\r\n\r\n          data[\"content\"] = review.content;\r\n          data[\"createdAt\"] = review.createdAt;\r\n          data[\"reviewId\"] = review.id;\r\n          data[\"storeId\"] = review._fromWriterId[0].id;\r\n\r\n          delete review._fromWriterId[0].createdAt;\r\n          delete review._fromWriterId[0].id;\r\n          delete review._fromWriterId[0]._id;\r\n\r\n          data = {\r\n            ...data,\r\n            ...review._fromWriterId[0],\r\n          };\r\n          _reviewList.push(data);\r\n        });\r\n\r\n        setReviewList(_reviewList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err get review >> \", err);\r\n      });\r\n  }\r\n\r\n  const onClickCreateReview = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    if (review.length === 0) return;\r\n\r\n    axios\r\n      .post(`/user/${shopId}/review`, { content: review })\r\n      .then((res) => {\r\n        console.log(\"res create review >> \", res);\r\n        setReview(\"\");\r\n        getShopReview(shopId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err create review >> \", err);\r\n      });\r\n  };\r\n\r\n  const onClickNestedReview = (e) => {\r\n    const [userId, storeName] = e.target.value.split(\"/\");\r\n    console.log(userId, storeName);\r\n    setReview(`@${storeName} : `);\r\n    inputReview.current.focus();\r\n  };\r\n\r\n  const onClickDeleteReview = (e) => {\r\n    const [reviewId, storeName] = e.target.value.split(\"/\");\r\n\r\n    axios\r\n      .delete(`/user/${reviewId}/review`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        getShopReview(shopId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const isNestedReview = (review) => {\r\n    if (review[0] === \"@\") {\r\n      const target = review.split(\" \")[0];\r\n      review = review.replace(target, \"\");\r\n\r\n      return (\r\n        <>\r\n          <span>{target}</span> {review}\r\n        </>\r\n      );\r\n    }\r\n    return review;\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        찜&nbsp;<span style={{ color: \"red\" }}>{reviewList.length}</span>\r\n      </h3>\r\n      <hr />\r\n\r\n      <InputContainer>\r\n        <ReviewTextarea\r\n          value={review}\r\n          onChange={(e) => {\r\n            if (e.target.value.length > 100) return;\r\n            setReview(e.target.value);\r\n          }}\r\n          type=\"text\"\r\n          placeholder=\"상점후기 입력\"\r\n          ref={inputReview}\r\n        />\r\n\r\n        <hr />\r\n        <span>{review.length} / 100</span>\r\n        <button onClick={onClickCreateReview}>\r\n          <BsPencil /> 등록\r\n        </button>\r\n      </InputContainer>\r\n\r\n      <div>\r\n        {reviewList &&\r\n          reviewList.map((review) => (\r\n            <ReviewSection>\r\n              <Link to={`/shop/${review._id}`}>\r\n                <img src={review.profileURL} />\r\n              </Link>\r\n              <div>\r\n                <Link to={`/shop/${review._id}`}>\r\n                  <div className=\"name\">{review.storeName}</div>\r\n                </Link>\r\n                <div className=\"content\">{isNestedReview(review.content)}</div>\r\n                <div className=\"time\">{daysFormat(review.createdAt)}</div>\r\n                <button\r\n                  className=\"create_review cursor_pointer\"\r\n                  value={`${review._id}/${review.storeName}`}\r\n                  onClick={onClickNestedReview}\r\n                >\r\n                  <span>\r\n                    <FaRegCommentDots\r\n                      size={14}\r\n                      style={{ transform: \"scaleX(-1)\" }}\r\n                    />\r\n                  </span>\r\n                  &nbsp; 댓글달기\r\n                </button>\r\n                {user.isSignin && user.isSignin.data._id === review.storeId && (\r\n                  <button\r\n                    className=\"delete_ask cursor_pointer\"\r\n                    value={`${review.reviewId}/${review.storeName}`}\r\n                    onClick={onClickDeleteReview}\r\n                  >\r\n                    <span>\r\n                      <FaRegTrashAlt size={14} />\r\n                    </span>\r\n                    &nbsp; 삭제하기\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </ReviewSection>\r\n          ))}\r\n      </div>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ShopReviewsPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\nexport const UserContainer = styled.div`\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n`;\r\nexport const User = styled.button`\r\n  border: 2px solid #ffffff;\r\n  padding: 25px;\r\n  transition: 0.2s;\r\n  & img {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n  }\r\n  & .name {\r\n    font-size: 24px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  &:hover {\r\n    border: 2px solid black;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & h3 {\r\n    font-weight: 400;\r\n    padding: 0;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    margin: 24px 0 24px 0;\r\n  }\r\n`;\r\nexport const UserContainer = styled.div`\r\n  width: 1020px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n`;\r\nexport const User = styled.button`\r\n  border: 2px solid #ffffff;\r\n  transition: 0.2s;\r\n  width: 190px;\r\n  height: 250px;\r\n\r\n  & img {\r\n    width: 120px;\r\n    height: 120px;\r\n    border: 1px solid #eeeeee;\r\n    border-radius: 50%;\r\n  }\r\n  & .name {\r\n    font-size: 24px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  &:hover {\r\n    border: 2px solid black;\r\n  }\r\n`;\r\n","import { Container } from \"./styled.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { User, UserContainer } from \"../ShopFollowersPage/styled\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ShopFollowingsPage = ({ userId, history }) => {\r\n  const [following, setFollowing] = useState([]);\r\n\r\n  // 내가 팔로우한 유저(팔로윙)\r\n  function getUserFollowing(userId) {\r\n    axios\r\n      .get(`/follow/${userId}/following`)\r\n      .then((res) => {\r\n        console.log(\"res following >> \", res);\r\n        const followerList = [];\r\n\r\n        res.data.data.map((v) => {\r\n          followerList.push(v._toUserId[0]);\r\n        });\r\n\r\n        setFollowing(followerList);\r\n        // console.log(\"followerList >> \", followerList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserFollowing(userId);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        팔로잉&nbsp;<span style={{ color: \"red\" }}>{following.length}</span>\r\n      </h3>\r\n      <hr />\r\n      <UserContainer>\r\n        {following &&\r\n          following.map((user) => (\r\n            <User\r\n              value={user._id}\r\n              onClick={(e) => {\r\n                history.push(`/shop/${e.target.value}`);\r\n              }}\r\n              className=\"cursor_pointer\"\r\n            >\r\n              <div className=\"name\">{user.storeName}</div>\r\n              <img src={user.profileURL} />\r\n            </User>\r\n          ))}\r\n      </UserContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ShopFollowingsPage);\r\n","import { Container, User, UserContainer } from \"./styled.js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ShopFollowersPage = ({ userId, history }) => {\r\n  const [follower, setFollower] = useState([]);\r\n\r\n  // 나를 팔로우한 유저(팔로워)\r\n  function getUserFollower(userId) {\r\n    axios\r\n      .get(`/follow/${userId}/follower`)\r\n      .then((res) => {\r\n        console.log(\"res follower >> \", res);\r\n        const followerList = [];\r\n\r\n        res.data.data.map((v) => {\r\n          followerList.push(v._fromUserId[0]);\r\n        });\r\n\r\n        setFollower(followerList);\r\n        // console.log(\"followerList >> \", followerList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUserFollower(userId);\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <h3>\r\n        팔로워&nbsp;<span style={{ color: \"red\" }}>{follower.length}</span>\r\n      </h3>\r\n      <hr />\r\n      <UserContainer>\r\n        {follower &&\r\n          follower.map((user) => (\r\n            <User\r\n              value={user._id}\r\n              onClick={(e) => {\r\n                history.push(`/shop/${e.target.value}`);\r\n              }}\r\n              className=\"cursor_pointer\"\r\n            >\r\n              <div className=\"name\">{user.storeName}</div>\r\n              <img src={user.profileURL} />\r\n            </User>\r\n          ))}\r\n      </UserContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ShopFollowersPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  z-index: 12;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const MenuContainer = styled.div`\r\n  display: inline-block;\r\n  position: relative;\r\n  z-index: 10;\r\n`;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport { Container, MenuContainer } from \"./styled\";\r\n\r\nfunction Menu({ children, style, show, close }) {\r\n  const modalRef = useRef();\r\n\r\n  const stopPropagation = useCallback((e) => {\r\n    e.stopPropagation();\r\n  }, []);\r\n\r\n  const onCloseModal = useCallback(\r\n    (e) => {\r\n      if (show && e.target) {\r\n        close();\r\n      }\r\n    },\r\n    [show]\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", onCloseModal);\r\n    return () => {\r\n      window.removeEventListener(\"click\", onCloseModal);\r\n    };\r\n  }, [onCloseModal]);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MenuContainer onClick={stopPropagation} ref={modalRef} style={style}>\r\n        {children}\r\n      </MenuContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const InputHidden = styled.input`\r\n  display: none;\r\n`;\r\n\r\nexport const InputLabel = styled.label`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #ff5058;\r\n  color: #ffffff;\r\n  font-weight: 800;\r\n\r\n  &:hover {\r\n    background-color: #ff3039;\r\n  }\r\n`;\r\n","import { withRouter } from \"react-router-dom\";\r\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { Container, InputHidden, InputLabel } from \"./styled\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport AlertModal from \"../AlertModal\";\r\n\r\nfunction ImageCrop({ history, show, close }) {\r\n  const user = useSelector((state) => state.user);\r\n  const [upImg, setUpImg] = useState();\r\n  const imgRef = useRef(null);\r\n  const previewCanvasRef = useRef(null);\r\n  const [crop, setCrop] = useState({\r\n    unit: \"px\",\r\n    width: 50,\r\n    height: 50,\r\n    aspect: 1 / 1,\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n\r\n  const onSelectFile = (e) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener(\"load\", () => setUpImg(reader.result));\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onLoad = useCallback((img) => {\r\n    imgRef.current = img;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!show) {\r\n      setUpImg(\"\");\r\n    }\r\n\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return;\r\n    }\r\n\r\n    const image = imgRef.current;\r\n    const canvas = previewCanvasRef.current;\r\n    const crop = completedCrop;\r\n\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const pixelRatio = window.devicePixelRatio;\r\n\r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingQuality = \"high\";\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n  }, [completedCrop, show]);\r\n\r\n  const onClickUploadImage = (canvas, crop) => {\r\n    if (!crop || !canvas) {\r\n      return;\r\n    }\r\n\r\n    //blob 생성\r\n    canvas.toBlob(\r\n      (file) => {\r\n        const formData = new FormData();\r\n        console.log('file >> ', file);\r\n        formData.append(\"image\", file, user.isSignin.data.storeName);\r\n        console.log(formData.get('image'));\r\n\r\n        axios\r\n          .patch(\"/user/profile/upload\", formData, {'Content-Type': 'image/png'})\r\n          .then((res) => {\r\n            console.log(\"res >> \", res);\r\n            close();\r\n            history.push(`/shop/${user.isSignin.data._id}`);\r\n          })\r\n          .catch((err) => {\r\n            alert(\"프로필 변경에 실패했습니다.\");\r\n          });\r\n      },\r\n      \"image/png\",\r\n      1\r\n    );\r\n  };\r\n\r\n  return (\r\n    <AlertModal\r\n      show={show}\r\n      close={close}\r\n      modalHeader=\"프로필 사진 업로드\"\r\n      submitButtonName=\"업로드\"\r\n      useCloseButton={false}\r\n      confirm={() =>\r\n        onClickUploadImage(previewCanvasRef.current, completedCrop)\r\n      }\r\n    >\r\n      <Container>\r\n        <ReactCrop\r\n          src={upImg}\r\n          onImageLoaded={onLoad}\r\n          crop={crop}\r\n          onChange={(c) => setCrop(c)}\r\n          onComplete={(c) => setCompletedCrop(c)}\r\n          circularCrop={true}\r\n          minWidth={50}\r\n          minHeight={50}\r\n          keepSelection={true}\r\n          style={{ marginBottom: \"8px\", maxWidth: \"400px\", maxHeight: \"400px\" }}\r\n        />\r\n\r\n        <InputLabel for=\"select-image\">이미지 선택</InputLabel>\r\n        <InputHidden\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          id=\"select-image\"\r\n          onChange={onSelectFile}\r\n        />\r\n\r\n        {/* Canvas Preview Section */}\r\n        <canvas ref={previewCanvasRef} style={{ display: \"none\" }} />\r\n      </Container>\r\n    </AlertModal>\r\n  );\r\n}\r\n\r\nexport default withRouter(ImageCrop);\r\n","import {\r\n  Container,\r\n  TabContent,\r\n  TabMenu,\r\n  EditProfileMenu,\r\n  UserStore,\r\n  UserStoreContents,\r\n} from \"./styled\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, Route, Switch, useLocation, withRouter } from \"react-router-dom\";\r\nimport { AiFillShop } from \"react-icons/ai\";\r\nimport { GrEdit } from \"react-icons/gr\";\r\n\r\nimport { RiMessage3Line } from \"react-icons/ri\";\r\nimport { BsPersonCheckFill, BsPersonPlus } from \"react-icons/bs\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\nimport ShopProductsPage from \"./Section/ShopProductsPage\";\r\nimport ShopCommentsPage from \"./Section/ShopCommentsPage\";\r\nimport ShopFavoritesPage from \"./Section/ShopFavoritesPage\";\r\nimport ShopReviewsPage from \"./Section/ShopReviewsPage\";\r\nimport ShopFollowingsPage from \"./Section/ShopFollowingsPage\";\r\nimport ShopFollowersPage from \"./Section/ShopFollowersPage\";\r\nimport axios from \"axios\";\r\nimport { oneDaysFormat } from \"../../utils/Time\";\r\nimport Menu from \"../../components/Menu\";\r\nimport AlertModal from \"../../components/AlertModal\";\r\nimport ImageCrop from \"../../components/ImageCrop\";\r\nimport SigninModal from \"../../components/SigninModal\";\r\n\r\nconst MyShopPage = ({ history }) => {\r\n  const location = useLocation();\r\n  const userId = getUserId();\r\n  const tabMenuList = [\r\n    \"상품\",\r\n    \"상점문의\",\r\n    \"찜\",\r\n    \"상점후기\",\r\n    \"팔로잉\",\r\n    \"팔로워\",\r\n  ];\r\n  const [tabMenu, setTabMenu] = useState(0);\r\n\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n\r\n  const [storeName, setStoreName] = useState(\"\");\r\n  const [storeDescription, setStoreDescription] = useState(\"\");\r\n\r\n  const [editStoreName, setEditStoreName] = useState(false);\r\n  const [editStoreDescription, setEditStoreDescription] = useState(false);\r\n\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const [showEditMenu, setShowEditMenu] = useState(false);\r\n\r\n  const [showResetModal, setShowResetModal] = useState(false);\r\n  const [showCropImageModal, setShowCropImageModal] = useState(false);\r\n\r\n  const [userInfo, setUserInfo] = useState({});\r\n  const [isMyStore, setIsMyStore] = useState(false);\r\n\r\n  // 해당 상점 팔로우 여부\r\n  const [isFollow, setIsFollow] = useState(false);\r\n\r\n  const onCloseEditMenu = () => {\r\n    setShowEditMenu(false);\r\n  };\r\n\r\n  const onClickTabMenu = (e) => {\r\n    const tabIndex = e.target.value;\r\n    setTabMenu(tabIndex);\r\n  };\r\n\r\n  const onChangeStoreName = (e) => {\r\n    if (e.target.value.length < 16) setStoreName(e.target.value);\r\n  };\r\n  const onChangeStoreDescription = (e) => {\r\n    if (e.target.value.length < 250) setStoreDescription(e.target.value);\r\n  };\r\n\r\n  // 응답 후 상태 업데이트\r\n  function setResState() {\r\n    const userId = getUserId();\r\n    history.push(`/shop/${userId}`);\r\n  }\r\n\r\n  function getUserId() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  function getUserDetail(userId) {\r\n    axios\r\n      .get(`/user/detail/${userId}`)\r\n      .then((res) => {\r\n        console.log(\"res detail >> \", res);\r\n        setUserInfo(res.data.data);\r\n        setProducts(res.data.data.products);\r\n        const myStore = user.isSignin.data._id === userId ? true : false;\r\n        // console.log(\"myStore >> \", myStore);\r\n        setIsMyStore(myStore);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err detail >> \", err);\r\n      });\r\n  }\r\n\r\n  function getIsFollow(userId) {\r\n    axios\r\n      .get(`/follow/${userId}/exist`)\r\n      .then((res) => {\r\n        console.log(\"res follow >> \", res);\r\n\r\n        if (res.data.data) setIsFollow(true);\r\n        else setIsFollow(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err follow >> \", err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const userId = getUserId();\r\n    getUserDetail(userId);\r\n    getIsFollow(userId);\r\n  }, []);\r\n\r\n  // 상점명 변경\r\n  const onSubmitStoreName = () => {\r\n    // 변경할 상점명을 입력하지 않았을 때(공백 제거 후)\r\n    if (storeName.trim() === \"\") return;\r\n\r\n    // 변경할 상점명이 기존의 상점명과 동일할 때\r\n    if (storeName === user.isSignin.data.storeName) {\r\n      setEditStoreName(false);\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .patch(\"/user/nickname\", { storeName })\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n\r\n        // 상점명 변경 성공\r\n        setEditStoreName(false);\r\n        setResState();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  const onSubmitStoreDescription = () => {\r\n    if (storeDescription === \"\") return;\r\n\r\n    axios\r\n      .patch(\"/user/description\", { description: storeDescription })\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n        // 상점 소개글 변경 성공\r\n        setResState();\r\n        setEditStoreDescription(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  const resetProfileImage = () => {\r\n    axios\r\n      .patch(\"/user/profile/reset\")\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n\r\n        // 프로필 이미지 초기화 성공\r\n        if (res.data.success) {\r\n          history.push(`/shop/${user.isSignin.data._id}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  const onClickEditStoreName = () => {\r\n    setStoreName(userInfo.storeName);\r\n    setEditStoreName((prev) => !prev);\r\n  };\r\n\r\n  const onClickEditStoreDescription = () => {\r\n    setStoreDescription(userInfo.description);\r\n    setEditStoreDescription((prev) => !prev);\r\n  };\r\n\r\n  const onClickMyStoreManagement = () => {\r\n    history.push(\"/product/manage\");\r\n  };\r\n\r\n  const onClickStoreFollow = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    const userId = getUserId();\r\n\r\n    axios\r\n      .post(`/user/follow/${userId}`)\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n\r\n        if (res.data.data) setIsFollow(true);\r\n        else setIsFollow(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const onClickStoreTalk = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <UserStore>\r\n        <div className=\"imgWrapper\">\r\n          <div className=\"background_img_wrapper\">\r\n            <img\r\n              className=\"background_img\"\r\n              src={userInfo && `${userInfo.profileURL}`}\r\n            />\r\n            <Menu show={showEditMenu} close={onCloseEditMenu}>\r\n              <EditProfileMenu>\r\n                <ul>\r\n                  <li onClick={() => setShowResetModal(true)}>\r\n                    기본 이미지로 초기화\r\n                  </li>\r\n                  <li onClick={() => setShowCropImageModal(true)}>\r\n                    프로필 이미지 변경\r\n                  </li>\r\n                </ul>\r\n              </EditProfileMenu>\r\n            </Menu>\r\n          </div>\r\n          <div className=\"background_img_cover\"></div>\r\n          <img\r\n            className=\"profile_img\"\r\n            src={userInfo && `${userInfo.profileURL}`}\r\n          />\r\n          <div className=\"store_name\">\r\n            {userInfo && `${userInfo.storeName}`}\r\n          </div>\r\n          {isMyStore && (\r\n            <span\r\n              className=\"edit_profile_img\"\r\n              onClick={() => setShowEditMenu((prev) => !prev)}\r\n            >\r\n              <GrEdit\r\n                size={16}\r\n                style={{ color: \"#000000\", marginRight: \"4px\" }}\r\n              />\r\n              수정\r\n            </span>\r\n          )}\r\n\r\n          {isMyStore ? (\r\n            <div\r\n              className=\"store_management\"\r\n              onClick={onClickMyStoreManagement}\r\n            >\r\n              내 상점 관리\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div\r\n                className={\r\n                  isFollow ? \"store_follow active_follow\" : \"store_follow\"\r\n                }\r\n                onClick={onClickStoreFollow}\r\n              >\r\n                {isFollow ? (\r\n                  <>\r\n                    <BsPersonCheckFill size={18} />\r\n                    &nbsp;언팔로우\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <BsPersonPlus size={18} />\r\n                    &nbsp;팔로우\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div className=\"store_talk\" onClick={onClickStoreTalk}>\r\n                <RiMessage3Line size={18} />\r\n                &nbsp;벼락톡\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n        <UserStoreContents>\r\n          <div className=\"contents_store_name\">\r\n            {!editStoreName ? (\r\n              <>\r\n                {userInfo && `${userInfo.storeName}`}\r\n                &nbsp;&nbsp;\r\n                {isMyStore && (\r\n                  <button onClick={onClickEditStoreName}>상점명 수정</button>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <input\r\n                  type=\"text\"\r\n                  value={storeName}\r\n                  onChange={onChangeStoreName}\r\n                />\r\n                <button\r\n                  className=\"store_name_submit_btn\"\r\n                  onClick={onSubmitStoreName}\r\n                >\r\n                  확인\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"badge\">\r\n            <span className=\"icon\">\r\n              <AiFillShop />\r\n              &nbsp;&nbsp;\r\n            </span>\r\n            상점오픈일&nbsp;\r\n            <span>{userInfo && oneDaysFormat(userInfo.createdAt)}</span>\r\n          </div>\r\n          <div className=\"contents_store_desc\">\r\n            {!editStoreDescription ? (\r\n              <>\r\n                {userInfo &&\r\n                  userInfo.description &&\r\n                  userInfo.description.split(\"\\n\").map((line) => (\r\n                    <>\r\n                      {line} <br />\r\n                    </>\r\n                  ))}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <textarea\r\n                  value={storeDescription}\r\n                  onChange={onChangeStoreDescription}\r\n                ></textarea>\r\n                <button\r\n                  className=\"store_desc_submit_btn\"\r\n                  onClick={onSubmitStoreDescription}\r\n                >\r\n                  확인\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n          {!editStoreDescription && isMyStore && (\r\n            <button onClick={onClickEditStoreDescription}>소개글 수정</button>\r\n          )}\r\n        </UserStoreContents>\r\n      </UserStore>\r\n      <TabMenu>\r\n        <ul>\r\n          {tabMenuList &&\r\n            tabMenuList.map((menu, index) => (\r\n              <>\r\n                {isMyStore ? (\r\n                  <li\r\n                    className={tabMenu === index && \"active\"}\r\n                    onClick={onClickTabMenu}\r\n                    value={index}\r\n                  >\r\n                    {menu}\r\n                  </li>\r\n                ) : (\r\n                  index !== 2 && (\r\n                    <li\r\n                      className={tabMenu === index && \"active\"}\r\n                      onClick={onClickTabMenu}\r\n                      value={index}\r\n                    >\r\n                      {menu}\r\n                    </li>\r\n                  )\r\n                )}\r\n              </>\r\n            ))}\r\n        </ul>\r\n      </TabMenu>\r\n      <TabContent>\r\n        {tabMenu === 0 && <ShopProductsPage products={products} />}\r\n        {tabMenu === 1 && <ShopCommentsPage shopId={userId} />}\r\n        {tabMenu === 2 && <ShopFavoritesPage />}\r\n        {tabMenu === 3 && <ShopReviewsPage shopId={userId} />}\r\n        {tabMenu === 4 && <ShopFollowingsPage userId={userId} />}\r\n        {tabMenu === 5 && <ShopFollowersPage userId={userId} />}\r\n      </TabContent>\r\n      <AlertModal\r\n        useCloseButton={false}\r\n        show={showResetModal}\r\n        close={() => setShowResetModal(false)}\r\n        confirm={resetProfileImage}\r\n      >\r\n        프로필 이미지를 초기화 하시겠습니까?\r\n      </AlertModal>\r\n      <ImageCrop\r\n        show={showCropImageModal}\r\n        close={() => setShowCropImageModal(false)}\r\n      ></ImageCrop>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(MyShopPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  background-color: #f4f4fa;\r\n  width: 1020px;\r\n  height: 735px;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const LoadingWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 680px;\r\n`;\r\nexport const Container = styled.div`\r\n  border-right: 1px solid #dddddd;\r\n  width: 100%;\r\n\r\n  & .title {\r\n    font-size: 20px;\r\n    text-align: center;\r\n    padding: 12px 0;\r\n    background-color: #ffffff;\r\n  }\r\n`;\r\n\r\nexport const TalkListWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #f4f4fa;\r\n  & a {\r\n    color: #000000;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  & li:hover {\r\n    background-color: #fafafd;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & li {\r\n    position: relative;\r\n    background-color: #ffffff;\r\n    width: 100%;\r\n    padding: 18px 0;\r\n\r\n    & img {\r\n      margin: 0 16px;\r\n      width: 55px;\r\n      height: 55px;\r\n      border-radius: 50%;\r\n      float: left;\r\n    }\r\n\r\n    & .name {\r\n      float: left;\r\n      font-size: 16px;\r\n    }\r\n\r\n    & .last_message {\r\n      font-size: 15px;\r\n      width: 350px;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      color: #646464;\r\n    }\r\n\r\n    & .date {\r\n      font-size: 13px;\r\n      color: #999999;\r\n      position: absolute;\r\n      top: 12px;\r\n      right: 16px;\r\n    }\r\n  }\r\n`;\r\n","import { Container, LoadingWrapper, TalkListWrapper } from \"./styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { timeKrFormat, timeKrFormatAndMMDD } from \"../../../../utils/Time\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nexport const TalkListSection = ({ history, user }) => {\r\n  const location = useLocation();\r\n  const [roomList, setRoomList] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // 채팅방 리스트 가져오기\r\n    getRoomList();\r\n  }, []);\r\n\r\n  function getRoomList() {\r\n    axios\r\n      .get(`/talk/${user.isSignin.data._id}/room-list`)\r\n      .then((res) => {\r\n        console.log(\"RoomList res >> \", res);\r\n        const _roomList = [];\r\n        for (let i = 0; i < Object.keys(res.data).length; i++) {\r\n          const _data = {};\r\n\r\n          _data[\"roomId\"] = res.data[i]._id;\r\n          _data[\"productId\"] = res.data[i].toProductId;\r\n\r\n          if (res.data[i].buyerId !== user.isSignin.data._id) {\r\n            _data[\"receiverId\"] = res.data[i].buyerId;\r\n            _data[\"receiverName\"] = res.data[i]._buyerId[0].storeName;\r\n            _data[\"receiverProfileURL\"] = res.data[i]._buyerId[0].profileURL;\r\n          } else {\r\n            _data[\"receiverId\"] = res.data[i].sellerId;\r\n            _data[\"receiverName\"] = res.data[i]._sellerId[0].storeName;\r\n            _data[\"receiverProfileURL\"] = res.data[i]._sellerId[0].profileURL;\r\n          }\r\n\r\n          _data[\"createdAt\"] = res.data[i].createdAt;\r\n          _data[\"lastMessage\"] = res.data[i].lastContent;\r\n\r\n          // console.log(\"_data >> \", _data);\r\n          _roomList.push(_data);\r\n        }\r\n        // console.log(\"_roomList >> \", _roomList);\r\n        setRoomList(_roomList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"title\">벼락톡</div>\r\n      <TalkListWrapper>\r\n        <ul>\r\n          {roomList ? (\r\n            roomList.map((room) => (\r\n              <li>\r\n                <Link\r\n                  to={`/talk/${room.productId}?sellerId=${room.receiverId}&roomId=${room.roomId}`}\r\n                ></Link>\r\n                <img src={room.receiverProfileURL} />\r\n                <div className=\"name\">{room.receiverName}</div> <br />\r\n                <div className=\"last_message\">{room.lastMessage}</div>\r\n                <div className=\"date\">\r\n                  {timeKrFormatAndMMDD(room.createdAt)}\r\n                </div>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <LoadingWrapper>\r\n              <BeatLoader loading={true} size={15} color=\"#e0464d\" />\r\n            </LoadingWrapper>\r\n          )}\r\n        </ul>\r\n      </TalkListWrapper>\r\n      {/*{roomList && roomList.forEach((room) => <>{room.receiverId}</>)}*/}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(TalkListSection);\r\n","import styled from \"styled-components\";\r\n\r\nexport const NullContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  flex-direction: column;\r\n\r\n  & .icon {\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #e0464d;\r\n    border-radius: 50%;\r\n    position: relative;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  & .content span {\r\n    background-color: #ffcccf;\r\n    color: #000000;\r\n    padding: 2px 10px;\r\n  }\r\n`;\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  & .title {\r\n    font-size: 20px;\r\n    text-align: center;\r\n    padding: 12px 0;\r\n    background-color: #ffffff;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & .sub_title {\r\n    background-color: #ffffff;\r\n    border-bottom: 2px solid #ff5058;\r\n    height: 70px;\r\n    cursor: pointer;\r\n\r\n    & img {\r\n      width: 40px;\r\n      height: 40px;\r\n      float: left;\r\n      margin: 16px 8px 0 8px;\r\n    }\r\n    & .price {\r\n      padding-top: 14px;\r\n      float: left;\r\n      font-size: 15px;\r\n      font-weight: 400;\r\n    }\r\n    & span {\r\n      font-size: 13px;\r\n      font-weight: 400;\r\n    }\r\n    & .product_title {\r\n      font-size: 13px;\r\n      color: #999999;\r\n      height: 40px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      margin-right: 16px;\r\n      white-space: nowrap;\r\n      width: 400px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const TalkRoomWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 12px;\r\n  height: 530px;\r\n  overflow: scroll;\r\n  overflow-x: hidden;\r\n\r\n  & .profile_img {\r\n    float: left;\r\n    & img {\r\n      width: 30px;\r\n      height: 30px;\r\n      border-radius: 50%;\r\n      margin-right: 12px;\r\n    }\r\n  }\r\n  & .receiver {\r\n    margin: 4px 0;\r\n    border: none;\r\n    background-color: #ffffff;\r\n    color: #5e5e5e;\r\n    padding: 4px 12px;\r\n    border-radius: 0px 14px 14px 14px;\r\n    float: left;\r\n    max-width: 350px;\r\n    position: relative;\r\n\r\n    & .time {\r\n      font-size: 8px;\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: -32px;\r\n    }\r\n  }\r\n\r\n  & .sender {\r\n    margin: 4px 0;\r\n    max-width: 350px;\r\n    border: none;\r\n    background-color: #e0464d;\r\n    color: #ffffff;\r\n    padding: 4px 12px;\r\n    border-radius: 14px 0 14px 14px;\r\n    float: right;\r\n    position: relative;\r\n    & .time {\r\n      color: #5e5e5e;\r\n      font-size: 8px;\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: -32px;\r\n    }\r\n  }\r\n`;\r\nexport const TalkForm = styled.form`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  width: 100%;\r\n  height: 54px;\r\n  background-color: #ffffff;\r\n  & input {\r\n    background-color: #f4f4fa;\r\n    border: none;\r\n    border-radius: 20px;\r\n    margin: 5px 10px;\r\n    padding: 12px 80px 12px 12px;\r\n    position: relative;\r\n    width: 400px;\r\n  }\r\n  & button[type=\"submit\"] {\r\n    cursor: pointer;\r\n    width: 56px;\r\n    height: 30px;\r\n    position: absolute;\r\n    top: 11px;\r\n    right: 16px;\r\n    background-color: #e0464d;\r\n    color: #ffffff;\r\n    border: none;\r\n    border-radius: 20px;\r\n  }\r\n`;\r\n","import { Container, NullContainer, TalkForm, TalkRoomWrapper } from \"./styled\";\r\nimport { intOfKr } from \"../../../../utils/Currency\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\r\nimport { io } from \"socket.io-client\";\r\nimport axios from \"axios\";\r\nimport { RiMessage3Line } from \"react-icons/ri\";\r\nimport { timeKrFormatAndMMDD } from \"../../../../utils/Time\";\r\n\r\nconst socket = io.connect(`${process.env.REACT_APP_BASE_URL}/nsp-root`);\r\n\r\nexport const TalkRoomSection = ({ history, user }) => {\r\n  const location = useLocation();\r\n  const talkScrollRef = useRef();\r\n\r\n  const [talkToProduct, setTalkToProduct] = useState(null);\r\n  const [talkToUser, setTalkToUser] = useState(null);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageList, setMessageList] = useState([]);\r\n\r\n  const toProductId = getProductParam();\r\n  const receiverId = getReceiverIdQuery();\r\n\r\n  useEffect(() => {\r\n    const toProductId = getProductParam();\r\n    const receiverId = getReceiverIdQuery();\r\n    const roomId = getRoomIdQuery();\r\n\r\n    // 이전 채팅내역 가져오기\r\n    getMessageList(roomId);\r\n\r\n    console.log(\"roomId >> \", roomId);\r\n    // 가져왔던 유저정보 그대로 활용예정\r\n    socket.on(`${roomId}-receiveMessage`, (data) => {\r\n      console.log(\"receiveMessage data >> \", data);\r\n      data[\"isMine\"] = data.fromUserId === user.isSignin.data._id;\r\n      getMessageList(roomId);\r\n\r\n      const _messageList = messageList;\r\n      console.log(\"------------\");\r\n      console.log(messageList);\r\n      console.log(_messageList);\r\n      _messageList.push(data);\r\n      console.log(\"_messageList >> \", _messageList);\r\n      setMessageList(_messageList);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 채팅 상대와 상품 가져오기\r\n    getProductInfo();\r\n    getReceiverInfo();\r\n\r\n    // 채팅내용 최하단으로 내리기\r\n  }, [toProductId, receiverId]);\r\n\r\n  function onSubmitSendMessage(e) {\r\n    e.preventDefault();\r\n\r\n    if (message === \"\") return;\r\n    const roomId = getRoomIdQuery();\r\n    const payload = {\r\n      receive: {\r\n        content: message,\r\n        createdAt: new Date().toISOString(),\r\n        fromUserId: user.isSignin.data._id,\r\n        fromUserName: user.isSignin.data.storeName,\r\n        fromUserProfileURL: user.isSignin.data.profileURL,\r\n        notRead: true,\r\n        toUserId: talkToUser._id,\r\n        toUserName: talkToUser.storeName,\r\n        toUserProfileURL: talkToUser.profileURL,\r\n      },\r\n      save: {\r\n        senderId: user.isSignin.data._id,\r\n        toProductId,\r\n        receiverId,\r\n        message,\r\n        roomId,\r\n      },\r\n    };\r\n\r\n    console.log(\"sendMessage >> \", payload);\r\n    socket.emit(\"sendMessage\", payload, (data) => {\r\n      console.log(\"sendMessage data >> \", data);\r\n      data[\"isMine\"] = data.fromUserId === user.isSignin.data._id;\r\n\r\n      const _messageList = messageList;\r\n      _messageList.push(data);\r\n      console.log(\"_messageList >> \", _messageList);\r\n      setMessageList(_messageList);\r\n    });\r\n\r\n    setMessage(\"\");\r\n    scrollToBottom();\r\n  }\r\n\r\n  function getMessageList(roomId) {\r\n    axios\r\n      .get(`/talk/${roomId}/message-list`)\r\n      .then((res) => {\r\n        console.log(\"getMessageList res >> \", res);\r\n\r\n        const _messageList = [];\r\n        for (let i = 0; i < Object.keys(res.data).length; i++) {\r\n          const _data = {};\r\n\r\n          _data[\"isMine\"] =\r\n            res.data[i]._toUserId[0]._id !== user.isSignin.data._id;\r\n          _data[\"toUserId\"] = res.data[i]._toUserId[0]._id;\r\n          _data[\"toUserName\"] = res.data[i]._toUserId[0].storeName;\r\n          _data[\"toUserProfileURL\"] = res.data[i]._toUserId[0].profileURL;\r\n          _data[\"fromUserId\"] = res.data[i]._fromUserId[0]._id;\r\n          _data[\"fromUserName\"] = res.data[i]._fromUserId[0].storeName;\r\n          _data[\"fromUserProfileURL\"] = res.data[i]._fromUserId[0].profileURL;\r\n\r\n          _data[\"notRead\"] = res.data[i].notRead;\r\n          _data[\"content\"] = res.data[i].content;\r\n          _data[\"createdAt\"] = res.data[i].createdAt;\r\n\r\n          // console.log(\"_data >> \", _data);\r\n          _messageList.push(_data);\r\n        }\r\n        console.log(\"_messageList >> \", _messageList);\r\n        setMessageList(_messageList);\r\n        scrollToBottom();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getReceiverInfo() {\r\n    axios\r\n      .get(`/user/detail/${receiverId}`)\r\n      .then((res) => {\r\n        setTalkToUser(res.data.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getProductInfo() {\r\n    axios\r\n      .get(`/product/detail/${toProductId}`)\r\n      .then((res) => {\r\n        setTalkToProduct(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function getRoomIdQuery() {\r\n    const roomId = new URL(window.location.href).searchParams.get(\"roomId\");\r\n    return roomId;\r\n  }\r\n  function getReceiverIdQuery() {\r\n    const sellerId = new URL(window.location.href).searchParams.get(\"sellerId\");\r\n    return sellerId;\r\n  }\r\n\r\n  function getProductParam() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  const scrollToBottom = () => {\r\n    const { scrollHeight, clientHeight } = talkScrollRef.current;\r\n    const bottom = scrollHeight - clientHeight + 100;\r\n    talkScrollRef.current.scrollTo(0, bottom);\r\n  };\r\n\r\n  const onClickTitle = () => {\r\n    history.push(`/shop/${receiverId}`);\r\n  };\r\n  const onClickSubTitle = () => {\r\n    history.push(`/product/${toProductId}`);\r\n  };\r\n\r\n  if (!talkToUser) {\r\n    return (\r\n      <NullContainer>\r\n        <span className=\"icon\">\r\n          <RiMessage3Line\r\n            size={32}\r\n            style={{\r\n              color: \"#ffffff\",\r\n              position: \"absolute\",\r\n              top: \"9px\",\r\n              left: \"9px\",\r\n            }}\r\n          />\r\n        </span>\r\n        <span className=\"content\">\r\n          <span>벼락톡</span> 간편하게 거래해요.!\r\n        </span>\r\n      </NullContainer>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container>\r\n        {/*<Link to=\"/test\">TEST</Link>*/}\r\n        {talkToUser && (\r\n          <div onClick={onClickTitle} className=\"title\">\r\n            {talkToUser.storeName}\r\n          </div>\r\n        )}\r\n        {talkToProduct && (\r\n          <div onClick={onClickSubTitle} className=\"sub_title\">\r\n            <img src={`${talkToProduct.thumbnailImgURL}`} />\r\n            <div className=\"price\">\r\n              {intOfKr(`${talkToProduct.price}`)}\r\n              <span>원</span>\r\n            </div>\r\n            <br />\r\n            <div className=\"product_title\">{talkToProduct.title}</div>\r\n          </div>\r\n        )}\r\n        <TalkRoomWrapper ref={talkScrollRef}>\r\n          {messageList?.map((message) => (\r\n            <div>\r\n              <div\r\n                className={\r\n                  message.isMine ? \"profile_img hidden\" : \"profile_img\"\r\n                }\r\n              >\r\n                <img src={message.fromUserProfileURL} />\r\n              </div>\r\n              <div className={message.isMine ? \"sender\" : \"receiver\"}>\r\n                {message.content}\r\n                <div className=\"time\">\r\n                  {timeKrFormatAndMMDD(message.createdAt)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </TalkRoomWrapper>\r\n\r\n        <TalkForm onSubmit={onSubmitSendMessage}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"메시지를 입력하세요\"\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n          />\r\n          <button type=\"submit\">전송</button>\r\n        </TalkForm>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withRouter(TalkRoomSection);\r\n","import { useEffect, useState } from \"react\";\r\n// import io from \"socket.io-client\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Container } from \"./styled\";\r\nimport useSocket from \"../../hooks/useSocket\";\r\nimport TalkListSection from \"./Section/TalkListSection\";\r\nimport TalkRoomSection from \"./Section/TalkRoomSection\";\r\n\r\n// 실제 배포시 도메인 지정\r\nconst socket = io.connect(`${process.env.REACT_APP_BASE_URL}/nsp-42143a`);\r\nconst socket2 = io.connect(`${process.env.REACT_APP_BASE_URL}/nsp-af31oi2kldf`);\r\n\r\nconst TalkPage = () => {\r\n  const user = useSelector((state) => state.user);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  const [talk, setTalk] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // const [socket, disconnect] = useSocket();\r\n\r\n  useEffect(() => {\r\n    socket.on(\"rootClient\", (data) => {\r\n      console.log(\"rootClient data >> \", data);\r\n    });\r\n  });\r\n\r\n  function test() {\r\n    console.log(\"test...\");\r\n    socket.emit(\"rootServer\", { test: \"test\" }, (data) => {\r\n      console.log(\"test data >> \", data);\r\n    });\r\n  }\r\n\r\n  function test2() {\r\n    console.log(\"test...\");\r\n    socket2.emit(\"rootServer\", { test: \"test\" }, (data) => {\r\n      console.log(\"test data >> \", data);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <TalkListSection user={user} />\r\n      <TalkRoomSection user={user} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TalkPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin-top: 32px;\r\n`;\r\nexport const ItemSection = styled.div`\r\n  color: #999999;\r\n  font-weight: 400;\r\n  font-size: 13px;\r\n  border: 2px solid #eeeeee;\r\n  border-width: 2px 0;\r\n  padding: 16px 0;\r\n  margin: 24px 0 24px 0;\r\n\r\n  & hr {\r\n    border: none;\r\n    border-top: 2px solid #eeeeee;\r\n  }\r\n  & a {\r\n    color: #999999;\r\n  }\r\n  & span:first-child {\r\n    border: none;\r\n    padding-left: 0px;\r\n  }\r\n  & span {\r\n    display: inline-block;\r\n    border-left: 1px solid #cccccc;\r\n    padding: 0 32px;\r\n  }\r\n`;\r\n\r\nexport const ContentContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  color: #8b8d8b;\r\n  font-size: 12px;\r\n  padding: 24px 0;\r\n  line-height: 24px;\r\n  & div {\r\n    height: 100%;\r\n  }\r\n`;\r\nexport const ContentTitle = styled.span`\r\n  display: inline-block;\r\n  margin: 4px 0;\r\n  font-size: 14px;\r\n  font-weight: 800;\r\n  color: #666666;\r\n`;\r\nexport const Content1 = styled.div`\r\n  width: 450px;\r\n`;\r\nexport const Content2 = styled.div`\r\n  width: 270px;\r\n\r\n  & .center_number {\r\n    color: #666666;\r\n    display: inline-block;\r\n    font-size: 24px;\r\n    font-weight: 800;\r\n  }\r\n`;\r\nexport const Content3 = styled.div`\r\n  width: 295px;\r\n  & #copyright {\r\n    display: inline-block;\r\n    margin: 8px 0;\r\n  }\r\n`;\r\n","import {\r\n  Container,\r\n  Content1,\r\n  Content2,\r\n  Content3,\r\n  ContentContainer,\r\n  ContentTitle,\r\n  ItemSection,\r\n} from \"./styled\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Container>\r\n      <ItemSection>\r\n        <span>\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            href=\"https://github.com/nogoduck/Lightning-marketplace-Clone\"\r\n          >\r\n            개발자 깃허브\r\n          </a>\r\n        </span>\r\n        <span>고민은 배송만 늦출뿐</span>\r\n        <span>마음속 가려운 곳은 카드로 긁으면 시원하다</span>\r\n        <span>내 소비는 맞고 내 월급을 틀렸다.</span>\r\n      </ItemSection>\r\n\r\n      <ContentContainer>\r\n        <Content1>\r\n          <ContentTitle>벼락장터(주)사업자정보</ContentTitle> <br />\r\n          대표이사 : 성난오리 | 개인정보보호책임자 : 성난오리\r\n          <br />\r\n          사업자등록번호 : 000-00-00000 | 통신판매업신고 : 2022-한국-0000\r\n          <br />\r\n          호스팅서비스 제공자 : Amazon Web Services (AWS) <br />\r\n          EMAIL : help@lightningmarket.co.kr | FAX : 00-000-0000 <br />\r\n          주소 : 경기도 성남시 분당구 판교신도시\r\n        </Content1>\r\n        <Content2>\r\n          <ContentTitle>고객센터</ContentTitle> <br />\r\n          <span className=\"center_number\">1670-0000</span>\r\n          <br />\r\n          운영시간 00시 - 24시 <br />\r\n          (주말/공휴일 휴무, 점심시간 12시 - 13시) <br />\r\n        </Content2>\r\n        <Content3>\r\n          <ContentTitle>중고거래</ContentTitle> <br />\r\n          중고품을 사고 파는 행위. 따라서 개인 간의 거래, 기업 간의 거래, 단체\r\n          간의 거래, 국가 간의 거래가 있을 수 있으나,{\" \"}\r\n          <u>개인 간의 거래를 제외하고는</u> '중고거래'란 명칭을 거의 사용하지\r\n          않고 '감가상각계산'이라든지 '가치측정' 같은 다른 방식과 명칭을\r\n          사용하기 때문에 보통은 개인이 구입한 물건을 다시 팔 때로 정의한다.\r\n          <br />\r\n          <span id=\"copyright\">\r\n            Ⓒ Lightningmarket. Inc All rights reserved.\r\n          </span>\r\n        </Content3>\r\n      </ContentContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { Container } from \"./styled\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst KakaoOAuthPage = ({ history }) => {\r\n  const REST_API_KEY = process.env.REACT_APP_KAKAO_AUTH_REST_API_KEY;\r\n  const REDIRECT_URI = process.env.REACT_APP_KAKAO_AUTH_REDIRECT_URI;\r\n\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [userProfileURI, setUserProfileURI] = useState(\"\");\r\n  const [cookie, setCookie, removeCookie] = useCookies([\"using-cookie\"]);\r\n\r\n  const getUserInfo = () => {\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n\r\n    console.log(\"code >> \", code);\r\n    if (!code) history.push(\"/\");\r\n\r\n    axios\r\n      .get(`/oauth/kakao/?code=${code}`, {\r\n        withCredentials: false,\r\n      })\r\n      .then((res) => {\r\n        console.log(\"succeed\");\r\n        console.log(\"res >> \", res);\r\n\r\n        setUserName(res.data.properties.nickname);\r\n        setUserProfileURI(res.data.properties.thumbnail_image);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"failed\");\r\n        console.log(\"err > \", err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserInfo();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Link to=\"/\">HOME</Link>\r\n      <h1>KAKAO LOGIN TEST</h1>\r\n      {/*<a*/}\r\n      {/*  href={`https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${REST_API_KEY}&redirect_uri=${REDIRECT_URI}`}*/}\r\n      {/*>*/}\r\n      {/*  카카오로 이용하기*/}\r\n      {/*</a>*/}\r\n      <button onClick={getUserInfo}>TEST</button>\r\n      KakaoOAuthPage\r\n      <h2>{userName}</h2>\r\n      <img src={userProfileURI} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(KakaoOAuthPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { Container } from \"./styled\";\r\n\r\nconst FacebookOAuthPage = () => {\r\n  return <Container>FacebookOAuthPage</Container>;\r\n};\r\n\r\nexport default FacebookOAuthPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { Container } from \"./styled\";\r\n\r\nconst NaverOAuthPage = () => {\r\n  return <Container>NaverOAuthPage</Container>;\r\n};\r\n\r\nexport default NaverOAuthPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-color: #f9f9f9;\r\n  .error {\r\n    color: #d80c18;\r\n  }\r\n`;\r\n\r\nexport const Footer = styled.div`\r\n  color: #adadad;\r\n\r\n  & a {\r\n    color: #adadad;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 50px;\r\n  width: 400px;\r\n  //height: 400px;\r\n  box-shadow: 0px 4px 7px #bbbbbb;\r\n  border-radius: 5px;\r\n\r\n  h1 {\r\n    color: #3f3f3f;\r\n    font-size: 28px;\r\n  }\r\n\r\n  h3 {\r\n    color: #adadad;\r\n    font-size: 18px;\r\n  }\r\n\r\n  button {\r\n    margin-top: 20px;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #ffffff;\r\n    background-color: #d80c18;\r\n    border: none;\r\n    outline: none;\r\n    width: 100%;\r\n    height: 70px;\r\n    border-radius: 5px;\r\n    cursor: not-allowed;\r\n    opacity: 0.4;\r\n    transition: 0.2s;\r\n  }\r\n\r\n  #active {\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const InputWrapper = styled.div`\r\n  position: relative;\r\n  margin: 30px 0 20px 0;\r\n  border-bottom: 1px solid #adadad;\r\n\r\n  & input {\r\n    font-weight: bold;\r\n    width: 100%;\r\n    font-size: 18px;\r\n    height: 40px;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n  }\r\n  & label {\r\n    position: absolute;\r\n    top: 20%;\r\n    color: #adadad;\r\n    left: 0;\r\n    transition: 0.2s;\r\n    font-weight: bold;\r\n  }\r\n  & span::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 42px;\r\n    left: 0;\r\n    width: 0%;\r\n    height: 1px;\r\n    background: #191919;\r\n    transition: 0.2s;\r\n  }\r\n  & input:focus ~ label,\r\n  input:valid ~ label {\r\n    top: -10px;\r\n    font-size: 13px;\r\n  }\r\n  & input:focus ~ span::before,\r\n  input:valid ~ span::before {\r\n    width: 100%;\r\n    color: #191919;\r\n  }\r\n`;\r\n","import { Link, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Container, Form, InputWrapper, Footer } from \"./styled\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { signupProcessUser } from \"../../_actions/user_actions\";\r\n\r\n// 휴대폰 번호가 존재하면 로그인 페이지로 이동하거나\r\n// 휴대본 번호가 존재하지 않으면 회원가입 페이지로 분기처리하는 페이지입니다.\r\nconst PhoneNumberAuthPage = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const phoneNumberInput = useRef();\r\n\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [phoneNumberError, setPhoneNumberError] = useState({ validate: false });\r\n\r\n  const [submitButton, setSubmitButton] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // 각각의 입력란이 비어있지 않으면 확인(다음) 버튼 활성화\r\n    if (phoneNumber !== \"\") setSubmitButton(true);\r\n    else setSubmitButton(false);\r\n  }, [phoneNumber]);\r\n\r\n  const onChangePhone = (e) => {\r\n    const regex = /[^0-9]/g;\r\n    const value = e.target.value.replace(regex, \"\");\r\n    // 최대 11자리까지 입력가능\r\n    if (value.length < 12) setPhoneNumber(value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const phoneNumberRegex = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;\r\n\r\n    // 휴대폰번호 양식에 맞게 작성되었는지 확인(길이도 같이 체크가능)\r\n    if (!phoneNumberRegex.test(phoneNumber)) {\r\n      // 휴대폰번호 양식과 일치하지 않을 때\r\n      result = false;\r\n      setPhoneNumberError({ validate: true });\r\n    } else {\r\n      // 휴대폰번호 양식과 일치할 때\r\n      setPhoneNumberError({ validate: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  // 휴대폰번호로 인증코드를 보내는 로직\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    setLoading(true);\r\n\r\n    // 리덕스로 현재까지 입력한 정보 저장 (다른페이지에서 사용하기 위함)\r\n    dispatch(signupProcessUser(phoneNumber));\r\n\r\n    axios\r\n      .get(`/user/check?phoneNumber=${phoneNumber}`)\r\n      .then(({ data }) => {\r\n        setLoading(false);\r\n\r\n        if (data.success && data.data) {\r\n          // 로그인 페이지로 이동\r\n          history.push(\"/signin\");\r\n        } else {\r\n          // 회원가입 페이지로 이동\r\n          history.push(\"/signup\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"err >> \", err);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={onSubmit}>\r\n        <h1>\r\n          나만의 상점을 <br /> 사용해 볼까요?\r\n        </h1>\r\n        <h3>로그인 또는 회원가입에 필요합니다.</h3>\r\n        <InputWrapper>\r\n          <input\r\n            type=\"text\"\r\n            value={phoneNumber}\r\n            onChange={onChangePhone}\r\n            required={true}\r\n            ref={phoneNumberInput}\r\n          />\r\n          <span></span>\r\n          <label onClick={() => phoneNumberInput.current.focus()}>\r\n            {phoneNumberError.validate ? (\r\n              <div className=\"error\">휴대폰번호를 다시 확인해주세요</div>\r\n            ) : (\r\n              \"휴대폰번호를 입력해주세요.\"\r\n            )}\r\n          </label>\r\n        </InputWrapper>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          id={submitButton && \"active\"}\r\n          disabled={!submitButton && true}\r\n        >\r\n          {!loading && \"다음\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(PhoneNumberAuthPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-color: #f9f9f9;\r\n  .error {\r\n    color: #d80c18;\r\n  }\r\n`;\r\n\r\nexport const PasswordCreateRules = styled.div`\r\n  color: #adadad;\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n\r\n  & span {\r\n    color: red;\r\n  }\r\n`;\r\n\r\nexport const AgreeMyPhoneSection = styled.div`\r\n  color: #adadad;\r\n  font-weight: 800;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  & label:hover {\r\n    cursor: pointer;\r\n    color: #6c6c6c;\r\n  }\r\n\r\n  & label {\r\n    margin-left: 4px;\r\n  }\r\n\r\n  & input[type=\"checkbox\"] {\r\n    //display: block;\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    height: 20px;\r\n    width: 20px;\r\n    border-radius: 100%;\r\n    border: 3px solid #c3c2cc;\r\n    margin: 0px;\r\n    padding: 0px;\r\n    background-color: white;\r\n    position: relative;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]::after {\r\n    content: \"\";\r\n    width: 6px;\r\n    height: 3px;\r\n    top: 2px;\r\n    left: 2px;\r\n    border-bottom: 3px solid #c3c2cc;\r\n    border-left: 3px solid #c3c2cc;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:hover::before {\r\n    cursor: pointer;\r\n    content: \"\";\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: black;\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    opacity: 0.1;\r\n    top: -8px;\r\n    left: -8px;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:checked {\r\n    border: 3px solid #ff5058;\r\n    background-color: #ff5058;\r\n  }\r\n\r\n  & input[type=\"checkbox\"]:checked::after {\r\n    border-bottom: 3px solid #ffffff;\r\n    border-left: 3px solid #ffffff;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 50px;\r\n  width: 400px;\r\n  //height: 400px;\r\n  box-shadow: 0px 4px 7px #bbbbbb;\r\n  border-radius: 5px;\r\n\r\n  h1 {\r\n    color: #3f3f3f;\r\n    font-size: 28px;\r\n  }\r\n  h3 {\r\n    color: #adadad;\r\n    font-size: 18px;\r\n  }\r\n  button {\r\n    margin-top: 20px;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #ffffff;\r\n    background-color: #d80c18;\r\n    border: none;\r\n    outline: none;\r\n    width: 100%;\r\n    height: 70px;\r\n    border-radius: 5px;\r\n    cursor: not-allowed;\r\n    opacity: 0.4;\r\n    transition: 0.2s;\r\n  }\r\n\r\n  #active {\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const InputWrapper = styled.div`\r\n  position: relative;\r\n  margin: 30px 0 20px 0;\r\n  border-bottom: 1px solid #adadad;\r\n\r\n  & input[type=\"password\"] {\r\n    font-size: 18px;\r\n    font-family: \"Do Hyeon\", sans-serif;\r\n    letter-spacing: 1px;\r\n  }\r\n  & input {\r\n    font-weight: bold;\r\n    width: 100%;\r\n    font-size: 18px;\r\n    height: 40px;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n  }\r\n  & label {\r\n    position: absolute;\r\n    top: 20%;\r\n    color: #adadad;\r\n    left: 0;\r\n    transition: 0.2s;\r\n    font-weight: bold;\r\n  }\r\n  & span::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 42px;\r\n    left: 0;\r\n    width: 0%;\r\n    height: 1px;\r\n    background: #191919;\r\n    transition: 0.2s;\r\n  }\r\n  & input:focus ~ label,\r\n  input:valid ~ label {\r\n    top: -10px;\r\n    font-size: 13px;\r\n  }\r\n  & input:focus ~ span::before,\r\n  input:valid ~ span::before {\r\n    width: 100%;\r\n    color: #191919;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & .active {\r\n    top: 0;\r\n  }\r\n`;\r\n\r\nexport const Timer = styled.div`\r\n  color: #d80c18;\r\n  position: absolute;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  right: 10px;\r\n  top: 10px;\r\n`;\r\n\r\nexport const ResendMessage = styled.div`\r\n  background-color: #3f4146;\r\n  color: #ffffff;\r\n  font-size: 16px;\r\n  position: absolute;\r\n  top: -40px;\r\n  left: 0;\r\n\r\n  //bottom: 0px;\r\n  //left: -4096px;\r\n  height: 40px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: 0.5s ease-in-out;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PasswordBadge = styled.div`\r\n  height: 38px;\r\n  color: #adadad;\r\n  font-size: 30px;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n`;\r\n","import { Form, InputWrapper, PasswordCreateRules } from \"../../styled\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport { BiHide, BiShow } from \"react-icons/bi\";\r\nimport { PasswordBadge } from \"./styled\";\r\nimport { useHistory, withRouter } from \"react-router-dom\";\r\n\r\nconst UserPasswordPage = () => {\r\n  const history = useHistory();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const passwordInput = useRef();\r\n  const passwordCheckInput = useRef();\r\n\r\n  const [phoneNumber, setPhoneNumber] = useState(user.phoneNumber);\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState({ validate: false });\r\n\r\n  const [passwordCheck, setPasswordCheck] = useState(\"\");\r\n  const [passwordCheckError, setPasswordCheckError] = useState({\r\n    wrong: false,\r\n  });\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showPasswordCheck, setShowPasswordCheck] = useState(false);\r\n\r\n  const [submitButton, setSubmitButton] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // 유저 정보(휴대번호)가 없으면 해당페이지 접근 불가능\r\n    if (!user.phoneNumber) {\r\n      alert(\"접근 불가능\");\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 각각의 입력란이 비어있지 않으면 확인(다음) 버튼 활성화\r\n    if (password !== \"\") setSubmitButton(true);\r\n    else setSubmitButton(false);\r\n  }, [password]);\r\n\r\n  const onShowPassword = () => {\r\n    setShowPassword((prev) => !prev);\r\n  };\r\n\r\n  const onShowPasswordCheck = () => {\r\n    setShowPasswordCheck((prev) => !prev);\r\n  };\r\n\r\n  const onChangePasswordCheck = (e) => {\r\n    // 비밀번호가 16자리를 넘어가면 입력 불가능\r\n    if (e.target.value.length > 16) return;\r\n    setPasswordCheck(e.target.value);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    // 영어 알파벳, 숫자, 특수기호 반드시 1개 이상 입력\r\n    const regex =\r\n      /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$%^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,16}$/;\r\n\r\n    console.log(\"regex test >> \", regex.test(e.target.value));\r\n\r\n    // 비밀번호가 16자리를 넘어가면 입력 불가능\r\n    if (e.target.value.length > 16) return;\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const passwordRegex =\r\n      /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$%^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,16}$/;\r\n\r\n    // 비밀번호 생성규칙에 맞게 작성되었는지 확인\r\n    if (!passwordRegex.test(password)) {\r\n      // 비밀번호 생성규칙에 일치하지 않을 때\r\n      result = false;\r\n      setPasswordError({ validate: true });\r\n    } else {\r\n      // 비밀번호 생성규칙에 일치할 때\r\n      setPasswordError({ validate: false });\r\n    }\r\n\r\n    // 비밀번호와 비밀번호확인이 일치하는지 확인\r\n    if (password !== passwordCheck) {\r\n      // 일치하지 않으면\r\n      result = false;\r\n      setPasswordCheckError({ wrong: true });\r\n    } else {\r\n      // 일치하면\r\n      setPasswordCheckError({ wrong: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  // 휴대폰번호로 회원가입 시도\r\n  const onSubmitSendCode = (e) => {\r\n    e.preventDefault();\r\n\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    const payload = {\r\n      phoneNumber: user.phoneNumber,\r\n      password,\r\n    };\r\n\r\n    setLoading(true);\r\n\r\n    console.log(payload);\r\n    axios\r\n      .post(\"/user/signup\", payload)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        if (res.data.success && res.data.data) {\r\n          // 회원가입 성공\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.error(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form onSubmit={onSubmitSendCode}>\r\n        <h1>\r\n          나만의 상점을 <br /> 만들어 볼까요?\r\n        </h1>\r\n        <InputWrapper>\r\n          <input type=\"text\" value={phoneNumber} style={{ color: \"#adadad\" }} />\r\n          <span></span>\r\n          <label>휴대폰번호</label>\r\n        </InputWrapper>\r\n\r\n        <InputWrapper>\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={onChangePassword}\r\n            required={true}\r\n            ref={passwordInput}\r\n          />\r\n          <span></span>\r\n          <label onClick={() => passwordInput.current.focus()}>\r\n            {passwordError.validate ? (\r\n              <div className=\"error\">\r\n                비밀번호 생성규칙과 일치하지 않습니다.\r\n              </div>\r\n            ) : (\r\n              \"비밀번호\"\r\n            )}\r\n          </label>\r\n          <PasswordBadge onClick={onShowPassword} className=\"cursor_pointer\">\r\n            {showPassword ? <BiHide /> : <BiShow />}\r\n          </PasswordBadge>\r\n        </InputWrapper>\r\n\r\n        <InputWrapper>\r\n          <input\r\n            type={showPasswordCheck ? \"text\" : \"password\"}\r\n            value={passwordCheck}\r\n            onChange={onChangePasswordCheck}\r\n            required={true}\r\n            ref={passwordCheckInput}\r\n          />\r\n          <span></span>\r\n          <label onClick={() => passwordCheckInput.current.focus()}>\r\n            {passwordCheckError.wrong ? (\r\n              <div className=\"error\">비밀번호가 일치하지 않습니다.</div>\r\n            ) : (\r\n              \"비밀번호확인\"\r\n            )}\r\n          </label>\r\n          <PasswordBadge\r\n            onClick={onShowPasswordCheck}\r\n            className=\"cursor_pointer\"\r\n          >\r\n            {showPasswordCheck ? <BiHide /> : <BiShow />}\r\n          </PasswordBadge>\r\n        </InputWrapper>\r\n\r\n        <PasswordCreateRules>\r\n          <span>*</span> 8~16자의 영문, 숫자, 특수문자 조합\r\n        </PasswordCreateRules>\r\n        <button\r\n          type=\"submit\"\r\n          id={submitButton && \"active\"}\r\n          disabled={!submitButton && true}\r\n        >\r\n          {!loading && \"회원가입\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPasswordPage;\r\n","import { Form, InputWrapper } from \"../../styled\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Timer, ResendMessage } from \"./styled\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport useInterval from \"../../../../hooks/useInterval\";\r\nimport UserPasswordPage from \"../UserPasswordPage\";\r\nimport userPasswordPage from \"../UserPasswordPage\";\r\n\r\nconst AuthNumberPage = ({ phoneNumber, history }) => {\r\n  const authNumberInput = useRef();\r\n\r\n  const [userPasswordPage, setUserPasswordPage] = useState(false);\r\n  const [authNumber, setAuthNumber] = useState(\"\");\r\n  const [authNumberError, setAuthNumberError] = useState({ validate: false });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitButton, setSubmitButton] = useState(true);\r\n\r\n  const [timer, setTimer] = useState(300);\r\n  const [showResendMessage, setShowResendMessage] = useState(false);\r\n  const [showResendAlert, setShowResendAlert] = useState(false);\r\n  const [showEndMessage, setShowEndMessage] = useState(false);\r\n\r\n  const initTimer = useRef(180);\r\n\r\n  useInterval(() => {\r\n    initTimer.current -= 1;\r\n    setTimer(timeFormat(initTimer.current));\r\n\r\n    // 타이머가 2분 남았을 때\r\n    if (initTimer.current <= 120) {\r\n      setShowResendMessage(true);\r\n    }\r\n\r\n    // 타이머가 종료되었을 때\r\n    if (initTimer.current <= 0) {\r\n      setShowResendMessage(false);\r\n      setShowEndMessage(true);\r\n      disableForm();\r\n    }\r\n    // console.log(initTimer.current);\r\n  }, 1000);\r\n\r\n  useEffect(() => {\r\n    setTimer(timeFormat(initTimer.current));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 입력란이 비어있지 않으면 확인 버튼 활성화\r\n    if (authNumber !== \"\") setSubmitButton(true);\r\n    else setSubmitButton(false);\r\n  }, [authNumber]);\r\n\r\n  function resetForm() {\r\n    initTimer.current = 180;\r\n    setTimer(timeFormat(initTimer.current));\r\n    setShowResendMessage(false);\r\n    setShowEndMessage(false);\r\n    setAuthNumber(\"\");\r\n    setAuthNumberError({ validate: false });\r\n\r\n    console.log(\"인증번호 재전송\");\r\n    console.log(\"phoneNumber >> \", phoneNumber);\r\n  }\r\n\r\n  const disableForm = () => {\r\n    initTimer.current = 0;\r\n    setTimer(timeFormat(initTimer.current));\r\n    setSubmitButton(false);\r\n    setAuthNumber(\"\");\r\n  };\r\n\r\n  const timeFormat = (value) => {\r\n    // 초를 분, 초 포맷으로 변경\r\n    let min = parseInt(value / 60);\r\n    min = min < 10 ? `0${min}` : `${min}`;\r\n    let sec = value % 60;\r\n    sec = sec < 10 ? `0${sec}` : `${sec}`;\r\n    return `${min}:${sec}`;\r\n  };\r\n\r\n  const onChangeAuthNumber = (e) => {\r\n    const regex = /[^0-9]/g;\r\n    const value = e.target.value.replace(regex, \"\");\r\n    if (value.length < 7) setAuthNumber(value);\r\n  };\r\n\r\n  // 휴대폰 인증 완료\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      phoneNumber,\r\n      code: authNumber,\r\n    };\r\n\r\n    console.log(\"payload >> \", payload);\r\n    setLoading(true);\r\n    axios\r\n      .post(\"/sms/code/check\", payload)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        console.log(\"res >> \", res);\r\n        if (res.data.success && res.data.data) {\r\n          console.log(\"휴대폰 인증 성공!\");\r\n          setAuthNumberError({ validate: false });\r\n          setUserPasswordPage(true);\r\n        } else {\r\n          console.log(\"휴대폰 인증 실패..\");\r\n          setAuthNumberError({ validate: true });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.error(\"err >> \", err);\r\n        console.log(toString(err));\r\n        setAuthNumberError({ validate: true });\r\n      });\r\n  };\r\n\r\n  const onClickResendCode = () => {\r\n    // 폼 초기상태 초기화\r\n    resetForm();\r\n    setLoading(true);\r\n    const payload = { phoneNumber };\r\n    console.log(\"payload >> \", payload);\r\n\r\n    axios\r\n      .post(\"/sms/code/send\", payload)\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          setLoading(false);\r\n          setShowResendAlert(true);\r\n          setTimeout(() => {\r\n            setShowResendAlert(false);\r\n          }, 2000);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"err >> \", err);\r\n        setLoading(false);\r\n      });\r\n  };\r\n  return (\r\n    <Container>\r\n      {!userPasswordPage ? (\r\n        <>\r\n          <Form onSubmit={onSubmit}>\r\n            <h1>인증번호를 입력해주세요</h1>\r\n            <InputWrapper>\r\n              <input\r\n                type=\"text\"\r\n                value={authNumber}\r\n                onChange={onChangeAuthNumber}\r\n                required={true}\r\n                autoFocus={true}\r\n                ref={authNumberInput}\r\n                disabled={showEndMessage}\r\n              />\r\n              <span></span>\r\n              <Timer>{timer}</Timer>\r\n              <label onClick={() => authNumberInput.current.focus()}>\r\n                {authNumberError.validate ? (\r\n                  <div className=\"error\">인증번호를 다시 확인해주세요</div>\r\n                ) : (\r\n                  \"인증번호 입력\"\r\n                )}\r\n              </label>\r\n            </InputWrapper>\r\n            {showResendMessage && (\r\n              <div style={{ fontSize: \"14px\", color: \"#adadad\" }}>\r\n                <strong>\r\n                  인증문자가 오지 않나요? &nbsp;\r\n                  <u\r\n                    style={{ color: \"#000000\" }}\r\n                    className=\"cursor_pointer\"\r\n                    onClick={onClickResendCode}\r\n                  >\r\n                    인증번호 재전송\r\n                  </u>\r\n                </strong>\r\n              </div>\r\n            )}\r\n            {showEndMessage && (\r\n              <div style={{ fontSize: \"14px\", color: \"#adadad\" }}>\r\n                <strong>\r\n                  인증문자가 만료되었습니다.&nbsp;\r\n                  <u\r\n                    style={{ color: \"#000000\" }}\r\n                    className=\"cursor_pointer\"\r\n                    onClick={onClickResendCode}\r\n                  >\r\n                    인증번호 재전송\r\n                  </u>\r\n                </strong>\r\n              </div>\r\n            )}\r\n            <button\r\n              type=\"submit\"\r\n              id={submitButton && \"active\"}\r\n              disabled={!submitButton && true}\r\n            >\r\n              {!loading && \"확인\"}\r\n              <BeatLoader\r\n                color=\"#ffffff\"\r\n                size={10}\r\n                margin={5}\r\n                loading={loading}\r\n              />\r\n            </button>\r\n          </Form>\r\n          <ResendMessage className={showResendAlert && \"active\"}>\r\n            인증번호를 다시 보냈어요\r\n          </ResendMessage>\r\n        </>\r\n      ) : (\r\n        <UserPasswordPage />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(AuthNumberPage);\r\n","import { Link, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Container, Form, InputWrapper, AgreeMyPhoneSection } from \"./styled\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport AuthNumberPage from \"./Sections/AuthNumberPage\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SignupPage = ({ history }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const phoneNumberInput = useRef();\r\n\r\n  const [authNumberPage, setAuthNumberPage] = useState(false);\r\n\r\n  const [phoneNumber, setPhoneNumber] = useState(user.phoneNumber);\r\n  const [phoneNumberError, setPhoneNumberError] = useState({ validate: false });\r\n\r\n  const [agreeMyPhone, setAgreeMyPhone] = useState(false);\r\n\r\n  const [submitButton, setSubmitButton] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // 각각의 입력란이 비어있지 않으면 확인(다음) 버튼 활성화\r\n    if (phoneNumber !== \"\" && agreeMyPhone) setSubmitButton(true);\r\n    else setSubmitButton(false);\r\n  }, [phoneNumber, agreeMyPhone]);\r\n\r\n  const onChangePhone = (e) => {\r\n    const regex = /[^0-9]/g;\r\n    const value = e.target.value.replace(regex, \"\");\r\n    if (value.length < 12) setPhoneNumber(value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const phoneNumberRegex = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;\r\n\r\n    // 휴대폰번호 양식에 맞게 작성되었는지 확인(길이도 같이 체크가능)\r\n    if (!phoneNumberRegex.test(phoneNumber)) {\r\n      // 휴대폰번호 양식과 일치하지 않을 때\r\n      result = false;\r\n      setPhoneNumberError({ validate: true });\r\n    } else {\r\n      // 휴대폰번호 양식과 일치할 때\r\n      setPhoneNumberError({ validate: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  // 휴대폰번호로 인증코드를 보내는 로직\r\n  const onSubmitSendCode = (e) => {\r\n    e.preventDefault();\r\n\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    setLoading(true);\r\n\r\n    axios\r\n      .post(\"/sms/code/send\", { phoneNumber })\r\n      .then((res) => {\r\n        setLoading(false);\r\n        console.log(\"res >> \", res);\r\n        if (res.data.success) {\r\n          setAuthNumberPage(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.error(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {!authNumberPage ? (\r\n        <Form onSubmit={onSubmitSendCode}>\r\n          <h1>\r\n            나만의 상점을 <br /> 만들어 볼까요?\r\n          </h1>\r\n          <h3>본인의 휴대번호가 맞는지 확인해주세요.</h3>\r\n          <InputWrapper>\r\n            <input\r\n              type=\"text\"\r\n              value={phoneNumber}\r\n              // onChange={onChangePhone}\r\n              required={true}\r\n              ref={phoneNumberInput}\r\n              style={{ color: \"#adadad\" }}\r\n            />\r\n            <span></span>\r\n            <label onClick={() => phoneNumberInput.current.focus()}>\r\n              {phoneNumberError.validate ? (\r\n                <div className=\"error\">휴대폰번호를 다시 확인해주세요</div>\r\n              ) : (\r\n                \"휴대폰번호\"\r\n              )}\r\n            </label>\r\n          </InputWrapper>\r\n          <AgreeMyPhoneSection>\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"AgreeMyPhone\"\r\n              checked={agreeMyPhone}\r\n              onClick={() => setAgreeMyPhone((prev) => !prev)}\r\n            />\r\n            <label for=\"AgreeMyPhone\">내 휴대번호가 맞습니다.</label>\r\n          </AgreeMyPhoneSection>\r\n          <button\r\n            type=\"submit\"\r\n            id={submitButton && \"active\"}\r\n            disabled={!submitButton && true}\r\n          >\r\n            {!loading && \"인증번호 전송\"}\r\n            <BeatLoader\r\n              color=\"#ffffff\"\r\n              size={10}\r\n              margin={5}\r\n              loading={loading}\r\n            />\r\n          </button>\r\n        </Form>\r\n      ) : (\r\n        <AuthNumberPage phoneNumber={phoneNumber} />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(SignupPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-color: #f9f9f9;\r\n  .error {\r\n    color: #d80c18;\r\n  }\r\n`;\r\n\r\nexport const Footer = styled.div`\r\n  color: #adadad;\r\n\r\n  & a {\r\n    color: #adadad;\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 50px;\r\n  width: 400px;\r\n  //height: 400px;\r\n  box-shadow: 0px 4px 7px #bbbbbb;\r\n  border-radius: 5px;\r\n\r\n  h1 {\r\n    color: #3f3f3f;\r\n    font-size: 28px;\r\n  }\r\n\r\n  h3 {\r\n    color: #adadad;\r\n    font-size: 18px;\r\n  }\r\n\r\n  button {\r\n    margin-top: 20px;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #ffffff;\r\n    background-color: #d80c18;\r\n    border: none;\r\n    outline: none;\r\n    width: 100%;\r\n    height: 70px;\r\n    border-radius: 5px;\r\n    cursor: not-allowed;\r\n    opacity: 0.4;\r\n    transition: 0.2s;\r\n  }\r\n\r\n  #active {\r\n    opacity: 1;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const PasswordBadge = styled.div`\r\n  height: 38px;\r\n  color: #adadad;\r\n  font-size: 30px;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n`;\r\n\r\nexport const InputWrapper = styled.div`\r\n  position: relative;\r\n  margin: 30px 0 20px 0;\r\n  border-bottom: 1px solid #adadad;\r\n\r\n  & input {\r\n    font-weight: bold;\r\n    width: 100%;\r\n    font-size: 18px;\r\n    height: 40px;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n  }\r\n  & label {\r\n    position: absolute;\r\n    top: 20%;\r\n    color: #adadad;\r\n    left: 0;\r\n    transition: 0.2s;\r\n    font-weight: bold;\r\n  }\r\n  & span::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 42px;\r\n    left: 0;\r\n    width: 0%;\r\n    height: 1px;\r\n    background: #191919;\r\n    transition: 0.2s;\r\n  }\r\n  & input:focus ~ label,\r\n  input:valid ~ label {\r\n    top: -10px;\r\n    font-size: 13px;\r\n  }\r\n  & input:focus ~ span::before,\r\n  input:valid ~ span::before {\r\n    width: 100%;\r\n    color: #191919;\r\n  }\r\n`;\r\n","import { Link, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Container, Form, InputWrapper, PasswordBadge } from \"./styled\";\r\nimport axios from \"axios\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { BiHide, BiShow } from \"react-icons/bi\";\r\n\r\nconst SigninPage = ({ history }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const passwordInput = useRef();\r\n  const phoneNumberInput = useRef();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState({ validate: false });\r\n  const [phoneNumber, setPhoneNumber] = useState(user.phoneNumber);\r\n  const [phoneNumberError, setPhoneNumberError] = useState({ validate: false });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const [submitButton, setSubmitButton] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // 각각의 입력란이 비어있지 않으면 확인(다음) 버튼 활성화\r\n    if (password !== \"\" && phoneNumber !== \"\") setSubmitButton(true);\r\n    else setSubmitButton(false);\r\n  }, [password, phoneNumber]);\r\n\r\n  const onChangePassword = (e) => {\r\n    // 최대 24글자 길이 제한\r\n    if (e.target.value.length < 24) setPassword(e.target.value);\r\n  };\r\n\r\n  const onShowPassword = () => {\r\n    setShowPassword((prev) => !prev);\r\n  };\r\n\r\n  // 변경사항으로 유저가 해당 페이지에서 직접 핸드폰 번호를 입력하게 될까봐 남겨둠\r\n  const onChangePhone = (e) => {\r\n    const regex = /[^0-9]/g;\r\n    const value = e.target.value.replace(regex, \"\");\r\n    if (value.length < 12) setPhoneNumber(value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const phoneNumberRegex = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;\r\n\r\n    // 휴대폰번호 양식에 맞게 작성되었는지 확인(길이도 같이 체크가능)\r\n    if (!phoneNumberRegex.test(phoneNumber)) {\r\n      // 휴대폰번호 양식과 일치하지 않을 때\r\n      result = false;\r\n      setPhoneNumberError({ validate: true });\r\n    } else {\r\n      // 휴대폰번호 양식과 일치할 때\r\n      setPhoneNumberError({ validate: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  // 로그인 확인\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    const payload = {\r\n      phoneNumber,\r\n      password,\r\n    };\r\n\r\n    setLoading(true);\r\n\r\n    axios\r\n      .post(\"/user/signin\", payload, {\r\n        withCredentials: true,\r\n      })\r\n      .then((res) => {\r\n        setLoading(false);\r\n\r\n        if (res.data.success) {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        setPasswordError({ validate: true });\r\n        console.error(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={onSubmit}>\r\n        <h1>\r\n          벼락장터 회원님 <br /> 반갑습니다 :D\r\n        </h1>\r\n        <h3>비밀번호를 입력해주세요.</h3>\r\n        <InputWrapper>\r\n          <input\r\n            type=\"text\"\r\n            value={phoneNumber}\r\n            // onChange={onChangePhone}\r\n            required={true}\r\n            ref={phoneNumberInput}\r\n            style={{ color: \"#adadad\" }}\r\n            autoFocus={true}\r\n          />\r\n          <span></span>\r\n          <label onClick={() => phoneNumberInput.current.focus()}>\r\n            {phoneNumberError.validate ? (\r\n              <div className=\"error\">휴대폰번호를 다시 확인해주세요</div>\r\n            ) : (\r\n              \"휴대폰번호\"\r\n            )}\r\n          </label>\r\n        </InputWrapper>\r\n        <InputWrapper>\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={onChangePassword}\r\n            required={true}\r\n            autoFocus={true}\r\n            ref={passwordInput}\r\n          />\r\n          <span></span>\r\n          <label onClick={() => passwordInput.current.focus()}>\r\n            {passwordError.validate ? (\r\n              <div className=\"error\">비밀번호를 다시 확인해주세요</div>\r\n            ) : (\r\n              \"비밀번호를 입력해주세요\"\r\n            )}\r\n          </label>\r\n          <PasswordBadge onClick={onShowPassword} className=\"cursor_pointer\">\r\n            {showPassword ? <BiHide /> : <BiShow />}\r\n          </PasswordBadge>\r\n        </InputWrapper>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          id={submitButton && \"active\"}\r\n          disabled={!submitButton && true}\r\n        >\r\n          {!loading && \"로그인\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(SigninPage);\r\n","import { withRouter } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { authUser } from \"../_actions/user_actions\";\r\nimport SigninModal from \"../components/SigninModal\";\r\n\r\n// option: 로그인 여부 상관없음 (0) - 기본값\r\n//         로그인 한 유저만 허용(1)\r\n//         로그인 안한 유저만 허용(2)\r\nexport default function (Component, option = 0) {\r\n  function AuthenticationCheck({ history }) {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(authUser()).then((res) => {\r\n        const isSignin = res.payload && res.payload.success && true;\r\n\r\n        switch (option) {\r\n          case 1:\r\n            // 로그인 한 유저만 접근 가능\r\n            if (isSignin) return <Component />;\r\n            else history.push(\"/\");\r\n            break;\r\n\r\n          case 2:\r\n            // 로그인 안한 유저만 접근 가능\r\n            if (!isSignin) return <Component />;\r\n            else history.push(\"/\");\r\n            break;\r\n        }\r\n      });\r\n    }, []);\r\n\r\n    return <Component />;\r\n  }\r\n\r\n  return withRouter(AuthenticationCheck);\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const SlideContainer = styled.div`\r\n  width: 1020px;\r\n  position: relative;\r\n  height: 290px;\r\n  margin-bottom: 16px;\r\n  overflow: hidden;\r\n\r\n  & .slidebox {\r\n    display: flex;\r\n  }\r\n\r\n  & img {\r\n    width: 100%;\r\n  }\r\n\r\n  & button {\r\n    background-color: transparent;\r\n    margin: 0 16px;\r\n    border: none;\r\n    width: 44px;\r\n    height: 44px;\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  & .prev-btn {\r\n    position: absolute;\r\n    top: 120px;\r\n    left: 0px;\r\n  }\r\n\r\n  & .prev-btn::before {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    top: 13px;\r\n    left: 15px;\r\n    border: 1px solid #ffffff;\r\n    border-width: 3px 3px 0 0;\r\n    transform: rotate(225deg);\r\n  }\r\n\r\n  & .next-btn {\r\n    position: absolute;\r\n    top: 120px;\r\n    right: 0px;\r\n  }\r\n\r\n  & .next-btn::before {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    top: 13px;\r\n    right: 15px;\r\n    border: 1px solid #ffffff;\r\n    border-width: 3px 3px 0 0;\r\n    transform: rotate(45deg);\r\n  }\r\n`;\r\n\r\nexport const StaticContainer = styled.div`\r\n  width: 1020px;\r\n  height: 210px;\r\n  overflow: hidden;\r\n  & img {\r\n    width: 100%;\r\n  }\r\n`;\r\n","import { SlideContainer, StaticContainer } from \"./styled\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport useInterval from \"../../../../hooks/useInterval\";\r\n\r\nconst Banner = () => {\r\n  const slideImgRef = useRef();\r\n\r\n  const [currentImgIndex, setCurrentImgIndex] = useState(0);\r\n  const [totalImgIndex, setTotalImgIndex] = useState(5);\r\n\r\n  useEffect(() => {\r\n    // slideImgRef.current.style.transition = \"all 0.5s ease-in-out\";\r\n    slideImgRef.current.style.transform = `translateX(-${currentImgIndex}00%)`;\r\n  }, [currentImgIndex]);\r\n\r\n  useInterval(() => {\r\n    onClickNextImage();\r\n  }, 5000);\r\n\r\n  const onClickNextImage = () => {\r\n    if (currentImgIndex >= totalImgIndex - 1) setCurrentImgIndex(0);\r\n    else setCurrentImgIndex(currentImgIndex + 1);\r\n  };\r\n\r\n  const onClickPreviewImage = () => {\r\n    if (currentImgIndex === 0) setCurrentImgIndex(totalImgIndex - 1);\r\n    else setCurrentImgIndex(currentImgIndex - 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/*  Slide Container Section */}\r\n      <SlideContainer>\r\n        <div className=\"slidebox\" ref={slideImgRef}>\r\n          <img\r\n            src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/almond.jpg`}\r\n          />\r\n          <img\r\n            src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/mushroom.jpg`}\r\n          />\r\n          <img\r\n            src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/pear.jpg`}\r\n          />\r\n          <img\r\n            src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/tomato.jpg`}\r\n          />\r\n          <img\r\n            src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/vegetable.jpg`}\r\n          />\r\n        </div>\r\n        <button onClick={onClickPreviewImage} className=\"prev-btn\"></button>\r\n        <button onClick={onClickNextImage} className=\"next-btn\"></button>\r\n      </SlideContainer>\r\n\r\n      {/* End  Slide Container Section */}\r\n\r\n      {/*  Slide Container Section */}\r\n      <StaticContainer>\r\n        <img\r\n          src={`${process.env.REACT_APP_MEDIA_URL}/static/banner_image/lightning_market_banner.png`}\r\n          alt=\"lightning_market_banner\"\r\n        />\r\n      </StaticContainer>\r\n\r\n      {/* End  Slide Container Section */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n","import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Banner from \"./Section/Banner\";\r\nimport {\r\n  SectionTitle,\r\n  ProductSection,\r\n  ProductContents,\r\n  Product,\r\n} from \"./styled\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { intOfKr } from \"../../utils/Currency\";\r\nimport { daysFormat } from \"../../utils/Time\";\r\n\r\nconst LandingPage = () => {\r\n  const [productList, setProductList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/product/all\")\r\n      .then((res) => {\r\n        console.log(res);\r\n        setProductList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Banner></Banner>\r\n      <SectionTitle>오늘의 상품 추천</SectionTitle>\r\n      <ProductSection>\r\n        {productList &&\r\n          productList.map((product) => (\r\n            <>\r\n              <Link to={`/product/${product._id}`}>\r\n                <Product>\r\n                  <div className=\"img_wrapper\">\r\n                    <img\r\n                      width={190}\r\n                      src={product.thumbnailImgURL}\r\n                      alt={product.title}\r\n                    />\r\n                  </div>\r\n                  <ProductContents>\r\n                    <div className=\"title\">{product.title}</div>\r\n                    <div className=\"price\">\r\n                      {intOfKr(product.price)} <span>원</span>\r\n                    </div>\r\n                    <div className=\"time\">{daysFormat(product.createdAt)}</div>\r\n                  </ProductContents>\r\n                </Product>\r\n              </Link>\r\n            </>\r\n          ))}\r\n      </ProductSection>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 1020px;\r\n`;\r\n\r\nexport const ProductContainer = styled.div`\r\n  border: none;\r\n  border-top: 2px solid black;\r\n  padding: 32px 0 0 0;\r\n  height: 500px;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n`;\r\nexport const ProductImgs = styled.div`\r\n  border: 2px solid #eeeeee;\r\n  width: 400px;\r\n  height: 400px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: 0 auto;\r\n\r\n  & img {\r\n    width: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n  & button {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n    border-radius: 50%;\r\n    margin: 0 16px;\r\n    border: none;\r\n    width: 44px;\r\n    height: 44px;\r\n    color: #ffffff;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & .prev-btn {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0px;\r\n  }\r\n\r\n  & .prev-btn::before {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    top: 13px;\r\n    left: 15px;\r\n    border: 1px solid #ffffff;\r\n    border-width: 3px 3px 0 0;\r\n    transform: rotate(225deg);\r\n  }\r\n\r\n  & .next-btn {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 0px;\r\n  }\r\n\r\n  & .next-btn::after {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 15px;\r\n    position: absolute;\r\n    top: 13px;\r\n    right: 15px;\r\n    border: 1px solid #ffffff;\r\n    border-width: 3px 3px 0 0;\r\n    transform: rotate(45deg);\r\n  }\r\n\r\n  & .slidebox {\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nexport const ProductContent = styled.div`\r\n  position: relative;\r\n  margin-left: 36px;\r\n  width: 578px;\r\n  height: 400px;\r\n  color: #cccccc;\r\n  & .title {\r\n    color: #000000;\r\n    font-size: 24px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n  }\r\n  & .price {\r\n    color: #000000;\r\n    font-size: 36px;\r\n    font-weight: 800;\r\n  }\r\n  & hr {\r\n    border: 1px solid #eeeeee;\r\n    background-color: #eeeeee;\r\n  }\r\n  & .icons {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 16px 0;\r\n  }\r\n  & .icons span {\r\n    margin: 0 16px 0 4px;\r\n  }\r\n  & .price span {\r\n    font-size: 26px;\r\n    font-weight: 400;\r\n  }\r\n  & .product_table {\r\n    color: #999999;\r\n    font-size: 14px;\r\n  }\r\n  & td:first-child {\r\n    width: 80px;\r\n    //padding-right: 20px;\r\n    padding: 7px 0;\r\n  }\r\n  & td:nth-child(2) {\r\n    color: #000000;\r\n  }\r\n`;\r\nexport const ProductButton = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 16px;\r\n\r\n  & #btn-product {\r\n    width: 100%;\r\n    height: 58px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border: none;\r\n    color: #ffffff;\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const ProductDescriptionContainer = styled.div`\r\n  width: 1020px;\r\n  position: relative;\r\n  font-size: 14px;\r\n`;\r\n\r\nexport const ProductInfoContainer = styled.div`\r\n  position: relative;\r\n  width: 1020px;\r\n\r\n  & ul {\r\n    height: 50px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n  }\r\n  & li {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-weight: 800;\r\n    border: 1px solid #eeeeee;\r\n    border-width: 2px 1px 1px 1px;\r\n    border-bottom: 1px solid black;\r\n    color: #999999;\r\n    cursor: pointer;\r\n  }\r\n  & .active {\r\n    color: #000000;\r\n    border: 1px solid black;\r\n    border-width: 1px 1px 0 1px;\r\n    border-bottom: 1px solid #ffffff;\r\n  }\r\n`;\r\nexport const ProductInfoContent = styled.div`\r\n  border-right: 2px solid #eeeeee;\r\n  width: 679px;\r\n\r\n  & h3 {\r\n    margin: 0px;\r\n    padding: 50px 0 10px 0;\r\n  }\r\n\r\n  & hr {\r\n    border: none;\r\n    border-bottom: 2px solid #eeeeee;\r\n    margin-bottom: 32px;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const InputContainer = styled.div`\r\n  border: 1px solid #eeeeee;\r\n  border-width: 2px 0px 2px 2px;\r\n  height: 155px;\r\n  position: relative;\r\n  & hr {\r\n  }\r\n\r\n  & span {\r\n    font-size: 12px;\r\n    color: #999999;\r\n    margin-left: 20px;\r\n    position: absolute;\r\n    left: 0px;\r\n    bottom: 16px;\r\n  }\r\n  & button {\r\n    float: right;\r\n    background-color: transparent;\r\n    padding: 5px 18px;\r\n    color: #999999;\r\n    border: 1px solid #eeeeee;\r\n    margin-right: 7px;\r\n    position: absolute;\r\n    right: 0px;\r\n    bottom: 8px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\nexport const AskTextarea = styled.textarea`\r\n  font-size: 13px;\r\n  width: 630px;\r\n  height: 50px;\r\n  margin: 20px;\r\n  resize: none;\r\n  border: none;\r\n  outline: none;\r\n`;\r\nexport const AskSection = styled.div`\r\n  margin: 24px 0;\r\n  border-bottom: 2px solid #eeeeee;\r\n  display: flex;\r\n  position: relative;\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    margin-right: 12px;\r\n  }\r\n  & .content {\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n  }\r\n  & .content span {\r\n    background-color: #fff3d3;\r\n  }\r\n  & .name {\r\n    color: #ab8a88;\r\n    margin-bottom: 10px;\r\n  }\r\n  & .time {\r\n    position: absolute;\r\n    color: #999999;\r\n    font-size: 13px;\r\n    top: 0;\r\n    right: 12px;\r\n  }\r\n  & .create_ask {\r\n    float: left;\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n    padding: 0px 12px 0px 0px;\r\n  }\r\n  & .delete_ask {\r\n    border: none;\r\n    border-left: 1px solid #eeeeee;\r\n    padding: 0px 0px 0px 12px;\r\n    float: left;\r\n    color: #ab8a88;\r\n    background-color: transparent;\r\n    outline: none;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n","import { InputContainer, AskTextarea, AskSection } from \"./styled\";\r\nimport { BsPencil } from \"react-icons/bs\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\r\nimport { daysFormat } from \"../../../../utils/Time\";\r\nimport { FaRegCommentDots, FaRegTrashAlt } from \"react-icons/fa\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SigninModal from \"../../../../components/SigninModal\";\r\n\r\nconst ProductAskSection = ({ history }) => {\r\n  const location = useLocation();\r\n  const productId = getProductId();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const [askList, setAskList] = useState([]);\r\n  const [ask, setAsk] = useState(\"\");\r\n\r\n  const inputAsk = useRef();\r\n\r\n  const onChangeAsk = (e) => {\r\n    if (e.target.value.length > 100) return;\r\n    setAsk(e.target.value);\r\n  };\r\n\r\n  function getProductId() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  function getProductAsk(productId) {\r\n    axios\r\n      .get(`/product/${productId}/contact`)\r\n      .then((res) => {\r\n        console.log(\"res contact >> \", res);\r\n\r\n        const contactList = [];\r\n\r\n        res.data.forEach((contact) => {\r\n          let data = {};\r\n\r\n          data[\"content\"] = contact.content;\r\n          data[\"createdAt\"] = contact.createdAt;\r\n          data[\"askId\"] = contact.id;\r\n          data[\"storeId\"] = contact._fromWriterId[0].id;\r\n\r\n          delete contact._fromWriterId[0].createdAt;\r\n          delete contact._fromWriterId[0].id;\r\n          delete contact._fromWriterId[0]._id;\r\n\r\n          data = {\r\n            ...data,\r\n            ...contact._fromWriterId[0],\r\n          };\r\n          contactList.push(data);\r\n        });\r\n\r\n        setAskList(contactList);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getProductAsk(productId);\r\n  }, []);\r\n\r\n  const onClickCreateAsk = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    if (ask === \"\") return;\r\n\r\n    const productId = getProductId();\r\n\r\n    axios\r\n      .post(`/product/${productId}/contact`, { content: ask })\r\n      .then((res) => {\r\n        console.log(res);\r\n        setAsk(\"\");\r\n        getProductAsk(productId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const onClickNestedAsk = (e) => {\r\n    const [askId, storeName] = e.target.value.split(\"/\");\r\n    console.log(askId, storeName);\r\n    setAsk(`@${storeName} : `);\r\n    inputAsk.current.focus();\r\n  };\r\n\r\n  const onClickDeleteAsk = (e) => {\r\n    const [askId, storeName] = e.target.value.split(\"/\");\r\n    axios\r\n      .delete(`/product/${askId}/contact`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        getProductAsk(productId);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const isNestedAsk = (ask) => {\r\n    if (ask[0] === \"@\") {\r\n      const target = ask.split(\" \")[0];\r\n      ask = ask.replace(target, \"\");\r\n\r\n      return (\r\n        <>\r\n          <span>{target}</span> {ask}\r\n        </>\r\n      );\r\n    }\r\n    return ask;\r\n  };\r\n  return (\r\n    <>\r\n      <h3>\r\n        상품문의&nbsp;\r\n        <span style={{ color: \"red\" }}>{askList && askList.length}</span>\r\n      </h3>\r\n      <InputContainer>\r\n        <AskTextarea\r\n          value={ask}\r\n          onChange={onChangeAsk}\r\n          type=\"text\"\r\n          placeholder=\"상품문의 입력\"\r\n          ref={inputAsk}\r\n        />\r\n\r\n        <hr />\r\n        <span>{ask.length} / 100</span>\r\n        <button onClick={onClickCreateAsk}>\r\n          <BsPencil /> 등록\r\n        </button>\r\n      </InputContainer>\r\n\r\n      <div>\r\n        {askList &&\r\n          askList.map((ask) => (\r\n            <AskSection>\r\n              <Link to={`/shop/${ask.storeId}`}>\r\n                <img src={ask.profileURL} />\r\n              </Link>\r\n              <div>\r\n                <Link to={`/shop/${ask.storeId}`}>\r\n                  <div className=\"name\">{ask.storeName}</div>\r\n                </Link>\r\n                <div className=\"content\">{isNestedAsk(ask.content)}</div>\r\n                <div className=\"time\">{daysFormat(ask.createdAt)}</div>\r\n                <button\r\n                  className=\"create_ask cursor_pointer\"\r\n                  value={`${ask.askId}/${ask.storeName}`}\r\n                  onClick={onClickNestedAsk}\r\n                >\r\n                  <span>\r\n                    <FaRegCommentDots\r\n                      size={14}\r\n                      style={{ transform: \"scaleX(-1)\" }}\r\n                    />\r\n                  </span>\r\n                  &nbsp; 댓글달기\r\n                </button>\r\n                {user.isSignin && user.isSignin.data._id === ask.storeId && (\r\n                  <button\r\n                    className=\"delete_ask cursor_pointer\"\r\n                    value={`${ask.askId}/${ask.storeName}`}\r\n                    onClick={onClickDeleteAsk}\r\n                  >\r\n                    <span>\r\n                      <FaRegTrashAlt size={14} />\r\n                    </span>\r\n                    &nbsp; 삭제하기\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </AskSection>\r\n          ))}\r\n      </div>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductAskSection);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  top: 88px;\r\n  right: 10px;\r\n  height: 300px;\r\n  width: 300px;\r\n  //border: 1px solid black;\r\n  font-size: 13px;\r\n\r\n  & img {\r\n    margin: 0px 16px 0 16px;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    float: left;\r\n  }\r\n\r\n  & span {\r\n    color: #999999;\r\n    display: block;\r\n    margin-top: 4px;\r\n  }\r\n\r\n  & hr {\r\n    border: none;\r\n    border-bottom: 2px solid #eeeeee;\r\n    margin-bottom: 32px;\r\n  }\r\n`;\r\n","import { Container } from \"./styled\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst StoreInfoSection = ({ user, history }) => {\r\n  function onClickStoreInfo() {\r\n    history.push(`/shop/${user._id}`);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <h3>상점 정보</h3>\r\n      <hr />\r\n      <div onClick={onClickStoreInfo} className=\"cursor_pointer\">\r\n        <img src={`${user.profileURL}`} />\r\n        {user && user.storeName} <br />\r\n        <span>상품 0 | 팔로워 0</span>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(StoreInfoSection);\r\n","import styled from \"styled-components\";\r\n\r\nexport const AddFavoriteAlert = styled.div`\r\n  color: #000000;\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  top: 50px;\r\n  font-size: 16px;\r\n  background-color: #ffffff;\r\n  width: 180px;\r\n  height: 48px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  & span {\r\n    color: red;\r\n    margin-left: 4px;\r\n  }\r\n\r\n  & ::before {\r\n    content: \"\";\r\n    width: 10px;\r\n    height: 10px;\r\n    border: 1px solid black;\r\n    border-width: 1px 1px 0 0;\r\n    position: absolute;\r\n    top: -6px;\r\n    left: 48%;\r\n    background-color: #ffffff;\r\n    transform: rotate(-45deg);\r\n  }\r\n`;\r\n","import { AiFillHeart } from \"react-icons/ai\";\r\nimport axios from \"axios\";\r\nimport { useLocation, withRouter } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { AddFavoriteAlert } from \"./styled\";\r\nimport { BiCheck } from \"react-icons/bi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SigninModal from \"../../../../components/SigninModal\";\r\n\r\nconst ProductFavoriteSection = ({ favoriteList, store, history }) => {\r\n  const location = useLocation();\r\n\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const [showAddFavoriteAlert, setShowAddFavoriteAlert] = useState(false);\r\n\r\n  // 찜\r\n  const [favorite, setFavorite] = useState({\r\n    // cnt: 찜 개수, mySelect: 내 선택 여부\r\n    cnt: 0,\r\n    mySelect: false,\r\n  });\r\n\r\n  function getProductId() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // undefined 를 무조건 먼저 사용해야 한다.\r\n    // 처음엔 비어있는 값이 들어와 길이를 체크하지 못해 오류를 일으키기 때문\r\n    if (favoriteList === undefined || favoriteList.length === 0) return;\r\n\r\n    let mySelect = false;\r\n    favoriteList.forEach((favorite) => {\r\n      mySelect =\r\n        store.isSignin && favorite.toStoreId === store.isSignin.data._id\r\n          ? true\r\n          : false;\r\n    });\r\n\r\n    setFavorite({\r\n      cnt: favoriteList.length,\r\n      mySelect,\r\n    });\r\n  }, [favoriteList]);\r\n\r\n  const onClickFavoriteProduct = () => {\r\n    if (store && !store.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    const productId = getProductId();\r\n\r\n    axios\r\n      .get(`/product/${productId}/favorite`)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          //    증감\r\n          setFavorite({\r\n            cnt: favorite.cnt + 1,\r\n            mySelect: true,\r\n          });\r\n          setShowAddFavoriteAlert(true);\r\n          setTimeout(() => {\r\n            setShowAddFavoriteAlert(false);\r\n          }, 2000);\r\n        } else {\r\n          //    감소\r\n          setFavorite({\r\n            cnt: favorite.cnt - 1,\r\n            mySelect: false,\r\n          });\r\n          setShowAddFavoriteAlert(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const activeFavoriteBtn = {\r\n    background: \"#333333\",\r\n  };\r\n  const defaultFavoriteBtn = {\r\n    background: \"#cccccc\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        id=\"btn-product\"\r\n        onClick={onClickFavoriteProduct}\r\n        style={favorite.mySelect ? activeFavoriteBtn : defaultFavoriteBtn}\r\n      >\r\n        {favorite.mySelect ? (\r\n          <AiFillHeart style={{ color: \"red\" }} />\r\n        ) : (\r\n          <AiFillHeart />\r\n        )}\r\n        &nbsp;찜&nbsp;<span>{favorite.cnt}</span>\r\n        {showAddFavoriteAlert && (\r\n          <AddFavoriteAlert>\r\n            <BiCheck size={20} style={{ color: \"#a4a4a4\" }} />\r\n            <span>상품을 찜</span> 했습니다\r\n          </AddFavoriteAlert>\r\n        )}\r\n      </button>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductFavoriteSection);\r\n","import styled from \"styled-components\";\r\n\r\nexport const StoreProfile = styled.div`\r\n  & img {\r\n    position: absolute;\r\n    width: 80px;\r\n    height: 80px;\r\n    border-radius: 50%;\r\n    border: 5px solid #ffffff;\r\n    top: -45px;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n  }\r\n  & .name {\r\n    margin: 40px 0 20px 0;\r\n    font-size: 20px;\r\n    font-weight: 800;\r\n  }\r\n`;\r\n\r\nexport const StoreTable = styled.table`\r\n  width: 350px;\r\n  color: #999999;\r\n  font-size: 14px;\r\n  & tr {\r\n    border-top: 1px solid #e5e5e5;\r\n  }\r\n  & td:first-child {\r\n    padding-right: 30px;\r\n  }\r\n  & td {\r\n    text-align: left;\r\n    white-space: nowrap;\r\n  }\r\n`;\r\nexport const TalkButton = styled.button`\r\n  margin-top: 20px;\r\n  background-color: #f9a827;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport AlertModal from \"../../../../components/AlertModal\";\r\nimport { RiMessage3Fill } from \"react-icons/ri\";\r\nimport { StoreProfile, StoreTable, TalkButton } from \"./styled\";\r\nimport SigninModal from \"../../../../components/SigninModal\";\r\nimport { useLocation, withRouter } from \"react-router-dom\";\r\n\r\nconst ProductTalkSection = ({ storeOfProduct, user, history }) => {\r\n  const location = useLocation();\r\n  const [showSigninModal, setShowSigninModal] = useState(false);\r\n  const [showTalkModal, setShowTalkModal] = useState(false);\r\n  const [store, setStore] = useState(storeOfProduct);\r\n  const [isMyProduct, setIsMyProduct] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (storeOfProduct === undefined) return;\r\n    setStore(storeOfProduct[0]);\r\n\r\n    console.log(\"uesr >> \", user);\r\n    const myProduct =\r\n      user.isSignin?.data.id == storeOfProduct[0].id ? true : false;\r\n    setIsMyProduct(myProduct);\r\n    console.log(myProduct);\r\n  }, [storeOfProduct, user]);\r\n\r\n  function getProductId() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  const onClickTalk = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n\r\n    const productId = getProductId();\r\n\r\n    history.push(\"/\");\r\n    history.push(`talk/${productId}?sellerId=${storeOfProduct[0].id}`);\r\n  };\r\n\r\n  const onShowTalkModal = () => {\r\n    if (!user.isSignin) {\r\n      setShowSigninModal(true);\r\n      return;\r\n    }\r\n    setShowTalkModal(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!isMyProduct && (\r\n        <button\r\n          id=\"btn-product\"\r\n          style={{ background: \"#ffa425\" }}\r\n          onClick={onShowTalkModal}\r\n        >\r\n          연락하기\r\n        </button>\r\n      )}\r\n      <AlertModal\r\n        show={showTalkModal}\r\n        close={() => setShowTalkModal((prev) => !prev)}\r\n        confirm={onShowTalkModal}\r\n        useCancelButton={false}\r\n        useSubmitButton={false}\r\n        useCloseButton={true}\r\n      >\r\n        {store && (\r\n          <StoreProfile>\r\n            <img src={store.profileURL} />\r\n            <div className=\"name\">{store.storeName}</div>\r\n          </StoreProfile>\r\n        )}\r\n\r\n        <StoreTable>\r\n          <tr>\r\n            <td>연락가능시간</td>\r\n            <td style={{ color: \"red\" }}>24시간</td>\r\n          </tr>\r\n          <tr>\r\n            <td>상점연락처</td>\r\n            <td>연락처 비공개</td>\r\n          </tr>\r\n        </StoreTable>\r\n        <TalkButton id=\"btn-product\" onClick={onClickTalk}>\r\n          <RiMessage3Fill style={{ marginRight: \"4px\" }} />\r\n          벼락톡\r\n        </TalkButton>\r\n      </AlertModal>\r\n      <SigninModal\r\n        show={showSigninModal}\r\n        close={() => setShowSigninModal(false)}\r\n      ></SigninModal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductTalkSection);\r\n","import {\r\n  Container,\r\n  ProductContainer,\r\n  ProductImgs,\r\n  ProductContent,\r\n  ProductInfoContainer,\r\n  ProductDescriptionContainer,\r\n  ProductInfoContent,\r\n  ProductButton,\r\n} from \"./styled\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useLocation, withRouter } from \"react-router-dom\";\r\nimport { daysFormat } from \"../../utils/Time\";\r\nimport { intOfKr } from \"../../utils/Currency\";\r\nimport { AiFillHeart, AiFillEye, AiFillClockCircle } from \"react-icons/ai\";\r\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\r\nimport ProductAskSection from \"./Section/ProductAskSection\";\r\nimport StoreInfoSection from \"./Section/StoreInfoSection\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ProductFavoriteSection from \"./Section/ProductFavoriteSection\";\r\nimport ProductTalkSection from \"./Section/ProductTalkSection\";\r\n\r\n// 새로운 페이지 생성시 기본 구조\r\nexport const ProductDetailPage = ({ history }) => {\r\n  const store = useSelector((state) => state.user);\r\n  const location = useLocation();\r\n  const [product, setProduct] = useState({});\r\n  const [productImgs, setProductImgs] = useState([]);\r\n  const [user, setUser] = useState({});\r\n  const [isMyProduct, setIsMyProduct] = useState(false);\r\n\r\n  // 이미지 슬라이더\r\n  const [currentImgIndex, setCurrentImgIndex] = useState(0);\r\n  const [totalImgIndex, setTotalImgIndex] = useState(false);\r\n  const productImg = useRef();\r\n\r\n  // 활성화된 탭 메뉴\r\n  const [tabMenu, setTabMenu] = useState(0);\r\n\r\n  function getProductId() {\r\n    const path = location.pathname.split(\"/\");\r\n    return path[2] ? path[2] : null;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const productId = getProductId();\r\n\r\n    axios\r\n      .get(`/product/detail/${productId}`)\r\n      .then((res) => {\r\n        console.log(\"res detail >> \", res);\r\n        setProduct(res.data);\r\n        setUser(res.data.userInfo[0]);\r\n        setProductImgs(res.data.productImgURLs);\r\n        setTotalImgIndex(res.data.productImgURLs.length);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    productImg.current.style.transition = \"all 0.2s ease-in-out\";\r\n    productImg.current.style.transform = `translateX(-${currentImgIndex}00%)`;\r\n  }, [currentImgIndex]);\r\n\r\n  const onClickNextImage = () => {\r\n    if (currentImgIndex >= totalImgIndex - 1) setCurrentImgIndex(0);\r\n    else setCurrentImgIndex(currentImgIndex + 1);\r\n  };\r\n\r\n  const onClickPreviewImage = () => {\r\n    if (currentImgIndex === 0) setCurrentImgIndex(totalImgIndex - 1);\r\n    else setCurrentImgIndex(currentImgIndex - 1);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ProductContainer>\r\n        <ProductImgs>\r\n          <div className=\"slidebox\" ref={productImg}>\r\n            {productImgs &&\r\n              productImgs.map((product) => <img src={product.productImgURL} />)}\r\n          </div>\r\n          {currentImgIndex !== 0 && (\r\n            <button className=\"prev-btn\" onClick={onClickPreviewImage}></button>\r\n          )}\r\n          {currentImgIndex !== totalImgIndex - 1 && (\r\n            <button className=\"next-btn\" onClick={onClickNextImage}></button>\r\n          )}\r\n        </ProductImgs>\r\n        <ProductContent>\r\n          <div className=\"title\">{product.title}</div>\r\n          <div className=\"price\">\r\n            {intOfKr(product.price)} <span>원</span>\r\n          </div>\r\n          <hr />\r\n          <div className=\"icons\">\r\n            <AiFillHeart /> <span>0</span>\r\n            <AiFillEye /> <span>20</span>\r\n            <AiFillClockCircle /> <span>{daysFormat(product.createdAt)}</span>\r\n          </div>\r\n\r\n          <table className=\"product_table\">\r\n            <div className=\"newProduct\">\r\n              <tr>\r\n                <td>\r\n                  <strong>·</strong>&nbsp;상품상태\r\n                </td>\r\n                <td>{product.newProduct ? \"중고\" : \"새상품\"}</td>\r\n              </tr>\r\n            </div>\r\n            <div className=\"enableExchange\">\r\n              <tr>\r\n                <td>\r\n                  <strong>·</strong>&nbsp;교환여부\r\n                </td>\r\n                <td>{product.enableExchange ? \"교환불가능\" : \"교환가능\"}</td>\r\n              </tr>\r\n            </div>\r\n            <div className=\"containDeliveryCharge\">\r\n              <tr>\r\n                <td>\r\n                  <strong>·</strong>&nbsp;배송비\r\n                </td>\r\n                <td style={{ color: \"#6e47ee\" }}>\r\n                  {product.containDeliveryCharge\r\n                    ? \"배송비 별도\"\r\n                    : \"배송비 포함\"}\r\n                </td>\r\n              </tr>\r\n              <span></span>\r\n            </div>\r\n            <div className=\"address\">\r\n              <tr>\r\n                <td>\r\n                  <strong>·</strong>&nbsp;거래지역\r\n                </td>\r\n                <td>\r\n                  <FaMapMarkerAlt size={12} style={{ color: \"#999999\" }} />\r\n                  &nbsp;\r\n                  {product.address === \"지역설정안함\"\r\n                    ? \"전국\"\r\n                    : product.address}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <strong>·</strong>&nbsp;카테고리\r\n                </td>\r\n                <td>\r\n                  {product.largeCateogry} > {product.mediumCategory} >{\" \"}\r\n                  {product.smallCategory}\r\n                </td>\r\n              </tr>\r\n            </div>\r\n          </table>\r\n          <ProductButton>\r\n            <ProductFavoriteSection\r\n              favoriteList={product.productFavoriteCount}\r\n              store={store}\r\n            />\r\n            <ProductTalkSection\r\n              storeOfProduct={product.userInfo}\r\n              user={store}\r\n            />\r\n\r\n            {/*<button style={{ background: \"#f70000\" }}>바로구매</button>*/}\r\n          </ProductButton>\r\n        </ProductContent>\r\n      </ProductContainer>\r\n      <ProductDescriptionContainer>\r\n        <ProductInfoContainer>\r\n          <ul>\r\n            <li\r\n              className={tabMenu === 0 && \"active\"}\r\n              onClick={() => setTabMenu(0)}\r\n            >\r\n              상품정보\r\n            </li>\r\n            <li\r\n              className={tabMenu === 1 && \"active\"}\r\n              onClick={() => setTabMenu(1)}\r\n            >\r\n              상품문의\r\n            </li>\r\n            <li></li>\r\n          </ul>\r\n\r\n          <ProductInfoContent>\r\n            <h3>상품정보</h3>\r\n            <hr />\r\n            {product.description &&\r\n              product.description.split(\"\\n\").map((line) => (\r\n                <>\r\n                  {line} <br />\r\n                </>\r\n              ))}\r\n            <ProductAskSection />\r\n          </ProductInfoContent>\r\n          <StoreInfoSection user={user} />\r\n        </ProductInfoContainer>\r\n      </ProductDescriptionContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductDetailPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  & .active_menu {\r\n    color: red;\r\n    font-weight: 800;\r\n  }\r\n  & ul {\r\n    height: 60px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  & li:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  & li:first-child {\r\n    //padding: 0px 30px 0px 0px;\r\n  }\r\n\r\n  & li {\r\n    border-right: 1px solid #eeeeee;\r\n    font-size: 13px;\r\n    float: left;\r\n    padding: 0px 30px;\r\n    margin: 20px 0;\r\n  }\r\n\r\n  & li:last-child {\r\n    float: left;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nexport const ProductTable = styled.table`\r\n  //border: 1px solid orange;\r\n  width: 100%;\r\n\r\n  & thead tr th {\r\n    border: 1px solid black;\r\n    border-width: 1px 0;\r\n    height: 36px;\r\n    font-size: 16px;\r\n  }\r\n\r\n  & thead tr th:nth-child(1) {\r\n    width: 150px;\r\n  }\r\n\r\n  & thead tr th:nth-child(2) {\r\n    width: 120px;\r\n  }\r\n\r\n  & thead tr th:nth-child(3) {\r\n    width: 300px;\r\n  }\r\n\r\n  & thead tr th:nth-child(4) {\r\n    width: 100px;\r\n  }\r\n\r\n  & thead tr th:nth-child(5) {\r\n    width: 50px;\r\n  }\r\n\r\n  & thead tr th:nth-child(6) {\r\n    width: 100px;\r\n  }\r\n\r\n  & tbody td {\r\n    text-align: center;\r\n    border-bottom: 1px solid #bbbbbb;\r\n  }\r\n\r\n  & tbody tr td:nth-child(2) select {\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n    appearance: none;\r\n    outline: none;\r\n    font-size: 16px;\r\n    padding: 8px 30px 8px 12px;\r\n    width: 110px;\r\n    border-radius: 4px;\r\n    background: url(\"/img/arrow.png\") no-repeat 95% 50%;\r\n  }\r\n\r\n  & tbody tr td:nth-child(2) option {\r\n    padding: 12px;\r\n  }\r\n\r\n  //& tbody tr td:nth-child(2) select::-ms-expand {\r\n  //  display: none;\r\n  //}\r\n  & tbody tr td:nth-child(3) {\r\n    color: #0074e8;\r\n  }\r\n\r\n  & td:nth-child(1) img {\r\n    width: 150px;\r\n    height: 150px;\r\n    object-fit: cover;\r\n    padding: 8px;\r\n  }\r\n`;\r\n","import { Container, ProductTable } from \"./styled\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { timeFormat, timeKrFormat } from \"../../utils/Time\";\r\nimport { intOfKr } from \"../../utils/Currency\";\r\nimport AlertModal from \"../../components/AlertModal\";\r\nimport { logDOM } from \"@testing-library/react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const ProductManagePage = ({ history }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const [products, setProducts] = useState();\r\n\r\n  const [showAlertModal, setShowAlertModal] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState(\"\");\r\n\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [targetProduct, setTargetProduct] = useState({\r\n    productId: null,\r\n    state: null,\r\n  });\r\n\r\n  const onCloseDeleteModal = () => {\r\n    setShowDeleteModal(false);\r\n  };\r\n\r\n  const onCloseAlertModal = () => {\r\n    setShowAlertModal(false);\r\n  };\r\n\r\n  // 알림 모달창 띄우는 함수\r\n  const onShowAlertModal = (message) => {\r\n    setAlertMessage(message);\r\n    setShowAlertModal(true);\r\n  };\r\n\r\n  function getMyProducts() {\r\n    if (!user.isSignin) return;\r\n    axios\r\n      .get(`/user/detail/${user.isSignin.data._id}`)\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n        console.log(\"data >> \", res.data.data.products);\r\n        setProducts(res.data.data.products);\r\n        history.push(\"/product/manage\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    // 내 상품목록 전체 가져오기\r\n    getMyProducts();\r\n  }, []);\r\n\r\n  function deleteProduct() {\r\n    axios\r\n      .delete(\r\n        `/product?productId=${targetProduct.productId}&state=${targetProduct.state}`\r\n      )\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n        history.push(\"/product/new\");\r\n        history.push(\"/product/manage\");\r\n        onCloseDeleteModal();\r\n        onShowAlertModal(\"상품이 삭제되었습니다.\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  }\r\n\r\n  // 판매상태 변경시 서버에 변경 요청\r\n  const onChangeSellState = (e) => {\r\n    const [productId, state] = e.target.value.split(\"/\");\r\n    setTargetProduct({\r\n      productId,\r\n      state,\r\n    });\r\n\r\n    console.log(productId, state);\r\n\r\n    if (state === \"delete\") {\r\n      setShowDeleteModal(true);\r\n      // deleteProduct(productId, state);\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .patch(\"/product/state\", { productId, state })\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n        history.push(\"/product/manage\");\r\n\r\n        onShowAlertModal(\"판매상태가 변경되었습니다.\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ul>\r\n        <li onClick={() => history.push(\"/product/new-ai\")}>자동등록</li>\r\n        <li onClick={() => history.push(\"/product/new\")}>상품등록</li>\r\n        <li\r\n          onClick={() => history.push(\"/product/manage\")}\r\n          className=\"active_menu\"\r\n        >\r\n          상품관리\r\n        </li>\r\n        {/*<li>구매/판매 내역</li>*/}\r\n      </ul>\r\n\r\n      <ProductTable>\r\n        <thead>\r\n          <tr>\r\n            <th>사진</th>\r\n            <th>판매상태</th>\r\n            <th>상품명</th>\r\n            <th>가격</th>\r\n            <th>찜/문의</th>\r\n            <th>최근수정일</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {products &&\r\n            products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td>\r\n                  <img width=\"200px\" src={product.thumbnailImgURL} />\r\n                </td>\r\n                <td>\r\n                  <select name=\"sell_state\" onChange={onChangeSellState}>\r\n                    <option\r\n                      value={`${product._id}/selling`}\r\n                      selected={product.state === \"selling\" ? true : false}\r\n                    >\r\n                      판매중\r\n                    </option>\r\n                    <option\r\n                      value={`${product._id}/reserving`}\r\n                      selected={product.state === \"reserving\" ? true : false}\r\n                    >\r\n                      예약중\r\n                    </option>\r\n                    <option\r\n                      value={`${product._id}/soldout`}\r\n                      selected={product.state === \"soldout\" ? true : false}\r\n                    >\r\n                      판매완료\r\n                    </option>\r\n                    <option\r\n                      value={`${product._id}/delete`}\r\n                      onClick={() => console.log(\"sf\")}\r\n                      selected={product.state === \"delete\" ? true : false}\r\n                    >\r\n                      삭제\r\n                    </option>\r\n                  </select>\r\n                </td>\r\n                <td>{product.title}</td>\r\n                <td>{intOfKr(product.price)}원</td>\r\n                <td>\r\n                  {0}/{0}\r\n                </td>\r\n                <td>{timeKrFormat(product.updatedAt)}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </ProductTable>\r\n      {/* 변경 또는 삭제 결과 알림 모달창 */}\r\n      <AlertModal\r\n        show={showAlertModal}\r\n        close={onCloseAlertModal}\r\n        useCloseButton={false}\r\n        useCancelButton={false}\r\n        confirm={onCloseAlertModal}\r\n      >\r\n        {alertMessage}\r\n      </AlertModal>\r\n\r\n      {/* 삭제 확인 모달창 */}\r\n      <AlertModal\r\n        show={showDeleteModal}\r\n        close={onCloseDeleteModal}\r\n        title={\"상품삭제\"}\r\n        useCloseButton={false}\r\n        confirm={deleteProduct}\r\n      >\r\n        해당 상품을 삭제하시겠습니까?\r\n      </AlertModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(ProductManagePage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const SettingTabMenu = styled.div`\r\n  color: #000000;\r\n  & .active {\r\n    color: red;\r\n    font-weight: 800;\r\n  }\r\n  & ul {\r\n    height: 60px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    margin-bottom: 30px;\r\n  }\r\n  & li {\r\n    float: left;\r\n    margin: 20px 0;\r\n    padding: 0px 30px;\r\n    font-size: 13px;\r\n    border-right: 1px solid #eeeeee;\r\n    cursor: pointer;\r\n  }\r\n  & li:last-child {\r\n    border: none;\r\n  }\r\n`;\r\n\r\nexport const SettingCommonSection = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  margin: 32px 0;\r\n\r\n  & label {\r\n    font-size: 16px;\r\n    font-weight: 800;\r\n    margin-bottom: 8px;\r\n  }\r\n  & input {\r\n    width: 365px;\r\n    border-radius: 4px;\r\n    padding: 10px 16px;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    border: 1px solid #a4a4a4;\r\n    margin-bottom: 16px;\r\n  }\r\n  & button {\r\n    width: 400px;\r\n    margin-top: 16px;\r\n    font-size: 16px;\r\n    color: #ffffff;\r\n    border: none;\r\n    border-radius: 4px;\r\n    height: 50px;\r\n    background-color: #ff5058;\r\n  }\r\n  & button:hover {\r\n    cursor: pointer;\r\n    background-color: #ff3039;\r\n  }\r\n  & .input_wrapper {\r\n    position: relative;\r\n  }\r\n  & .toggle_hidden_and_show {\r\n    cursor: pointer;\r\n    font-size: 28px;\r\n    color: #999999;\r\n    position: absolute;\r\n    top: 5px;\r\n    right: 10px;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const User = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  & span {\r\n    font-size: 32px;\r\n    font-weight: 800;\r\n  }\r\n  & img {\r\n    border-radius: 50%;\r\n    width: 100px;\r\n    height: 100px;\r\n    object-fit: cover;\r\n    margin-right: 16px;\r\n  }\r\n`;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { authUser } from \"../../../../_actions/user_actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Container, SettingCommonSection } from \"../../styled\";\r\nimport { User } from \"./styled\";\r\n\r\nexport const SignoutPage = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n\r\n  // 로그아웃\r\n  function signout() {\r\n    axios\r\n      .get(\"/user/signout\", { withCredentials: true })\r\n      .then(({ data }) => {\r\n        if (data.success) {\r\n          dispatch(authUser());\r\n        }\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"err >> \", err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <User>\r\n        <img src={`${user.isSignin.data.profileURL}`} />\r\n        <span>{user.isSignin.data.storeName}</span>\r\n      </User>\r\n      <SettingCommonSection>\r\n        <button onClick={signout}>로그아웃</button>\r\n      </SettingCommonSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(SignoutPage);\r\n","import { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Container, SettingCommonSection } from \"../../styled\";\r\nimport React, { useState } from \"react\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport AlertModal from \"../../../../components/AlertModal\";\r\nimport { BiHide, BiShow } from \"react-icons/bi\";\r\n\r\nexport const UpdatePasswordPage = ({ history }) => {\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [currentPasswordError, setCurrentPasswordError] = useState({\r\n    validate: false,\r\n  });\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState({ validate: false });\r\n  const [passwordCheck, setPasswordCheck] = useState(\"\");\r\n  const [passwordCheckError, setPasswordCheckError] = useState({\r\n    incorrect: false,\r\n  });\r\n\r\n  const [showCurrentPassword, setShowCurrentPassword] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showPasswordCheck, setShowPasswordCheck] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n  const onCloseSuccessModal = () => {\r\n    setShowSuccessModal(false);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const onChangePasswordCheck = (e) => {\r\n    // 비밀번호가 16자리를 넘어가면 입력 불가능\r\n    if (e.target.value.length > 16) return;\r\n    setPasswordCheck(e.target.value);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    // 영어 알파벳, 숫자, 특수기호 반드시 1개 이상 입력\r\n    const regex =\r\n      /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$%^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,16}$/;\r\n\r\n    console.log(\"regex test >> \", regex.test(e.target.value));\r\n\r\n    // 비밀번호가 16자리를 넘어가면 입력 불가능\r\n    if (e.target.value.length > 16) return;\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const passwordRegex =\r\n      /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$%^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,16}$/;\r\n\r\n    // 비밀번호 생성규칙에 맞게 작성되었는지 확인\r\n    if (!passwordRegex.test(password)) {\r\n      // 비밀번호 생성규칙에 일치하지 않을 때\r\n      result = false;\r\n      setPasswordError({ validate: true });\r\n    } else {\r\n      // 비밀번호 생성규칙에 일치할 때\r\n      setPasswordError({ validate: false });\r\n    }\r\n\r\n    // 비밀번호와 비밀번호확인이 일치하는지 확인\r\n    if (password !== passwordCheck) {\r\n      // 일치하지 않으면\r\n      result = false;\r\n      setPasswordCheckError({ incorrect: true });\r\n    } else {\r\n      // 일치하면\r\n      setPasswordCheckError({ incorrect: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const onSubmitUpdatePassword = () => {\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    setLoading(true);\r\n\r\n    console.log(\"currentPassword >> \", currentPassword);\r\n    console.log(\"password >> \", password);\r\n\r\n    axios\r\n      .patch(\"/user/password\", { currentPassword, password })\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n        setLoading(false);\r\n\r\n        // 비밀번호 변경 성공\r\n        if (res.data.success) {\r\n          setCurrentPassword(\"\");\r\n          setPassword(\"\");\r\n          setPasswordCheck(\"\");\r\n          setShowSuccessModal(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n        setLoading(false);\r\n        setCurrentPasswordError({ validate: true });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <p style={{ textAlign: \"center\" }}>\r\n          <strong>[ 비밀번호 생성규칙 ]</strong>\r\n        </p>\r\n        <p>\r\n          - 최소<span style={{ color: \"red\" }}>8글자</span>\r\n          에서 최대 <span style={{ color: \"red\" }}>16글자</span>까지 입력할 수\r\n          있습니다.\r\n        </p>\r\n        <p>\r\n          - <u>영문자</u>, <u>숫자</u>, <u>특수기호</u>, 는 반드시&nbsp;\r\n          <span style={{ color: \"red\" }}>1개</span>\r\n          이상 입력돼야 합니다.\r\n        </p>\r\n      </div>\r\n      <SettingCommonSection>\r\n        {/* Current Password Input Section */}\r\n        {currentPasswordError.validate ? (\r\n          <label style={{ color: \"red\" }}>\r\n            현재 비밀번호가 일치하지 않습니다.\r\n          </label>\r\n        ) : (\r\n          <label>현재 비밀번호</label>\r\n        )}{\" \"}\r\n        <div className=\"input_wrapper\">\r\n          <input\r\n            type={showCurrentPassword ? \"text\" : \"password\"}\r\n            value={currentPassword}\r\n            placeholder=\"현재 비밀번호를 입력해주세요.\"\r\n            onChange={(e) => setCurrentPassword(e.target.value)}\r\n          />{\" \"}\r\n          <span\r\n            className=\"toggle_hidden_and_show\"\r\n            onClick={() => setShowCurrentPassword((prev) => !prev)}\r\n          >\r\n            {showCurrentPassword ? <BiHide /> : <BiShow />}\r\n          </span>\r\n        </div>\r\n        {/* End Current Password Input Section */}\r\n        {/* Password Input Section */}\r\n        {passwordError.validate ? (\r\n          <label style={{ color: \"red\" }}>\r\n            비밀번호 생성규칙과 일치하지 않습니다.\r\n          </label>\r\n        ) : (\r\n          <label>변경할 비밀번호</label>\r\n        )}\r\n        <div className=\"input_wrapper\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={onChangePassword}\r\n            placeholder=\"변경할 비밀번호를 입력해주세요.\"\r\n          />\r\n          <span\r\n            className=\"toggle_hidden_and_show\"\r\n            onClick={() => setShowPassword((prev) => !prev)}\r\n          >\r\n            {showPassword ? <BiHide /> : <BiShow />}\r\n          </span>\r\n        </div>\r\n        {/* End Password Input Section */}\r\n        {/* Check Password Input Section */}\r\n        {passwordCheckError.incorrect ? (\r\n          <label style={{ color: \"red\" }}>\r\n            변경할 비밀번호가 일치하지 않습니다.\r\n          </label>\r\n        ) : (\r\n          <label>변경할 비밀번호 확인</label>\r\n        )}\r\n        <div className=\"input_wrapper\">\r\n          <input\r\n            type={showPasswordCheck ? \"text\" : \"password\"}\r\n            value={passwordCheck}\r\n            placeholder=\"변경할 비밀번호를 한번 더 입력해주세요.\"\r\n            onChange={onChangePasswordCheck}\r\n          />\r\n          <span\r\n            className=\"toggle_hidden_and_show\"\r\n            onClick={() => setShowPasswordCheck((prev) => !prev)}\r\n          >\r\n            {showPasswordCheck ? <BiHide /> : <BiShow />}\r\n          </span>\r\n        </div>\r\n        {/* End Check Password Input Section */}\r\n        <button onClick={onSubmitUpdatePassword} disabled={loading}>\r\n          {!loading && \"비밀번호 변경\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </SettingCommonSection>\r\n      <AlertModal\r\n        show={showSuccessModal}\r\n        close={onCloseSuccessModal}\r\n        confirm={onCloseSuccessModal}\r\n        useCancelButton={false}\r\n      >\r\n        비밀번호 변경에 성공했습니다. <br /> 비밀번호 확인을 위해 재로그인\r\n        해주세요.\r\n      </AlertModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(UpdatePasswordPage);\r\n","import { Container, SettingCommonSection } from \"../../styled\";\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { BiHide, BiShow } from \"react-icons/bi\";\r\nimport AlertModal from \"../../../../components/AlertModal\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nexport const DeleteMyAccountPage = ({ history }) => {\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [phoneNumberError, setPhoneNumberError] = useState({\r\n    validate: false,\r\n    incorrect: false,\r\n  });\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState({\r\n    validate: false,\r\n    incorrect: false,\r\n  });\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n  const onCloseSuccessModal = () => {\r\n    setShowSuccessModal(false);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const onChangePhoneNumber = (e) => {\r\n    const regex = /[^0-9]/g;\r\n    const value = e.target.value.replace(regex, \"\");\r\n    if (value.length < 12) setPhoneNumber(value);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    // 최대 24글자 길이 제한 (비밀번호 생성시에는 16글자까지 가능)\r\n    if (e.target.value.length < 24) setPassword(e.target.value);\r\n  };\r\n\r\n  const totalValidate = () => {\r\n    // 모든 유효성 검사에 이상 없으면 true 반환\r\n    let result = true;\r\n\r\n    const phoneNumberRegex = /^01([0|1|6|7|8|9])-?([0-9]{3,4})-?([0-9]{4})$/;\r\n\r\n    // 휴대폰번호 양식에 맞게 작성되었는지 확인(길이도 같이 체크가능)\r\n    if (!phoneNumberRegex.test(phoneNumber)) {\r\n      // 휴대폰번호 양식과 일치하지 않을 때\r\n      result = false;\r\n      setPhoneNumberError({ validate: true });\r\n    } else {\r\n      // 휴대폰번호 양식과 일치할 때\r\n      setPhoneNumberError({ validate: false });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  const resetError = () => {\r\n    setPhoneNumberError({ validate: false, incorrect: false });\r\n    setPasswordError({ validate: false, incorrect: false });\r\n  };\r\n\r\n  const onSubmitDeleteMyAccount = () => {\r\n    // 유효성 검사를 통과하지 못했을 때\r\n    if (!totalValidate()) return;\r\n\r\n    setLoading(true);\r\n\r\n    axios\r\n      .delete(\"/user/account\", {\r\n        data: {\r\n          phoneNumber,\r\n          password,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setLoading(false);\r\n\r\n        // 회원탈퇴 성공\r\n        if (res.data.success) {\r\n          resetError();\r\n          setShowSuccessModal(true);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        setPhoneNumberError({ incorrect: true });\r\n        setPasswordError({ incorrect: true });\r\n        console.error(\"err >> \", err);\r\n      });\r\n  };\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <p style={{ textAlign: \"center\" }}>\r\n          <strong>[ 회원탈퇴 주의사항 ]</strong>\r\n        </p>\r\n        <p>- 상점명 변경 및 휴대폰번호 변경은 내정보 수정에서 가능합니다.</p>\r\n        <p>\r\n          - 탈퇴 시 계정의 모든 정보는 삭제되며 재가입시에도\r\n          <span style={{ color: \"red\" }}> 복구되지 않습니다.</span>\r\n        </p>\r\n      </div>\r\n      <SettingCommonSection>\r\n        {/* PhoneNumber Input Section*/}\r\n\r\n        {phoneNumberError.validate ? (\r\n          <label style={{ color: \"red\" }}>휴대번호가 일치하지 않습니다.</label>\r\n        ) : (\r\n          <>\r\n            {phoneNumberError.incorrect ? (\r\n              <label style={{ color: \"red\" }}>\r\n                휴대번호와 비밀번호를 다시 한번 확인해주세요.\r\n              </label>\r\n            ) : (\r\n              <label>휴대번호</label>\r\n            )}\r\n          </>\r\n        )}\r\n        <input\r\n          type=\"text\"\r\n          value={phoneNumber}\r\n          onChange={onChangePhoneNumber}\r\n          placeholder=\"현재 로그인된 계정의 휴대번호를 입력해주세요.\"\r\n        />\r\n        {/* End PhoneNumber Input Section*/}\r\n\r\n        {/* Password Input Section*/}\r\n\r\n        {passwordError.validate ? (\r\n          <label style={{ color: \"red\" }}>비밀번호가 일치하지 않습니다.</label>\r\n        ) : (\r\n          <>\r\n            {passwordError.incorrect ? (\r\n              <label style={{ color: \"red\" }}>\r\n                휴대번호와 비밀번호를 다시 한번 확인해주세요.\r\n              </label>\r\n            ) : (\r\n              <label>비밀번호</label>\r\n            )}\r\n          </>\r\n        )}\r\n        <div className=\"input_wrapper\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={onChangePassword}\r\n            placeholder=\"비밀번호를 입력해주세요.\"\r\n          />\r\n          <span\r\n            className=\"toggle_hidden_and_show\"\r\n            onClick={() => setShowPassword((prev) => !prev)}\r\n          >\r\n            {showPassword ? <BiHide /> : <BiShow />}\r\n          </span>\r\n        </div>\r\n        {/* End Password Input Section*/}\r\n        <button onClick={onSubmitDeleteMyAccount} disabled={loading}>\r\n          {!loading && \"회원탈퇴\"}\r\n          <BeatLoader color=\"#ffffff\" size={10} margin={5} loading={loading} />\r\n        </button>\r\n      </SettingCommonSection>\r\n      <AlertModal\r\n        show={showSuccessModal}\r\n        close={onCloseSuccessModal}\r\n        confirm={onCloseSuccessModal}\r\n        useCancelButton={false}\r\n      >\r\n        회원탈퇴를 성공했습니다. <br /> 그동안 이용해주셔서 감사합니다.\r\n      </AlertModal>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(DeleteMyAccountPage);\r\n","import { Container, SettingTabMenu } from \"./styled\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SignoutPage from \"./Section/SignoutPage\";\r\nimport UpdatePasswordPage from \"./Section/UpdatePasswordPage\";\r\nimport DeleteMyAccountPage from \"./Section/DeleteMyAccountPage\";\r\n\r\nexport const SettingPage = () => {\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  return (\r\n    <Container>\r\n      <SettingTabMenu>\r\n        <ul>\r\n          <li\r\n            onClick={() => setTabIndex(0)}\r\n            className={tabIndex === 0 && \"active\"}\r\n          >\r\n            로그아웃\r\n          </li>\r\n          <li\r\n            onClick={() => setTabIndex(1)}\r\n            className={tabIndex === 1 && \"active\"}\r\n          >\r\n            비밀번호 변경\r\n          </li>\r\n          <li\r\n            onClick={() => setTabIndex(2)}\r\n            className={tabIndex === 2 && \"active\"}\r\n          >\r\n            회원탈퇴\r\n          </li>\r\n        </ul>\r\n      </SettingTabMenu>\r\n      {tabIndex === 0 && <SignoutPage />}\r\n      {tabIndex === 1 && <UpdatePasswordPage />}\r\n      {tabIndex === 2 && <DeleteMyAccountPage />}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SettingPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  border: 1px solid black;\r\n`;\r\n","import { Container } from \"./styled\";\r\nimport axios from \"axios\";\r\n\r\n// 새로운 페이지 생성시 기본 구조\r\nexport const DevPage = () => {\r\n  // 계정 생성 요청\r\n  // 휴대폰번호로 인증코드를 보내는 로직\r\n  const onClickCreateUser = () => {\r\n    axios\r\n      .post(\"/user/signup\", {\r\n        phoneNumber: \"\",\r\n        password: \"\",\r\n      })\r\n      .then((res) => {\r\n        // 회원가입 성공\r\n        if (res.data.success && res.data.data) {\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"err >> \", err);\r\n      });\r\n  };\r\n  return (\r\n    <Container>\r\n      <h3>DevPage</h3>\r\n      <button onClick={onClickCreateUser}>회원가입</button>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default DevPage;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\nexport const MessageWithoutResult = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  line-height: 24px;\r\n  font-size: 14px;\r\n\r\n  & h3 {\r\n    font-size: 32px;\r\n    color: #ff5058;\r\n    padding: 0px;\r\n    margin: 16px 0;\r\n  }\r\n  & span {\r\n    font-weight: 800;\r\n    padding-bottom: 28px;\r\n    border-bottom: 1px solid #eeeeee;\r\n    width: 500px;\r\n    text-align: center;\r\n  }\r\n`;\r\n","import { Container, MessageWithoutResult } from \"./styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Product,\r\n  ProductContents,\r\n  ProductSection,\r\n} from \"../LandingPage/styled\";\r\nimport { intOfKr } from \"../../utils/Currency\";\r\nimport { daysFormat } from \"../../utils/Time\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\nMessageWithoutResult.propTypes = { children: PropTypes.node };\r\nexport const SearchPage = ({ history }) => {\r\n  const location = useLocation();\r\n\r\n  const [productList, setProductList] = useState([]);\r\n  const [keyword, setKeyword] = useState([]);\r\n\r\n  function getTitleSearch(keyword) {\r\n    axios\r\n      .get(`/product/${keyword}/search`)\r\n      .then((res) => {\r\n        console.log(\"res >> \", res);\r\n\r\n        setProductList(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err >> \", err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    // 검색 파라미터 분석\r\n    const [type, keyword] = location.search.replace(\"?\", \"\").split(\"=\");\r\n\r\n    setKeyword(keyword);\r\n\r\n    if (type === \"q\") {\r\n      getTitleSearch(keyword);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <h4 style={{ fontWeight: \"400\" }}>\r\n        <span style={{ color: \"#ff5058\" }}>{keyword}</span>\r\n        의&nbsp;검색결과&nbsp;\r\n        <span style={{ color: \"#999999\" }}>{productList.length}</span>개\r\n      </h4>\r\n      {productList.length === 0 && (\r\n        <MessageWithoutResult>\r\n          <h3>{keyword}</h3>\r\n          <span>에 대한 검색결과가 없습니다.</span>\r\n          <br />\r\n          - 단어의 철자가 정확한지 확인해 보세요 <br />\r\n          - 보다 일반적인 검색어로 다시 검색해 보세요 <br />\r\n          - 검색어의 띄어쓰기를 다르게 해보세요 <br />\r\n          - 유해/금지어가 아닌지 확인해주세요 <br />\r\n        </MessageWithoutResult>\r\n      )}\r\n\r\n      <ProductSection>\r\n        {productList &&\r\n          productList.map((product) => (\r\n            <>\r\n              <Link to={`/product/${product._id}`}>\r\n                <Product>\r\n                  <div className=\"img_wrapper\">\r\n                    <img\r\n                      width={190}\r\n                      src={product.thumbnailImgURL}\r\n                      alt={product.title}\r\n                    />\r\n                  </div>\r\n                  <ProductContents>\r\n                    <div className=\"title\">{product.title}</div>\r\n                    <div className=\"price\">\r\n                      {intOfKr(product.price)} <span>원</span>\r\n                    </div>\r\n                    <div className=\"time\">{daysFormat(product.createdAt)}</div>\r\n                  </ProductContents>\r\n                </Product>\r\n              </Link>\r\n            </>\r\n          ))}\r\n      </ProductSection>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchPage);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  border: 1px solid black;\r\n`;\r\n","const MessageSection = ({ msgList }) => {\r\n  console.log(\"section msgList >> \", msgList);\r\n  return (\r\n    <div>\r\n      {msgList.map((msg) => (\r\n        <div>{msg.msg}</div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageSection;\r\n","import { Container } from \"./styled\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport MessageSection from \"./MessageSection\";\r\nconst socket = io.connect(`${process.env.REACT_APP_BASE_URL}/nsp-root`);\r\n\r\nexport const TestPage = () => {\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [msgList, setMsgList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"socketReturn\", (data) => {\r\n      console.log(\"socketReturn data >> \", data);\r\n      const _msgList = msgList;\r\n      _msgList.push(data);\r\n      setMsgList(_msgList);\r\n    });\r\n  }, []);\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(\"send msg >> \", msg);\r\n\r\n    const _msgList = msgList;\r\n    _msgList.push({ msg });\r\n    setMsgList(_msgList);\r\n\r\n    console.log(\"submit _msgList >> \", _msgList);\r\n\r\n    socket.emit(\"socketTest\", { msg }, (data) => {\r\n      console.log(\"socketTest data >> \", data);\r\n    });\r\n\r\n    setMsg(\"\");\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          value={msg}\r\n          onChange={(e) => setMsg(e.target.value)}\r\n        />\r\n        <button type=\"submit\">전송</button>\r\n      </form>\r\n      <MessageSection msgList={msgList} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TestPage;\r\n","import { Route, Switch, withRouter, useLocation, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport { Container } from \"./styled\";\r\nimport TopNav from \"./Header/TopNav\";\r\nimport SearchNav from \"./Header/SearchNav\";\r\nimport ProductNewPage from \"../page/ProductNewPage\";\r\nimport ProductAINewPage from \"../page/ProductAINewPage\";\r\nimport MyShopPage from \"../page/MyShopPage\";\r\nimport TalkPage from \"../page/TalkPage\";\r\nimport Footer from \"./Footer\";\r\nimport KakaoOAuthPage from \"../page/KakaoOAuthPage\";\r\nimport FacebookOAuthPage from \"../page/FacebookOAuthPage\";\r\nimport NaverOAuthPage from \"../page/NaverOAuthPage\";\r\nimport PhoneNumberAuthPage from \"../page/PhoneNumberAuthPage\";\r\nimport SignupPage from \"../page/SignupPage\";\r\nimport SigninPage from \"../page/SigninPage\";\r\nimport Auth from \"../hoc/Auth\";\r\nimport LandingPage from \"../page/LandingPage\";\r\nimport ProductDetailPage from \"../page/ProductDetailPage\";\r\nimport ProductManagePage from \"../page/ProductManagePage\";\r\nimport SettingPage from \"../page/SettingPage\";\r\nimport DevPage from \"../page/DevPage\";\r\nimport SearchPage from \"../page/SearchPage\";\r\nimport TestPage from \"../page/TestPage\";\r\n\r\n// Auth(Component, option)\r\n// - option: (0)로그인 여부 상관없음 - 기본값\r\n//           (1)로그인 한 유저만 허용\r\n//           (2)로그인 안한 유저만 허용\r\nfunction Layout({ history }) {\r\n  const { pathname } = useLocation();\r\n\r\n  // 기존의 만들어둔 레이아웃을 적용하지 않고 새롭게 구성하기 위해 조건문처리\r\n  if (\r\n    pathname.includes(\"/oauth\") ||\r\n    pathname.includes(\"/auth\") ||\r\n    pathname.includes(\"/signin\") ||\r\n    pathname.includes(\"/signup\") ||\r\n    pathname.includes(\"/dev\")\r\n  ) {\r\n    return (\r\n      <>\r\n        <Switch>\r\n          {/* 개발용  페이지*/}\r\n          <Route exact path=\"/dev\" component={Auth(DevPage, 0)} />\r\n\r\n          <Route\r\n            exact\r\n            path=\"/oauth/kakao/callback\"\r\n            component={Auth(KakaoOAuthPage, 2)}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/oauth/facebook\"\r\n            component={Auth(FacebookOAuthPage, 2)}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/oauth/naver\"\r\n            component={Auth(NaverOAuthPage, 2)}\r\n          />\r\n          <Route exact path=\"/auth\" component={Auth(PhoneNumberAuthPage, 2)} />\r\n          <Route exact path=\"/signin\" component={Auth(SigninPage, 2)} />\r\n          <Route exact path=\"/signup\" component={Auth(SignupPage, 2)} />\r\n        </Switch>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <TopNav></TopNav>\r\n        <SearchNav></SearchNav>\r\n        <Switch>\r\n          {/* 코드 테스트 페이지 */}\r\n          <Route path=\"/test\" component={Auth(TestPage, 0)} />\r\n\r\n          {/* 검색 결과 */}\r\n          <Route path=\"/search\" component={Auth(SearchPage, 0)} />\r\n\r\n          {/* 유저 설정 */}\r\n          <Route path=\"/setting\" component={Auth(SettingPage, 1)} />\r\n\r\n          {/* 벼락톡 */}\r\n          <Route exact path=\"/talk\" component={Auth(TalkPage, 1)} />\r\n          <Route path=\"/talk/:sellerId\" component={Auth(TalkPage, 1)} />\r\n\r\n          {/* 상품 페이지들은 로그인 안한 유저 접근불가 따로 적용함 */}\r\n          <Route path=\"/product/new\" component={ProductNewPage} />\r\n          <Route path=\"/product/new-ai\" component={ProductAINewPage} />\r\n          <Route path=\"/product/manage\" component={ProductManagePage} />\r\n          <Route\r\n            path=\"/product/:productId\"\r\n            component={Auth(ProductDetailPage, 0)}\r\n          />\r\n\r\n          <Route exact path=\"/shop/:shopId/\" component={Auth(MyShopPage, 0)} />\r\n          <Route exact path=\"/\" component={Auth(LandingPage, 0)} />\r\n        </Switch>\r\n        <Footer></Footer>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Layout);\r\n","import \"./App.css\";\r\nimport { BrowserRouter, Route, Switch, Link, Redirect } from \"react-router-dom\";\r\nimport MainPage from \"./layouts\";\r\nimport Auth from \"./hoc/Auth\";\r\nimport Layout from \"./layouts\";\r\nimport DevPage from \"./page/DevPage\";\r\nimport React from \"react\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        {/* 개발전용 페이지 */}\r\n        <Route exact path=\"/\" component={Auth(Layout)} />\r\n        <Route path=\"/:page\" component={Layout} />\r\n        <Redirect from=\"*\" to=\"/\"></Redirect>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { SIGNUP_PROCESS_USER, AUTH_USER } from \"../_actions/types.js\";\r\n\r\nconst initialState = {\r\n  isSignin: {\r\n    success: false,\r\n  },\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SIGNUP_PROCESS_USER:\r\n      return { phoneNumber: action.payload };\r\n    case AUTH_USER:\r\n      return { ...state, isSignin: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SHOW_SIGNIN_MODAL, CLOSE_SIGNIN_MODAL } from \"../_actions/types.js\";\r\n\r\nconst initialState = {\r\n  show: false,\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SHOW_SIGNIN_MODAL:\r\n      return { show: true };\r\n    case CLOSE_SIGNIN_MODAL:\r\n      return { show: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./user_reducer\";\r\nimport signinModal from \"./signin_modal_reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user,\r\n  signinModal,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport promiseMiddleware from \"redux-promise\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport Reducer from \"./_reducers\";\r\nimport dotenv from \"dotenv\";\r\nimport { CookiesProvider } from \"react-cookie\";\r\nimport axios from \"axios\";\r\ndotenv.config();\r\n\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.baseURL = process.env.REACT_APP_BASE_URL;\r\nconsole.log(\"process env >> \", process.env.REACT_APP_BASE_URL);\r\n// axios.defaults.baseURL = \"http://localhost:8000\";\r\n// axios.defaults.baseURL = \"https://localhost:8000\";\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(\r\n  promiseMiddleware,\r\n  ReduxThunk\r\n)(createStore);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CookiesProvider>\r\n      <Provider\r\n        store={createStoreWithMiddleware(\r\n          Reducer,\r\n          window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n            window.__REDUX_DEVTOOLS_EXTENSION__()\r\n        )}\r\n      >\r\n        <App />\r\n      </Provider>\r\n    </CookiesProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}